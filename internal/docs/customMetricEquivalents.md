| **Container Insights Metric**                       | **Prometheus Equivalent**                                                                                             |
|-----------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **cpuUsageMillicores**                              | `rate(container_cpu_usage_seconds_total[5m]) * 1000`                                                                                                        |
| **cpuUsagePercentage**                              | `100 * rate(container_cpu_usage_seconds_total{cluster="$cluster"}[5m])`                                                                                      |
| **cpuUsageAllocatablePercentage**                   | `100 * ( sum by (cluster) (node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{cluster="$cluster"}) / sum by (cluster) (instance:node_num_cpu:sum{cluster="$cluster"}) )` |
| **memoryRssBytes**                                  | `container_memory_rss{cluster="$cluster"}`                                                                                                                   |
| **memoryRssPercentage**                             | `100 * (sum by (instance, cluster) (container_memory_rss{job="cadvisor", cluster="$cluster"}) / sum by (instance, cluster) (machine_memory_bytes{job="cadvisor", cluster="$cluster"}))`             |
| **memoryRssAllocatablePercentage**                  | `100 * (sum by (node, cluster) (container_memory_rss{cluster="$cluster"}) / sum by (node, cluster) (node_memory_MemTotal_bytes{cluster="$cluster"}))`         |
| **memoryWorkingSetBytes**                           | `container_memory_working_set_bytes{cluster="$cluster"}`                                                                                                      |
| **memoryWorkingSetPercentage**                      | `100 * (sum by (node, cluster) (container_memory_working_set_bytes{cluster="$cluster"}) / sum by (node, cluster) (node_memory_MemTotal_bytes{cluster="$cluster"}))` |
| **nodesCount**                                      | `count(kube_node_status_condition{condition="Ready", status="true", cluster="$cluster"})`                                                                    |
| **diskUsedPercentage**                              | `100 * (node_filesystem_size_bytes{cluster="$cluster"} - node_filesystem_free_bytes{cluster="$cluster"}) / node_filesystem_size_bytes{cluster="$cluster"}`   |
| **podCount**                                        | `count(count by (pod, namespace, cluster) (kube_pod_info{cluster="$cluster"}))`                                                                              |
| **completedJobsCount**                              | `count(kube_job_status_succeeded{status="true", cluster="$cluster"} and time() - kube_job_status_start_time > 6 * 3600)`                                      |
| **restartingContainerCount**                        | `sum by(container, namespace, cluster) (rate(kube_pod_container_status_restarts_total{cluster="$cluster"}[5m]))`                                             |
| **oomKilledContainerCount**                         | `sum by(container, namespace, cluster) (kube_pod_container_status_terminated_reason{reason="OOMKilled", cluster="$cluster"})`                                 |
| **podReadyPercentage**                              | `100 * (sum(kube_pod_status_phase{phase="Running", cluster="$cluster"}) by (namespace, cluster) / sum(kube_pod_status_phase{phase!="Succeeded", cluster="$cluster"}) by (namespace, cluster))`      |
