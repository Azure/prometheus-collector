I have followed this [doc](https://eng.ms/docs/more/containers-secure-supply-chain/signing).
[This](https://ms.portal.azure.com/#view/Microsoft_AAD_RegisteredApps/ApplicationMenuBlade/~/Overview/quickStartType~/null/sourceType/Microsoft_AAD_IAM/appId/73f8d5f9-b507-497f-b698-4ed00fcba5a3/objectId/cd14f76f-2797-4192-927e-65b7e37e9c26/isMSAApp~/false/defaultBlade/Overview/appSignInAudience/AzureADMyOrg/servicePrincipalCreated~/true) is the ESRP app registration created for ESRP connection, [it](https://ms.portal.azure.com/#view/Microsoft_AAD_RegisteredApps/ApplicationMenuBlade/~/Credentials/quickStartType~/null/sourceType/Microsoft_AAD_IAM/appId/73f8d5f9-b507-497f-b698-4ed00fcba5a3/objectId/cd14f76f-2797-4192-927e-65b7e37e9c26/isMSAApp~/false/defaultBlade/Overview/appSignInAudience/AzureADMyOrg/servicePrincipalCreated~/true) has the client secret authentication key for the AAD App ID which is used by the ADO task.

[This](https://github-private.visualstudio.com/azure/_settings/adminservices?resourceId=91213571-9b46-4675-91d5-fd997630bda6) is the service connection created for ESRP. All these steps are given [here](https://microsoft.sharepoint.com/teams/prss/Codesign/SitePages/ESRP%20ADO.aspx).

[This](https://ms.portal.azure.com/#@MSAzureCloud.onmicrosoft.com/resource/subscriptions/30c56c3a-54da-46ea-b004-06eb33432687/resourceGroups/ESRPPrometheusKVProd/providers/Microsoft.KeyVault/vaults/ESRPPrometheusKVProd/overview) is the Key vault in which the prod AME certificate is stored through which the container image is signed.

[This](https://portal.esrp.microsoft.com/Onboarding/AccountDetails?clientId=73f8d5f9-b507-497f-b698-4ed00fcba5a3) is the ESRP registration client created for signing Prometheus images. The approved ESRP sign key code CP-469451 is used for signing as mentioned in [doc](https://eng.ms/docs/more/containers-secure-supply-chain/signing).

For verification of signing we can do through 2 ways.

1. Locally through the doc https://eng.ms/docs/more/containers-secure-supply-chain/signing under validation section using notation. We have to use our own [certificate](https://ms.portal.azure.com/#view/Microsoft_Azure_KeyVault/ListObjectVersionsRBACBlade/~/overview/objectType/certificates/objectId/https%3A%2F%2Fesrpprometheuskv.vault.azure.net%2Fcertificates%2FESRPReqPrometheusCert/vaultResourceUri/%2Fsubscriptions%2F9b96ebbd-c57a-42d1-bbe9-b69296e4c7fb%2FresourceGroups%2FESRPPrometheus%2Fproviders%2FMicrosoft.KeyVault%2Fvaults%2FESRPPrometheusKV/vaultId/%2Fsubscriptions%2F9b96ebbd-c57a-42d1-bbe9-b69296e4c7fb%2FresourceGroups%2FESRPPrometheus%2Fproviders%2FMicrosoft.KeyVault%2Fvaults%2FESRPPrometheusKV) instead of the one in the example.
2. We can do a docker pull on the signed images and it will not have the following error message - "manifest verification failed for digest sha256..."
