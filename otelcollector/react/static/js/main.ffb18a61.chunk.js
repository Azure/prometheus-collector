(this.webpackJsonpgraph=this.webpackJsonpgraph||[]).push([[0],{100:function(e,t){},129:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.retrieveAllRecursiveNodes=t.containsChild=t.containsAtLeastOneChild=t.walkThrough=t.walkBackward=t.Parser=t.labelMatchersToString=t.buildLabelMatchers=void 0;var a=n(130);Object.defineProperty(t,"buildLabelMatchers",{enumerable:!0,get:function(){return a.buildLabelMatchers}}),Object.defineProperty(t,"labelMatchersToString",{enumerable:!0,get:function(){return a.labelMatchersToString}});var r=n(220);Object.defineProperty(t,"Parser",{enumerable:!0,get:function(){return r.Parser}});var i=n(78);Object.defineProperty(t,"walkBackward",{enumerable:!0,get:function(){return i.walkBackward}}),Object.defineProperty(t,"walkThrough",{enumerable:!0,get:function(){return i.walkThrough}}),Object.defineProperty(t,"containsAtLeastOneChild",{enumerable:!0,get:function(){return i.containsAtLeastOneChild}}),Object.defineProperty(t,"containsChild",{enumerable:!0,get:function(){return i.containsChild}}),Object.defineProperty(t,"retrieveAllRecursiveNodes",{enumerable:!0,get:function(){return i.retrieveAllRecursiveNodes}})},130:function(e,t,n){"use strict";var a=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.labelMatchersToString=t.buildLabelMatchers=void 0;var r=n(61),i=n(77);t.buildLabelMatchers=function(e,t){var n=[];return e.forEach((function(e){n.push(function(e,t){var n=new i.Matcher(0,"",""),a=e.cursor;if(!a.next())return n;do{switch(a.type.id){case r.LabelName:n.name=t.sliceDoc(a.from,a.to);break;case r.MatchOp:var o=a.node.firstChild;o&&(n.type=o.type.id);break;case r.StringLiteral:n.value=t.sliceDoc(a.from,a.to).slice(1,-1)}}while(a.nextSibling());return n}(e,t))})),n},t.labelMatchersToString=function(e,t,n){var i,o;if(!t||0===t.length)return e;var c="";try{for(var s=a(t),l=s.next();!l.done;l=s.next()){var u=l.value;if(u.name!==n&&""!==u.value){var d="";switch(u.type){case r.EqlSingle:d="=";break;case r.Neq:d="!=";break;case r.NeqRegex:d="!~";break;case r.EqlRegex:d="=~";break;default:d="="}var h="".concat(u.name).concat(d,'"').concat(u.value,'"');c=""===c?h:"".concat(c,",").concat(h)}}}catch(p){i={error:p}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return"".concat(e,"{").concat(c,"}")}},146:function(e,t){},152:function(e,t){},165:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newCompleteStrategy=void 0;var a=n(216),r=n(224);t.newCompleteStrategy=function(e){return(null===e||void 0===e?void 0:e.completeStrategy)?e.completeStrategy:(null===e||void 0===e?void 0:e.remote)?function(e){var t=e;return void 0!==t.url||void 0!==t.lookbackInterval||void 0!==t.httpErrorHandler||void 0!==t.fetchFn||void 0!==t.cache||void 0!==t.httpMethod||void 0!==t.apiPrefix}(e.remote)?new a.HybridComplete(new r.CachedPrometheusClient(new r.HTTPPrometheusClient(e.remote),e.remote.cache),e.maxMetricsMetadata):new a.HybridComplete(e.remote,e.maxMetricsMetadata):new a.HybridComplete}},175:function(e,t,n){e.exports={discovered:"TargetLabels_discovered__2eSl4"}},216:function(e,t,n){"use strict";var a=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(c){r={error:c}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o},r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var a,r=0,i=t.length;r<i;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},i=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.HybridComplete=t.analyzeCompletion=t.computeStartCompletePosition=t.ContextKind=void 0;var o,c=n(61),s=n(129),l=n(223),u=n(23),d={matchOp:l.matchOpTerms,binOp:l.binOpTerms,duration:l.durationTerms,binOpModifier:l.binOpModifierTerms,atModifier:l.atModifierTerms,functionIdentifier:l.functionIdentifierTerms,aggregateOp:l.aggregateOpTerms,aggregateOpModifier:l.aggregateOpModifierTerms,number:l.numberTerms};function h(e,t){var n=(0,s.walkBackward)(e,c.VectorSelector);return n&&(n=(0,s.walkThrough)(n,c.MetricIdentifier,c.Identifier))?t.sliceDoc(n.from,n.to):""}function p(e,t){var n,a,r,i,o,l,u=e.from;return e.type.id===c.LabelMatchers||e.type.id===c.GroupingLabels?u=function(e,t){var n=e.from+1;return null!==e.firstChild&&(n=t),n}(e,t):e.type.id===c.FunctionCallBody||e.type.id===c.StringLiteral&&(null===(n=e.parent)||void 0===n?void 0:n.type.id)===c.LabelMatcher?u++:(e.type.id===c.OffsetExpr||e.type.id===c.NumberLiteral&&0===(null===(a=e.parent)||void 0===a?void 0:a.type.id)&&(null===(r=e.parent.parent)||void 0===r?void 0:r.type.id)===c.SubqueryExpr||0===e.type.id&&((null===(i=e.parent)||void 0===i?void 0:i.type.id)===c.OffsetExpr||(null===(o=e.parent)||void 0===o?void 0:o.type.id)===c.MatrixSelector||(null===(l=e.parent)||void 0===l?void 0:l.type.id)===c.SubqueryExpr&&(0,s.containsAtLeastOneChild)(e.parent,c.Duration)))&&(u=t),u}function f(e,t){var n,a,r,i,u,d,p,f,m,b,g,v,y,O,x,j,k=[];switch(t.type.id){case 0:if((null===(n=t.parent)||void 0===n?void 0:n.type.id)===c.OffsetExpr){k.push({kind:o.Duration});break}if((null===(a=t.parent)||void 0===a?void 0:a.type.id)===c.LabelMatcher){k.push({kind:o.MatchOp});break}if((null===(r=t.parent)||void 0===r?void 0:r.type.id)===c.MatrixSelector){k.push({kind:o.Duration});break}if((null===(i=t.parent)||void 0===i?void 0:i.type.id)===c.SubqueryExpr&&(0,s.containsAtLeastOneChild)(t.parent,c.Duration)){k.push({kind:o.Duration});break}var T=e.sliceDoc(t.from,t.to);l.binOpTerms.filter((function(e){return e.label.includes(T)})).length>0&&k.push({kind:o.BinOp});break;case c.Identifier:if(0===(null===(u=t.parent)||void 0===u?void 0:u.type.id)){var w=t.parent.parent;if((null===w||void 0===w?void 0:w.type.id)===c.StepInvariantExpr){k.push({kind:o.AtModifiers});break}if((null===w||void 0===w?void 0:w.type.id)===c.AggregateExpr){k.push({kind:o.AggregateOpModifier},{kind:o.BinOp});break}if((null===w||void 0===w?void 0:w.type.id)===c.VectorSelector){var _=h(t,e);l.aggregateOpTerms.filter((function(e){return e.label===_})).length>0&&k.push({kind:o.AggregateOpModifier}),k.push({kind:o.BinOp},{kind:o.Offset});break}if(w&&(0,s.containsChild)(w,c.Expr)){k.push({kind:o.BinOp},{kind:o.Offset});break}}var S=null===(f=null===(p=null===(d=t.parent)||void 0===d?void 0:d.parent)||void 0===p?void 0:p.parent)||void 0===f?void 0:f.parent;if(!S){k.push({kind:o.MetricName,metricName:e.sliceDoc(t.from,t.to)});break}(0,s.containsChild)(S,c.Expr,c.Expr)?S.type.id!==c.BinaryExpr||(0,s.containsAtLeastOneChild)(S,0)||(k.push({kind:o.MetricName,metricName:e.sliceDoc(t.from,t.to)},{kind:o.Function},{kind:o.Aggregation},{kind:o.BinOpModifier},{kind:o.Number}),(0,s.containsAtLeastOneChild)(S,c.Eql,c.Gte,c.Gtr,c.Lte,c.Lss,c.Neq)&&!(0,s.walkThrough)(S,c.BinModifiers,c.Bool)&&k.push({kind:o.Bool})):(k.push({kind:o.MetricName,metricName:e.sliceDoc(t.from,t.to)},{kind:o.Function},{kind:o.Aggregation}),S.type.id!==c.FunctionCallArgs&&S.type.id!==c.MatrixSelector&&k.push({kind:o.Number}));break;case c.PromQL:null!==t.firstChild&&0===t.firstChild.type.id&&k.push({kind:o.MetricName,metricName:""},{kind:o.Function},{kind:o.Aggregation},{kind:o.Number});break;case c.GroupingLabels:k.push({kind:o.LabelName});break;case c.LabelMatchers:k.push({kind:o.LabelName,metricName:h(t,e)});break;case c.LabelName:(null===(m=t.parent)||void 0===m?void 0:m.type.id)===c.GroupingLabel?k.push({kind:o.LabelName}):(null===(b=t.parent)||void 0===b?void 0:b.type.id)===c.LabelMatcher&&k.push({kind:o.LabelName,metricName:h(t,e)});break;case c.StringLiteral:if((null===(g=t.parent)||void 0===g?void 0:g.type.id)===c.LabelMatcher){var C="";(null===(v=t.parent.firstChild)||void 0===v?void 0:v.type.id)===c.LabelName&&(C=e.sliceDoc(t.parent.firstChild.from,t.parent.firstChild.to));var M=h(t,e),P=(0,s.buildLabelMatchers)((0,s.retrieveAllRecursiveNodes)((0,s.walkBackward)(t,c.LabelMatchList),c.LabelMatchList,c.LabelMatcher),e);k.push({kind:o.LabelValue,metricName:M,labelName:C,matchers:P})}break;case c.NumberLiteral:0===(null===(y=t.parent)||void 0===y?void 0:y.type.id)&&(null===(O=t.parent.parent)||void 0===O?void 0:O.type.id)===c.SubqueryExpr?k.push({kind:o.Duration}):k.push({kind:o.Number});break;case c.Duration:case c.OffsetExpr:k.push({kind:o.Duration});break;case c.FunctionCallBody:k.push({kind:o.MetricName,metricName:""},{kind:o.Function},{kind:o.Aggregation});break;case c.Neq:(null===(x=t.parent)||void 0===x?void 0:x.type.id)===c.MatchOp?k.push({kind:o.MatchOp}):(null===(j=t.parent)||void 0===j?void 0:j.type.id)===c.BinaryExpr&&k.push({kind:o.BinOp});break;case c.EqlSingle:case c.EqlRegex:case c.NeqRegex:case c.MatchOp:k.push({kind:o.MatchOp});break;case c.Pow:case c.Mul:case c.Div:case c.Mod:case c.Add:case c.Sub:case c.Eql:case c.Gte:case c.Gtr:case c.Lte:case c.Lss:case c.And:case c.Unless:case c.Or:case c.BinaryExpr:k.push({kind:o.BinOp})}return k}!function(e){e[e.MetricName=0]="MetricName",e[e.LabelName=1]="LabelName",e[e.LabelValue=2]="LabelValue",e[e.Function=3]="Function",e[e.Aggregation=4]="Aggregation",e[e.BinOpModifier=5]="BinOpModifier",e[e.BinOp=6]="BinOp",e[e.MatchOp=7]="MatchOp",e[e.AggregateOpModifier=8]="AggregateOpModifier",e[e.Duration=9]="Duration",e[e.Offset=10]="Offset",e[e.Bool=11]="Bool",e[e.AtModifiers=12]="AtModifiers",e[e.Number=13]="Number"}(o=t.ContextKind||(t.ContextKind={})),t.computeStartCompletePosition=p,t.analyzeCompletion=f;var m=function(){function e(e,t){void 0===t&&(t=1e4),this.prometheusClient=e,this.maxMetricsMetadata=t}return e.prototype.getPrometheusClient=function(){return this.prometheusClient},e.prototype.promQL=function(e){var t,n,c=this,s=e.state,h=e.pos,m=(0,u.syntaxTree)(s).resolve(h,-1),b=f(s,m),g=Promise.resolve([]),v=!1,y=!0,O=function(e){switch(e.kind){case o.Aggregation:v=!0,g=g.then((function(e){return e.concat(d.aggregateOp)}));break;case o.Function:v=!0,g=g.then((function(e){return e.concat(d.functionIdentifier)}));break;case o.BinOpModifier:g=g.then((function(e){return e.concat(d.binOpModifier)}));break;case o.BinOp:g=g.then((function(e){return e.concat(d.binOp)}));break;case o.MatchOp:g=g.then((function(e){return e.concat(d.matchOp)}));break;case o.AggregateOpModifier:g=g.then((function(e){return e.concat(d.aggregateOpModifier)}));break;case o.Duration:y=!1,g=g.then((function(e){return e.concat(d.duration)}));break;case o.Offset:g=g.then((function(e){return e.concat([{label:"offset"}])}));break;case o.Bool:g=g.then((function(e){return e.concat([{label:"bool"}])}));break;case o.AtModifiers:g=g.then((function(e){return e.concat(d.atModifier)}));break;case o.Number:g=g.then((function(e){return e.concat(d.number)}));break;case o.MetricName:g=g.then((function(t){return c.autocompleteMetricName(t,e)}));break;case o.LabelName:g=g.then((function(t){return c.autocompleteLabelName(t,e)}));break;case o.LabelValue:g=g.then((function(t){return c.autocompleteLabelValue(t,e)}))}};try{for(var x=i(b),j=x.next();!j.done;j=x.next()){O(j.value)}}catch(k){t={error:k}}finally{try{j&&!j.done&&(n=x.return)&&n.call(x)}finally{if(t)throw t.error}}return g.then((function(e){return function(e,t,n,i,o){void 0===i&&(i=!1),void 0===o&&(o=!0);var c=e;return i&&c.push.apply(c,r([],a(l.snippets),!1)),{from:t,to:n,options:c,span:o?/^[a-zA-Z0-9_:]+$/:void 0}}(e,p(m,h),h,v,y)}))},e.prototype.autocompleteMetricName=function(e,t){var n=this;if(!this.prometheusClient)return e;var r=new Map;return this.prometheusClient.metricNames(t.metricName).then((function(e){var t,a,o;try{for(var c=i(e),s=c.next();!s.done;s=c.next()){var l=s.value;r.set(l,{label:l,type:"constant"})}}catch(u){t={error:u}}finally{try{s&&!s.done&&(a=c.return)&&a.call(c)}finally{if(t)throw t.error}}if(e.length<=n.maxMetricsMetadata)return null===(o=n.prometheusClient)||void 0===o?void 0:o.metricMetadata()})).then((function(t){var n,o,c,s;if(t)try{for(var l=i(r),u=l.next();!u.done;u=l.next()){var d=a(u.value,2),h=d[0],p=d[1],f=t[h.replace(/(_count|_sum|_bucket)$/,"")];if(f)if(f.length>1)try{for(var m=(c=void 0,i(f)),b=m.next();!b.done;b=m.next()){var g=b.value;""===p.detail?p.detail=g.type:p.detail!==g.type&&(p.detail="unknown",p.info="multiple different definitions for this metric"),""===p.info?p.info=g.help:p.info!==g.help&&(p.info="multiple different definitions for this metric")}}catch(x){c={error:x}}finally{try{b&&!b.done&&(s=m.return)&&s.call(m)}finally{if(c)throw c.error}}else if(1===f.length){var v=f[0],y=v.type,O=v.help;"histogram"!==y&&"summary"!==y||(h.endsWith("_count")&&(y="counter",O="The total number of observations for: ".concat(O)),h.endsWith("_sum")&&(y="counter",O="The total sum of observations for: ".concat(O)),h.endsWith("_bucket")&&(y="counter",O="The total count of observations for a bucket in the histogram: ".concat(O))),p.detail=y,p.info=O}}}catch(j){n={error:j}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}return e.concat(Array.from(r.values()))}))},e.prototype.autocompleteLabelName=function(e,t){return this.prometheusClient?this.prometheusClient.labelNames(t.metricName).then((function(t){return e.concat(t.map((function(e){return{label:e,type:"constant"}})))})):e},e.prototype.autocompleteLabelValue=function(e,t){return this.prometheusClient&&t.labelName?this.prometheusClient.labelValues(t.labelName,t.metricName,t.matchers).then((function(t){return e.concat(t.map((function(e){return{label:e,type:"text"}})))})):e},e}();t.HybridComplete=m},217:function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.getFunction=t.ValueType=void 0;var r,i=n(61);!function(e){e.none="none",e.vector="vector",e.scalar="scalar",e.matrix="matrix",e.string="string"}(r=t.ValueType||(t.ValueType={}));var o=((a={})[i.Abs]={name:"abs",argTypes:[r.vector],variadic:0,returnType:r.vector},a[i.Absent]={name:"absent",argTypes:[r.vector],variadic:0,returnType:r.vector},a[i.AbsentOverTime]={name:"absent_over_time",argTypes:[r.matrix],variadic:0,returnType:r.vector},a[i.Acos]={name:"acos",argTypes:[r.vector],variadic:0,returnType:r.vector},a[i.Acosh]={name:"acosh",argTypes:[r.vector],variadic:0,returnType:r.vector},a[i.Asin]={name:"asin",argTypes:[r.vector],variadic:0,returnType:r.vector},a[i.Asinh]={name:"asinh",argTypes:[r.vector],variadic:0,returnType:r.vector},a[i.Atan]={name:"atan",argTypes:[r.vector],variadic:0,returnType:r.vector},a[i.Atanh]={name:"atanh",argTypes:[r.vector],variadic:0,returnType:r.vector},a[i.AvgOverTime]={name:"avg_over_time",argTypes:[r.matrix],variadic:0,returnType:r.vector},a[i.Ceil]={name:"ceil",argTypes:[r.vector],variadic:0,returnType:r.vector},a[i.Changes]={name:"changes",argTypes:[r.matrix],variadic:0,returnType:r.vector},a[i.Clamp]={name:"clamp",argTypes:[r.vector,r.scalar,r.scalar],variadic:0,returnType:r.vector},a[i.ClampMax]={name:"clamp_max",argTypes:[r.vector,r.scalar],variadic:0,returnType:r.vector},a[i.ClampMin]={name:"clamp_min",argTypes:[r.vector,r.scalar],variadic:0,returnType:r.vector},a[i.Cos]={name:"cos",argTypes:[r.vector],variadic:0,returnType:r.vector},a[i.Cosh]={name:"Cosh",argTypes:[r.vector],variadic:0,returnType:r.vector},a[i.CountOverTime]={name:"count_over_time",argTypes:[r.matrix],variadic:0,returnType:r.vector},a[i.DaysInMonth]={name:"days_in_month",argTypes:[r.vector],variadic:1,returnType:r.vector},a[i.DayOfMonth]={name:"day_of_month",argTypes:[r.vector],variadic:1,returnType:r.vector},a[i.DayOfWeek]={name:"day_of_week",argTypes:[r.vector],variadic:1,returnType:r.vector},a[i.Deg]={name:"deg",argTypes:[r.vector],variadic:0,returnType:r.vector},a[i.Delta]={name:"delta",argTypes:[r.matrix],variadic:0,returnType:r.vector},a[i.Deriv]={name:"deriv",argTypes:[r.matrix],variadic:0,returnType:r.vector},a[i.Exp]={name:"exp",argTypes:[r.vector],variadic:0,returnType:r.vector},a[i.Floor]={name:"floor",argTypes:[r.vector],variadic:0,returnType:r.vector},a[i.HistogramQuantile]={name:"histogram_quantile",argTypes:[r.scalar,r.vector],variadic:0,returnType:r.vector},a[i.HoltWinters]={name:"holt_winters",argTypes:[r.matrix,r.scalar,r.scalar],variadic:0,returnType:r.vector},a[i.Hour]={name:"hour",argTypes:[r.vector],variadic:1,returnType:r.vector},a[i.Idelta]={name:"idelta",argTypes:[r.matrix],variadic:0,returnType:r.vector},a[i.Increase]={name:"increase",argTypes:[r.matrix],variadic:0,returnType:r.vector},a[i.Irate]={name:"irate",argTypes:[r.matrix],variadic:0,returnType:r.vector},a[i.LabelReplace]={name:"label_replace",argTypes:[r.vector,r.string,r.string,r.string,r.string],variadic:0,returnType:r.vector},a[i.LabelJoin]={name:"label_join",argTypes:[r.vector,r.string,r.string,r.string],variadic:-1,returnType:r.vector},a[i.LastOverTime]={name:"last_over_time",argTypes:[r.matrix],variadic:0,returnType:r.vector},a[i.Ln]={name:"ln",argTypes:[r.vector],variadic:0,returnType:r.vector},a[i.Log10]={name:"log10",argTypes:[r.vector],variadic:0,returnType:r.vector},a[i.Log2]={name:"log2",argTypes:[r.vector],variadic:0,returnType:r.vector},a[i.MaxOverTime]={name:"max_over_time",argTypes:[r.matrix],variadic:0,returnType:r.vector},a[i.MinOverTime]={name:"min_over_time",argTypes:[r.matrix],variadic:0,returnType:r.vector},a[i.Minute]={name:"minute",argTypes:[r.vector],variadic:1,returnType:r.vector},a[i.Month]={name:"month",argTypes:[r.vector],variadic:1,returnType:r.vector},a[i.Pi]={name:"pi",argTypes:[],variadic:0,returnType:r.vector},a[i.PredictLinear]={name:"predict_linear",argTypes:[r.matrix,r.scalar],variadic:0,returnType:r.vector},a[i.PresentOverTime]={name:"present_over_time",argTypes:[r.matrix],variadic:0,returnType:r.vector},a[i.QuantileOverTime]={name:"quantile_over_time",argTypes:[r.scalar,r.matrix],variadic:0,returnType:r.vector},a[i.Rad]={name:"rad",argTypes:[r.vector],variadic:0,returnType:r.vector},a[i.Rate]={name:"rate",argTypes:[r.matrix],variadic:0,returnType:r.vector},a[i.Resets]={name:"resets",argTypes:[r.matrix],variadic:0,returnType:r.vector},a[i.Round]={name:"round",argTypes:[r.vector,r.scalar],variadic:1,returnType:r.vector},a[i.Scalar]={name:"scalar",argTypes:[r.vector],variadic:0,returnType:r.scalar},a[i.Sgn]={name:"sgn",argTypes:[r.vector],variadic:0,returnType:r.vector},a[i.Sin]={name:"sin",argTypes:[r.vector],variadic:0,returnType:r.vector},a[i.Sinh]={name:"Sinh",argTypes:[r.vector],variadic:0,returnType:r.vector},a[i.Sort]={name:"sort",argTypes:[r.vector],variadic:0,returnType:r.vector},a[i.SortDesc]={name:"sort_desc",argTypes:[r.vector],variadic:0,returnType:r.vector},a[i.Sqrt]={name:"sqrt",argTypes:[r.vector],variadic:0,returnType:r.vector},a[i.StddevOverTime]={name:"stddev_over_time",argTypes:[r.matrix],variadic:0,returnType:r.vector},a[i.StdvarOverTime]={name:"stdvar_over_time",argTypes:[r.matrix],variadic:0,returnType:r.vector},a[i.SumOverTime]={name:"sum_over_time",argTypes:[r.matrix],variadic:0,returnType:r.vector},a[i.Tan]={name:"tan",argTypes:[r.vector],variadic:0,returnType:r.vector},a[i.Tanh]={name:"tanh",argTypes:[r.vector],variadic:0,returnType:r.vector},a[i.Time]={name:"time",argTypes:[],variadic:0,returnType:r.scalar},a[i.Timestamp]={name:"timestamp",argTypes:[r.vector],variadic:0,returnType:r.vector},a[i.Vector]={name:"vector",argTypes:[r.scalar],variadic:0,returnType:r.vector},a[i.Year]={name:"year",argTypes:[r.vector],variadic:1,returnType:r.vector},a);t.getFunction=function(e){return o[e]}},218:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Matcher=void 0;var a=n(61),r=function(){function e(e,t,n){this.type=e,this.name=t,this.value=n}return e.prototype.matchesEmpty=function(){switch(this.type){case a.EqlSingle:return""===this.value;case a.Neq:return""!==this.value;default:return!1}},e}();t.Matcher=r},219:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VectorMatchCardinality=void 0,function(e){e.CardOneToOne="one-to-one",e.CardManyToOne="many-to-one",e.CardOneToMany="one-to-many",e.CardManyToMany="many-to-many"}(t.VectorMatchCardinality||(t.VectorMatchCardinality={}))},220:function(e,t,n){"use strict";var a=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.Parser=void 0;var r=n(61),i=n(78),o=n(221),c=n(130),s=n(23),l=n(77),u=n(222),d=function(){function e(e){this.tree=(0,s.syntaxTree)(e),this.state=e,this.diagnostics=[]}return e.prototype.getDiagnostics=function(){return this.diagnostics.sort((function(e,t){return e.from-t.from}))},e.prototype.analyze=function(){this.checkAST(this.tree.topNode.firstChild),this.diagnoseAllErrorNodes()},e.prototype.diagnoseAllErrorNodes=function(){for(var e=this.tree.cursor();e.next();)if(0===e.type.id&&e.to!==this.tree.topNode.to){var t=e.node.parent;this.diagnostics.push({severity:"error",message:"unexpected expression",from:t?t.from:e.from,to:t?t.to:e.to})}},e.prototype.checkAST=function(e){if(!e)return l.ValueType.none;switch(e.type.id){case r.Expr:return this.checkAST(e.firstChild);case r.AggregateExpr:this.checkAggregationExpr(e);break;case r.BinaryExpr:this.checkBinaryExpr(e);break;case r.FunctionCall:this.checkCallFunction(e);break;case r.ParenExpr:this.checkAST((0,i.walkThrough)(e,r.Expr));break;case r.UnaryExpr:var t=this.checkAST((0,i.walkThrough)(e,r.Expr));t!==l.ValueType.scalar&&t!==l.ValueType.vector&&this.addDiagnostic(e,"unary expression only allowed on expressions of type scalar or instant vector, got ".concat(t));break;case r.SubqueryExpr:var n=this.checkAST((0,i.walkThrough)(e,r.Expr));n!==l.ValueType.vector&&this.addDiagnostic(e,"subquery is only allowed on instant vector, got ".concat(n," in ").concat(e.name," instead"));break;case r.MatrixSelector:this.checkAST((0,i.walkThrough)(e,r.Expr));break;case r.VectorSelector:this.checkVectorSelector(e);break;case r.StepInvariantExpr:var a=this.checkAST((0,i.walkThrough)(e,r.Expr));a!==l.ValueType.vector&&a!==l.ValueType.matrix&&this.addDiagnostic(e,"@ modifier must be preceded by an instant selector vector or range vector selector or a subquery")}return(0,o.getType)(e)},e.prototype.checkAggregationExpr=function(e){var t,n=null===(t=e.firstChild)||void 0===t?void 0:t.firstChild;if(n){var a=(0,i.walkThrough)(e,r.FunctionCallBody,r.FunctionCallArgs,r.Expr);if(a){this.expectType(a,l.ValueType.vector,"aggregation expression");var o=(0,i.walkThrough)(e,r.FunctionCallBody,r.FunctionCallArgs,r.FunctionCallArgs,r.Expr);if(n.type.id===r.Topk||n.type.id===r.Bottomk||n.type.id===r.Quantile){if(!o)return void this.addDiagnostic(e,"no parameter found");this.expectType(o,l.ValueType.scalar,"aggregation parameter")}if(n.type.id===r.CountValues){if(!o)return void this.addDiagnostic(e,"no parameter found");this.expectType(o,l.ValueType.string,"aggregation parameter")}}else this.addDiagnostic(e,"unable to find the parameter for the expression")}else this.addDiagnostic(e,"aggregation operator expected in aggregation expression but got nothing")},e.prototype.checkBinaryExpr=function(e){var t,n,o,c,s=e.firstChild,d=e.lastChild;if(s&&d){var h=this.checkAST(s),p=this.checkAST(d),f=(0,i.walkThrough)(e,r.BinModifiers,r.Bool),m=(0,i.containsAtLeastOneChild)(e,r.Eql,r.Neq,r.Lte,r.Lss,r.Gte,r.Gtr),b=(0,i.containsAtLeastOneChild)(e,r.And,r.Or,r.Unless);f?m||this.addDiagnostic(e,"bool modifier can only be used on comparison operators"):m&&h===l.ValueType.scalar&&p===l.ValueType.scalar&&this.addDiagnostic(e,"comparisons between scalars must use BOOL modifier");var g=(0,u.buildVectorMatching)(this.state,e);if(null!==g&&g.on)try{for(var v=a(g.matchingLabels),y=v.next();!y.done;y=v.next()){var O=y.value;try{for(var x=(o=void 0,a(g.include)),j=x.next();!j.done;j=x.next()){O===j.value&&this.addDiagnostic(e,'label "'.concat(O,'" must not occur in ON and GROUP clause at once'))}}catch(k){o={error:k}}finally{try{j&&!j.done&&(c=x.return)&&c.call(x)}finally{if(o)throw o.error}}}}catch(T){t={error:T}}finally{try{y&&!y.done&&(n=v.return)&&n.call(v)}finally{if(t)throw t.error}}h!==l.ValueType.scalar&&h!==l.ValueType.vector&&this.addDiagnostic(s,"binary expression must contain only scalar and instant vector types"),p!==l.ValueType.scalar&&p!==l.ValueType.vector&&this.addDiagnostic(d,"binary expression must contain only scalar and instant vector types"),h===l.ValueType.vector&&p===l.ValueType.vector||null===g?b&&((null===g||void 0===g?void 0:g.card)!==l.VectorMatchCardinality.CardOneToMany&&(null===g||void 0===g?void 0:g.card)!==l.VectorMatchCardinality.CardManyToOne||this.addDiagnostic(e,"no grouping allowed for set operations"),(null===g||void 0===g?void 0:g.card)!==l.VectorMatchCardinality.CardManyToMany&&this.addDiagnostic(e,"set operations must always be many-to-many")):g.matchingLabels.length>0&&this.addDiagnostic(e,"vector matching only allowed between instant vectors"),h!==l.ValueType.scalar&&p!==l.ValueType.scalar||!b||this.addDiagnostic(e,"set operator not allowed in binary scalar expression")}else this.addDiagnostic(e,"left or right expression is missing in binary expression")},e.prototype.checkCallFunction=function(e){var t,n=null===(t=e.firstChild)||void 0===t?void 0:t.firstChild;if(n){var a=(0,i.retrieveAllRecursiveNodes)((0,i.walkThrough)(e,r.FunctionCallBody),r.FunctionCallArgs,r.Expr),o=(0,l.getFunction)(n.type.id),c=o.argTypes.length;if(0===o.variadic)a.length!==c&&this.addDiagnostic(e,"expected ".concat(c,' argument(s) in call to "').concat(o.name,'", got ').concat(a.length));else{var s=c-1;if(s>a.length)this.addDiagnostic(e,"expected at least ".concat(s,' argument(s) in call to "').concat(o.name,'", got ').concat(a.length));else{var u=s+o.variadic;o.variadic>0&&u<a.length&&this.addDiagnostic(e,"expected at most ".concat(u,' argument(s) in call to "').concat(o.name,'", got ').concat(a.length))}}for(var d=0,h=0;h<a.length;h++){if((d=h)>=o.argTypes.length){if(0===o.variadic)break;d=o.argTypes.length-1}this.expectType(a[h],o.argTypes[d],'call to function "'.concat(o.name,'"'))}}else this.addDiagnostic(e,"function not defined")},e.prototype.checkVectorSelector=function(e){var t=(0,c.buildLabelMatchers)((0,i.retrieveAllRecursiveNodes)((0,i.walkThrough)(e,r.LabelMatchers,r.LabelMatchList),r.LabelMatchList,r.LabelMatcher),this.state),n="",a=(0,i.walkThrough)(e,r.MetricIdentifier,r.Identifier);if(a&&(n=this.state.sliceDoc(a.from,a.to)),""!==n){var o=t.find((function(e){return"__name__"===e.name}));o&&this.addDiagnostic(e,"metric name must not be set twice: ".concat(n," or ").concat(o.value)),t.push(new l.Matcher(r.EqlSingle,"__name__",n))}t.every((function(e){return e.matchesEmpty()}))&&this.addDiagnostic(e,"vector selector must contain at least one non-empty matcher")},e.prototype.expectType=function(e,t,n){var a=this.checkAST(e);a!==t&&this.addDiagnostic(e,"expected type ".concat(t," in ").concat(n,", got ").concat(a))},e.prototype.addDiagnostic=function(e,t){this.diagnostics.push({severity:"error",message:t,from:e.from,to:e.to})},e}();t.Parser=d},221:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getType=void 0;var a=n(61),r=n(78),i=n(77);t.getType=function e(t){var n;if(!t)return i.ValueType.none;switch(t.type.id){case a.Expr:return e(t.firstChild);case a.AggregateExpr:case a.VectorSelector:return i.ValueType.vector;case a.OffsetExpr:return e(t.firstChild);case a.StringLiteral:return i.ValueType.string;case a.NumberLiteral:return i.ValueType.scalar;case a.MatrixSelector:case a.SubqueryExpr:return i.ValueType.matrix;case a.ParenExpr:case a.UnaryExpr:return e((0,r.walkThrough)(t,a.Expr));case a.BinaryExpr:var o=e(t.firstChild),c=e(t.lastChild);return o===i.ValueType.scalar&&c===i.ValueType.scalar?i.ValueType.scalar:i.ValueType.vector;case a.FunctionCall:var s=null===(n=t.firstChild)||void 0===n?void 0:n.firstChild;return s?(0,i.getFunction)(s.type.id).returnType:i.ValueType.none;case a.StepInvariantExpr:return e((0,r.walkThrough)(t,a.Expr));default:return i.ValueType.none}}},222:function(e,t,n){"use strict";var a=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.buildVectorMatching=void 0;var r=n(61),i=n(77),o=n(78);t.buildVectorMatching=function(e,t){var n,c,s,l;if(!t||t.type.id!==r.BinaryExpr)return null;var u={card:i.VectorMatchCardinality.CardOneToOne,matchingLabels:[],on:!1,include:[]},d=t.getChild(r.BinModifiers);if(d){var h=d.getChild(r.OnOrIgnoring);if(h){u.on=null!==h.getChild(r.On);var p=(0,o.retrieveAllRecursiveNodes)(h.getChild(r.GroupingLabels),r.GroupingLabelList,r.GroupingLabel);if(p.length>0)try{for(var f=a(p),m=f.next();!m.done;m=f.next()){var b=m.value;u.matchingLabels.push(e.sliceDoc(b.from,b.to))}}catch(j){n={error:j}}finally{try{m&&!m.done&&(c=f.return)&&c.call(f)}finally{if(n)throw n.error}}}var g=d.getChild(r.GroupLeft),v=d.getChild(r.GroupRight);if(g||v){u.card=g?i.VectorMatchCardinality.CardManyToOne:i.VectorMatchCardinality.CardOneToMany;var y=(0,o.retrieveAllRecursiveNodes)(d.getChild(r.GroupingLabels),r.GroupingLabelList,r.GroupingLabel);if(y.length>0)try{for(var O=a(y),x=O.next();!x.done;x=O.next()){b=x.value;u.include.push(e.sliceDoc(b.from,b.to))}}catch(k){s={error:k}}finally{try{x&&!x.done&&(l=O.return)&&l.call(O)}finally{if(s)throw s.error}}}}return(0,o.containsAtLeastOneChild)(t,r.And,r.Or,r.Unless)&&u.card===i.VectorMatchCardinality.CardOneToOne&&(u.card=i.VectorMatchCardinality.CardManyToMany),u}},223:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.snippets=t.numberTerms=t.aggregateOpModifierTerms=t.aggregateOpTerms=t.functionIdentifierTerms=t.atModifierTerms=t.binOpModifierTerms=t.binOpTerms=t.matchOpTerms=t.durationTerms=void 0;var a=n(44);t.durationTerms=[{label:"y"},{label:"w"},{label:"d"},{label:"h"},{label:"m"},{label:"s"},{label:"ms"}],t.matchOpTerms=[{label:"="},{label:"!="},{label:"=~"},{label:"!~"}],t.binOpTerms=[{label:"^"},{label:"*"},{label:"/"},{label:"%"},{label:"+"},{label:"-"},{label:"=="},{label:">="},{label:">"},{label:"<"},{label:"<="},{label:"!="},{label:"atan2"},{label:"and"},{label:"or"},{label:"unless"}],t.binOpModifierTerms=[{label:"on",info:"Match only on specified labels",type:"keyword"},{label:"ignoring",info:"Ignore specified labels for matching",type:"keyword"},{label:"group_left",info:"Allow many-to-one matching",type:"keyword"},{label:"group_right",info:"Allow one-to-many matching",type:"keyword"}],t.atModifierTerms=[{label:"start()",info:"resolve to the start of the query",type:"keyword"},{label:"end()",info:"resolve to the end of the query",type:"keyword"}],t.functionIdentifierTerms=[{label:"abs",detail:"function",info:"Return absolute values of input series",type:"function"},{label:"absent",detail:"function",info:"Determine whether input vector is empty",type:"function"},{label:"absent_over_time",detail:"function",info:"Determine whether input range vector is empty",type:"function"},{label:"acos",detail:"function",info:"Calculate the arccosine, in radians, for input series",type:"function"},{label:"acosh",detail:"function",info:"Calculate the inverse hyperbolic cosine, in radians, for input series",type:"function"},{label:"asin",detail:"function",info:"Calculate the arcsine, in radians, for input series",type:"function"},{label:"asinh",detail:"function",info:"Calculate the inverse hyperbolic sine, in radians, for input series",type:"function"},{label:"atan",detail:"function",info:"Calculate the arctangent, in radians, for input series",type:"function"},{label:"atanh",detail:"function",info:"Calculate the inverse hyperbolic tangent, in radians, for input series",type:"function"},{label:"avg_over_time",detail:"function",info:"Average series values over time",type:"function"},{label:"ceil",detail:"function",info:"Round up values of input series to nearest integer",type:"function"},{label:"changes",detail:"function",info:"Return number of value changes in input series over time",type:"function"},{label:"clamp",detail:"function",info:"Limit the value of input series between a minimum and a maximum",type:"function"},{label:"clamp_max",detail:"function",info:"Limit the value of input series to a maximum",type:"function"},{label:"clamp_min",detail:"function",info:"Limit the value of input series to a minimum",type:"function"},{label:"cos",detail:"function",info:"Calculate the cosine, in radians, for input series",type:"function",boost:-1},{label:"cosh",detail:"function",info:"Calculate the hyperbolic cosine, in radians, for input series",type:"function",boost:-1},{label:"count_over_time",detail:"function",info:"Count the number of values for each input series",type:"function"},{label:"days_in_month",detail:"function",info:"Return the number of days in current month for provided timestamps",type:"function"},{label:"day_of_month",detail:"function",info:"Return the day of the month for provided timestamps",type:"function"},{label:"day_of_week",detail:"function",info:"Return the day of the week for provided timestamps",type:"function"},{label:"deg",detail:"function",info:"Convert radians to degrees for input series",type:"function",boost:-1},{label:"delta",detail:"function",info:"Calculate the difference between beginning and end of a range vector (for gauges)",type:"function"},{label:"deriv",detail:"function",info:"Calculate the per-second derivative over series in a range vector (for gauges)",type:"function"},{label:"exp",detail:"function",info:"Calculate exponential function for input vector values",type:"function"},{label:"floor",detail:"function",info:"Round down values of input series to nearest integer",type:"function"},{label:"histogram_quantile",detail:"function",info:"Calculate quantiles from histogram buckets",type:"function"},{label:"holt_winters",detail:"function",info:"Calculate smoothed value of input series",type:"function"},{label:"hour",detail:"function",info:"Return the hour of the day for provided timestamps",type:"function"},{label:"idelta",detail:"function",info:"Calculate the difference between the last two samples of a range vector (for counters)",type:"function"},{label:"increase",detail:"function",info:"Calculate the increase in value over a range of time (for counters)",type:"function"},{label:"irate",detail:"function",info:"Calculate the per-second increase over the last two samples of a range vector (for counters)",type:"function"},{label:"label_replace",detail:"function",info:"Set or replace label values",type:"function"},{label:"label_join",detail:"function",info:"Join together label values into new label",type:"function"},{label:"last_over_time",detail:"function",info:"The most recent point value in specified interval.",type:"function"},{label:"ln",detail:"function",info:"Calculate natural logarithm of input series",type:"function"},{label:"log10",detail:"function",info:"Calulcate base-10 logarithm of input series",type:"function"},{label:"log2",detail:"function",info:"Calculate base-2 logarithm of input series",type:"function"},{label:"max_over_time",detail:"function",info:"Return the maximum value over time for input series",type:"function"},{label:"min_over_time",detail:"function",info:"Return the minimum value over time for input series",type:"function"},{label:"minute",detail:"function",info:"Return the minute of the hour for provided timestamps",type:"function"},{label:"month",detail:"function",info:"Return the month for provided timestamps",type:"function"},{label:"pi",detail:"function",info:"Return pi",type:"function"},{label:"predict_linear",detail:"function",info:"Predict the value of a gauge into the future",type:"function"},{label:"present_over_time",detail:"function",info:"the value 1 for any series in the specified interval",type:"function"},{label:"quantile_over_time",detail:"function",info:"Calculate value quantiles over time for input series",type:"function"},{label:"rad",detail:"function",info:"Convert degrees to radians for input series",type:"function",boost:-1},{label:"rate",detail:"function",info:"Calculate per-second increase over a range vector (for counters)",type:"function"},{label:"resets",detail:"function",info:"Return number of value decreases (resets) in input series of time",type:"function"},{label:"round",detail:"function",info:"Round values of input series to nearest integer",type:"function"},{label:"scalar",detail:"function",info:"Convert single-element series vector into scalar value",type:"function"},{label:"sgn",detail:"function",info:"Returns the sign of the instant vector",type:"function"},{label:"sin",detail:"function",info:"Calculate the sine, in radians, for input series",type:"function"},{label:"sinh",detail:"function",info:"Calculate the hyperbolic sine, in radians, for input series",type:"function"},{label:"sort",detail:"function",info:"Sort input series ascendingly by value",type:"function"},{label:"sort_desc",detail:"function",info:"Sort input series descendingly by value",type:"function"},{label:"sqrt",detail:"function",info:"Return the square root for input series",type:"function"},{label:"stddev_over_time",detail:"function",info:"Calculate the standard deviation within input series over time",type:"function"},{label:"stdvar_over_time",detail:"function",info:"Calculate the standard variation within input series over time",type:"function"},{label:"sum_over_time",detail:"function",info:"Calculate the sum over the values of input series over time",type:"function"},{label:"tan",detail:"function",info:"Calculate the tangent, in radians, for input series",type:"function"},{label:"tanh",detail:"function",info:"Calculate the hyperbolic tangent, in radians, for input series",type:"function"},{label:"time",detail:"function",info:"Return the Unix timestamp at the current evaluation time",type:"function"},{label:"timestamp",detail:"function",info:"Return the Unix timestamp for the samples in the input vector",type:"function"},{label:"vector",detail:"function",info:"Convert a scalar value into a single-element series vector",type:"function"},{label:"year",detail:"function",info:"Return the year for provided timestamps",type:"function"}],t.aggregateOpTerms=[{label:"avg",detail:"aggregation",info:"Calculate the average over dimensions",type:"keyword"},{label:"bottomk",detail:"aggregation",info:"Smallest k elements by sample value",type:"keyword"},{label:"count",detail:"aggregation",info:"Count number of elements in the vector",type:"keyword"},{label:"count_values",detail:"aggregation",info:"Count number of elements with the same value",type:"keyword"},{label:"group",detail:"aggregation",info:"Group series, while setting the sample value to 1",type:"keyword"},{label:"max",detail:"aggregation",info:"Select maximum over dimensions",type:"keyword"},{label:"min",detail:"aggregation",info:"Select minimum over dimensions",type:"keyword"},{label:"quantile",detail:"aggregation",info:"Calculate \u03c6-quantile (0 \u2264 \u03c6 \u2264 1) over dimensions",type:"keyword"},{label:"stddev",detail:"aggregation",info:"Calculate population standard deviation over dimensions",type:"keyword"},{label:"stdvar",detail:"aggregation",info:"Calculate population standard variance over dimensions",type:"keyword"},{label:"sum",detail:"aggregation",info:"Calculate sum over dimensions",type:"keyword"},{label:"topk",detail:"aggregation",info:"Largest k elements by sample value",type:"keyword"}],t.aggregateOpModifierTerms=[{label:"by",info:"Keep the listed labels, remove all others.",type:"keyword"},{label:"without",info:"Remove the listed labels, preserve all others.",type:"keyword"}],t.numberTerms=[{label:"nan",info:"Floating-point NaN value",type:"constant"},{label:"inf",info:"Floating-point infinity",type:"constant"}],t.snippets=[{label:"sum(rate(__input_vector__[5m]))",type:"function",detail:"snippet",info:"Sum over rates of increase",apply:(0,a.snippet)("sum(rate(${__input_vector__}[5m]))")},{label:"histogram_quantile(__quantile__, sum by(le) (rate(__histogram_metric__[5m])))",type:"function",detail:"snippet",info:"Approximate a quantile value from an aggregated histogram",apply:(0,a.snippet)("histogram_quantile(${__quantile__}, sum by(le) (rate(${__histogram_metric__}[5m])))")},{label:'label_replace(__input_vector__, "__dst__", "__replacement__", "__src__", "__regex__")',type:"function",detail:"snippet",info:"Set or replace a label value in an input vector",apply:(0,a.snippet)('label_replace(${__input_vector__}, "${__dst__}", "${__replacement__}", "${__src__}", "${__regex__}")')},{label:"topk(__rank_number__, __input_vector__)",type:"function",detail:"snippet",info:"Largest k elements by sample value",apply:(0,a.snippet)("topk(${__rank_number__}, ${__input_vector__})")},{label:"bottomk(__rank_number__, __input_vector__)",type:"function",detail:"snippet",info:"Smallest k elements by sample value",apply:(0,a.snippet)("bottomk(${__rank_number__}, ${__input_vector__})")},{label:'count_values("__label_name__", __input_vector__)',type:"function",detail:"snippet",info:"Count the number of series per distinct sample value",apply:(0,a.snippet)('count_values("${__label_name__}", ${__metric__})')}]},224:function(e,t,n){"use strict";var a=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(c){r={error:c}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CachedPrometheusClient=t.HTTPPrometheusClient=void 0;var o=n(129),c=i(n(83)),s=400,l=422,u=503,d=function(){function e(e){this.lookbackInterval=432e5,this.httpMethod="POST",this.apiPrefix="/api/v1",this.fetchFn=function(e,t){return fetch(e,t)},this.url=e.url?e.url:"",this.errorHandler=e.httpErrorHandler,e.lookbackInterval&&(this.lookbackInterval=e.lookbackInterval),e.fetchFn&&(this.fetchFn=e.fetchFn),e.httpMethod&&(this.httpMethod=e.httpMethod),e.apiPrefix&&(this.apiPrefix=e.apiPrefix)}return e.prototype.labelNames=function(e){var t=this,n=new Date,i=new Date(n.getTime()-this.lookbackInterval);if(void 0===e||""===e){var o=this.buildRequest(this.labelsEndpoint(),new URLSearchParams({start:i.toISOString(),end:n.toISOString()}));return this.fetchAPI(o.uri,{method:this.httpMethod,body:o.body}).catch((function(e){return t.errorHandler&&t.errorHandler(e),[]}))}return this.series(e).then((function(e){var t,n,i,o,c=new Set;try{for(var s=a(e),l=s.next();!l.done;l=s.next()){var u=l.value;try{for(var d=(i=void 0,a(Object.entries(u))),h=d.next();!h.done;h=d.next()){var p=r(h.value,1)[0];"__name__"!==p&&c.add(p)}}catch(f){i={error:f}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}}}catch(m){t={error:m}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return Array.from(c)}))},e.prototype.labelValues=function(e,t,n){var i=this,o=new Date,c=new Date(o.getTime()-this.lookbackInterval);if(!t||0===t.length){var s=new URLSearchParams({start:c.toISOString(),end:o.toISOString()});return this.fetchAPI("".concat(this.labelValuesEndpoint().replace(/:name/gi,e),"?").concat(s)).catch((function(e){return i.errorHandler&&i.errorHandler(e),[]}))}return this.series(t,n,e).then((function(t){var n,i,o,c,s=new Set;try{for(var l=a(t),u=l.next();!u.done;u=l.next()){var d=u.value;try{for(var h=(o=void 0,a(Object.entries(d))),p=h.next();!p.done;p=h.next()){var f=r(p.value,2),m=f[0],b=f[1];"__name__"!==m&&(m===e&&s.add(b))}}catch(g){o={error:g}}finally{try{p&&!p.done&&(c=h.return)&&c.call(h)}finally{if(o)throw o.error}}}}catch(v){n={error:v}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}return Array.from(s)}))},e.prototype.metricMetadata=function(){var e=this;return this.fetchAPI(this.metricMetadataEndpoint()).catch((function(t){return e.errorHandler&&e.errorHandler(t),{}}))},e.prototype.series=function(e,t,n){var a=this,r=new Date,i=new Date(r.getTime()-this.lookbackInterval),c=this.buildRequest(this.seriesEndpoint(),new URLSearchParams({start:i.toISOString(),end:r.toISOString(),"match[]":(0,o.labelMatchersToString)(e,t,n)}));return this.fetchAPI(c.uri,{method:this.httpMethod,body:c.body}).catch((function(e){return a.errorHandler&&a.errorHandler(e),[]}))},e.prototype.metricNames=function(){return this.labelValues("__name__")},e.prototype.fetchAPI=function(e,t){return this.fetchFn(this.url+e,t).then((function(e){if(!e.ok&&![s,l,u].includes(e.status))throw new Error(e.statusText);return e})).then((function(e){return e.json()})).then((function(e){if("error"===e.status)throw new Error(void 0!==e.error?e.error:'missing "error" field in response JSON');if(void 0===e.data)throw new Error('missing "data" field in response JSON');return e.data}))},e.prototype.buildRequest=function(e,t){var n=e,a=t;return"GET"===this.httpMethod&&(n="".concat(n,"?").concat(t),a=null),{uri:n,body:a}},e.prototype.labelsEndpoint=function(){return"".concat(this.apiPrefix,"/labels")},e.prototype.labelValuesEndpoint=function(){return"".concat(this.apiPrefix,"/label/:name/values")},e.prototype.seriesEndpoint=function(){return"".concat(this.apiPrefix,"/series")},e.prototype.metricMetadataEndpoint=function(){return"".concat(this.apiPrefix,"/metadata")},e}();t.HTTPPrometheusClient=d;var h=function(){function e(e){var t=e&&e.maxAge?e.maxAge:3e5;this.completeAssociation=new c.default(t),this.metricMetadata={},this.labelValues=new c.default(t),this.labelNames=[],(null===e||void 0===e?void 0:e.initialMetricList)&&this.setLabelValues("__name__",e.initialMetricList)}return e.prototype.setAssociations=function(e,t){var n=this;t.forEach((function(t){var i,o,c=n.completeAssociation.get(e);c||(c=new Map,n.completeAssociation.set(e,c));try{for(var s=a(Object.entries(t)),l=s.next();!l.done;l=s.next()){var u=r(l.value,2),d=u[0],h=u[1];if("__name__"!==d){var p=c.get(d);void 0===p?c.set(d,new Set([h])):p.add(h)}}}catch(f){i={error:f}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}}))},e.prototype.setMetricMetadata=function(e){this.metricMetadata=e},e.prototype.getMetricMetadata=function(){return this.metricMetadata},e.prototype.setLabelNames=function(e){this.labelNames=e},e.prototype.getLabelNames=function(e){if(!e||0===e.length)return this.labelNames;var t=this.completeAssociation.get(e);return t?Array.from(t.keys()):[]},e.prototype.setLabelValues=function(e,t){this.labelValues.set(e,t)},e.prototype.getLabelValues=function(e,t){if(!t||0===t.length){var n=this.labelValues.get(e);return n||[]}var a=this.completeAssociation.get(t);if(a){var r=a.get(e);return r?Array.from(r):[]}return[]},e}(),p=function(){function e(e,t){this.client=e,this.cache=new h(t)}return e.prototype.labelNames=function(e){var t=this,n=this.cache.getLabelNames(e);return n&&n.length>0?Promise.resolve(n):void 0===e||""===e?this.client.labelNames().then((function(e){return t.cache.setLabelNames(e),e})):this.series(e).then((function(){return t.cache.getLabelNames(e)}))},e.prototype.labelValues=function(e,t){var n=this,a=this.cache.getLabelValues(e,t);return a&&a.length>0?Promise.resolve(a):void 0===t||""===t?this.client.labelValues(e).then((function(t){return n.cache.setLabelValues(e,t),t})):this.series(t).then((function(){return n.cache.getLabelValues(e,t)}))},e.prototype.metricMetadata=function(){var e=this,t=this.cache.getMetricMetadata();return t&&Object.keys(t).length>0?Promise.resolve(t):this.client.metricMetadata().then((function(t){return e.cache.setMetricMetadata(t),e.cache.getMetricMetadata()}))},e.prototype.series=function(e){var t=this;return this.client.series(e).then((function(n){return t.cache.setAssociations(e,n),n}))},e.prototype.metricNames=function(){return this.labelValues("__name__")},e}();t.CachedPrometheusClient=p},228:function(e,t){!function(e){e.color={},e.color.make=function(t,n,a,r){var i={};return i.r=t||0,i.g=n||0,i.b=a||0,i.a=null!=r?r:1,i.add=function(e,t){for(var n=0;n<e.length;++n)i[e.charAt(n)]+=t;return i.normalize()},i.scale=function(e,t){for(var n=0;n<e.length;++n)i[e.charAt(n)]*=t;return i.normalize()},i.toString=function(){return i.a>=1?"rgb("+[i.r,i.g,i.b].join(",")+")":"rgba("+[i.r,i.g,i.b,i.a].join(",")+")"},i.normalize=function(){function e(e,t,n){return t<e?e:t>n?n:t}return i.r=e(0,parseInt(i.r),255),i.g=e(0,parseInt(i.g),255),i.b=e(0,parseInt(i.b),255),i.a=e(0,i.a,1),i},i.clone=function(){return e.color.make(i.r,i.b,i.g,i.a)},i.normalize()},e.color.extract=function(t,n){var a;do{if(""!=(a=t.css(n).toLowerCase())&&"transparent"!=a)break;t=t.parent()}while(t.length&&!e.nodeName(t.get(0),"body"));return"rgba(0, 0, 0, 0)"==a&&(a="transparent"),e.color.parse(a)},e.color.parse=function(n){var a,r=e.color.make;if(a=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(n))return r(parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10));if(a=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n))return r(parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10),parseFloat(a[4]));if(a=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(n))return r(2.55*parseFloat(a[1]),2.55*parseFloat(a[2]),2.55*parseFloat(a[3]));if(a=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n))return r(2.55*parseFloat(a[1]),2.55*parseFloat(a[2]),2.55*parseFloat(a[3]),parseFloat(a[4]));if(a=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(n))return r(parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16));if(a=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(n))return r(parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16));var i=e.trim(n).toLowerCase();return"transparent"==i?r(255,255,255,0):r((a=t[i]||[0,0,0])[0],a[1],a[2])};var t={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(window.jQuery),function(e){var t=Object.prototype.hasOwnProperty;function n(t,n){var a=n.children("."+t)[0];if(null==a&&((a=document.createElement("canvas")).className=t,e(a).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(n),!a.getContext)){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");a=window.G_vmlCanvasManager.initElement(a)}this.element=a;var r=this.context=a.getContext("2d"),i=window.devicePixelRatio||1,o=r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1;this.pixelRatio=i/o,this.resize(n.width(),n.height()),this.textContainer=null,this.text={},this._textCache={},this._textSizeCache=window.flotTextSizeCache=window.flotTextSizeCache||{}}function a(t,a,r,i){var o=[],c={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,eventSectionHeight:0,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},s=null,l=null,u=null,d=null,h=null,p=[],f=[],m={left:0,right:0,top:0,bottom:0},b=0,g=0,v={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],processRange:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},y=this;function O(e,t){t=[y].concat(t);for(var n=0;n<e.length;++n)e[n].apply(this,t)}function x(t){o=function(t){for(var n=[],a=0;a<t.length;++a){var r=e.extend(!0,{},c.series);null!=t[a].data?(r.data=t[a].data,delete t[a].data,e.extend(!0,r,t[a]),t[a].data=r.data):r.data=t[a],n.push(r)}return n}(t),function(){var t,n=o.length,a=-1;for(t=0;t<o.length;++t){var r=o[t].color;null!=r&&(n--,"number"==typeof r&&r>a&&(a=r))}n<=a&&(n=a+1);var i,s=[],l=c.colors,u=l.length,d=0;for(t=0;t<n;t++)i=e.color.parse(l[t%u]||"#666"),t%u==0&&t&&(d=d>=0?d<.5?-d-.2:0:-d),s[t]=i.scale("rgb",1+d);var h,m=0;for(t=0;t<o.length;++t){if(null==(h=o[t]).color?(h.color=s[m].toString(),++m):"number"==typeof h.color&&(h.color=s[h.color].toString()),null==h.lines.show){var b,g=!0;for(b in h)if(h[b]&&h[b].show){g=!1;break}g&&(h.lines.show=!0)}null==h.lines.zero&&(h.lines.zero=!!h.lines.fill),h.xaxis=w(p,j(h,"x")),h.yaxis=w(f,j(h,"y"))}}(),function(){var t,n,a,r,i,c,s,l,u,d,h,p,f=Number.POSITIVE_INFINITY,m=Number.NEGATIVE_INFINITY,b=Number.MAX_VALUE;function g(e,t,n){t<e.datamin&&t!=-b&&(e.datamin=t),n>e.datamax&&n!=b&&(e.datamax=n)}for(e.each(k(),(function(e,t){t.datamin=f,t.datamax=m,t.used=!1})),t=0;t<o.length;++t)(i=o[t]).datapoints={points:[]},O(v.processRawData,[i,i.data,i.datapoints]);for(t=0;t<o.length;++t){if(h=(i=o[t]).data,!(p=i.datapoints.format)){if((p=[]).push({x:!0,number:!0,required:!0}),p.push({y:!0,number:!0,required:!0}),i.stack||i.bars.show||i.lines.show&&i.lines.fill){var y=!!(i.bars.show&&i.bars.zero||i.lines.show&&i.lines.zero);p.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:y}),i.bars.horizontal&&(delete p[p.length-1].y,p[p.length-1].x=!0)}i.datapoints.format=p}if(null==i.datapoints.pointsize){i.datapoints.pointsize=p.length,s=i.datapoints.pointsize,c=i.datapoints.points;var x=i.lines.show&&i.lines.steps;for(i.xaxis.used=i.yaxis.used=!0,n=a=0;n<h.length;++n,a+=s){var j=null==(d=h[n]);if(!j)for(r=0;r<s;++r)l=d[r],(u=p[r])&&(u.number&&null!=l&&(l=+l,isNaN(l)?l=null:l==1/0?l=b:l==-1/0&&(l=-b)),null==l&&(u.required&&(j=!0),null!=u.defaultValue&&(l=u.defaultValue))),c[a+r]=l;if(j)for(r=0;r<s;++r)null!=(l=c[a+r])&&!1!==(u=p[r]).autoscale&&(u.x&&g(i.xaxis,l,l),u.y&&g(i.yaxis,l,l)),c[a+r]=null;if(x&&a>0&&(!j||null!=c[a-s])){for(r=0;r<s;++r)c[a+s+r]=c[a+r];c[a+1]=c[a-s+1]||0,j&&(c[a]=d[0]),a+=s}}}}for(t=0;t<o.length;++t){if(c=(i=o[t]).datapoints.points,s=i.datapoints.pointsize,"negative-Y"===i.transform)for(n=0;n<c.length;n+=s)null!=c[n]&&(l=c[n+1],c[n+1]=-l);O(v.processDatapoints,[i,i.datapoints])}for(t=0;t<o.length;++t){c=(i=o[t]).datapoints.points,s=i.datapoints.pointsize,p=i.datapoints.format;var T=f,w=f,_=m,S=m;for(n=0;n<c.length;n+=s)if(null!=c[n])for(r=0;r<s;++r)l=c[n+r],(u=p[r])&&!1!==u.autoscale&&l!=b&&l!=-b&&(u.x&&(l<T&&(T=l),l>_&&(_=l)),u.y&&(l<w&&(w=l),l>S&&(S=l)));if(i.bars.show){var C;switch(i.bars.align){case"left":C=0;break;case"right":C=-i.bars.barWidth;break;default:C=-i.bars.barWidth/2}i.bars.horizontal?(w+=C,S+=C+i.bars.barWidth):(T+=C,_+=C+i.bars.barWidth)}g(i.xaxis,T,_),g(i.yaxis,w,S)}e.each(k(),(function(e,t){t.datamin==f&&(t.datamin=null),t.datamax==m&&(t.datamax=null)}))}()}function j(e,t){var n=e[t+"axis"];return"object"==typeof n&&(n=n.n),"number"!=typeof n&&(n=1),n}function k(){return e.grep(p.concat(f),(function(e){return e}))}function T(e){var t,n,a={};for(t=0;t<p.length;++t)(n=p[t])&&(a["x"+n.n]=n.c2p(e.left));for(t=0;t<f.length;++t)(n=f[t])&&(a["y"+n.n]=n.c2p(e.top));return void 0!==a.x1&&(a.x=a.x1),void 0!==a.y1&&(a.y=a.y1),a}function w(t,n){return t[n-1]||(t[n-1]={n:n,direction:t==p?"x":"y",options:e.extend(!0,{},t==p?c.xaxis:c.yaxis)}),t[n-1]}function _(){q&&clearTimeout(q),u.unbind("mousemove",F),u.unbind("mouseleave",V),u.unbind("click",z),O(v.shutdown,[u])}function S(e){for(var t=e.options,n=e.ticks||[],a=t.labelWidth||0,r=t.labelHeight||0,i=a||("x"==e.direction?Math.floor(s.width/(n.length||1)):null),o=e.direction+"Axis "+e.direction+e.n+"Axis",c="flot-"+e.direction+"-axis flot-"+e.direction+e.n+"-axis "+o,l=t.font||"flot-tick-label tickLabel",u=0;u<n.length;++u){var d=n[u];if(d.label){var h=s.getTextInfo(c,d.label,l,null,i);a=Math.max(a,h.width+1),r=Math.max(r,h.height)}}e.labelWidth=t.labelWidth||a,e.labelHeight=t.labelHeight||r}function C(t){var n=t.labelWidth,a=t.labelHeight,r=t.options.position,i="x"===t.direction,o=t.options.tickLength,l=c.grid.axisMargin,u=c.grid.labelMargin,d=c.grid.eventSectionHeight,h=!0,b=!0,g=!0,v=!1;e.each(i?p:f,(function(e,n){n&&(n.show||n.reserveSpace)&&(n===t?v=!0:n.options.position===r&&(v?b=!1:h=!1),v||(g=!1))})),b&&(l=0),null==o&&(o=g?"full":5),isNaN(+o)||(u+=+o),i?(a+=u,a+=d,"bottom"==r?(m.bottom+=a+l,t.box={top:s.height-m.bottom,height:a}):(t.box={top:m.top+l,height:a},m.top+=a+l)):(n+=u,"left"==r?(t.box={left:m.left+l,width:n},m.left+=n+l):(m.right+=n+l,t.box={left:s.width-m.right,width:n})),t.position=r,t.tickLength=o,t.box.padding=u,t.box.eventSectionPadding=d,t.innermost=h}function M(){var n,a,r=k(),i=c.grid.show;for(var l in m){var u=c.grid.margin||0;m[l]="number"==typeof u?u:u[l]||0}for(var l in O(v.processOffset,[m]),m)"object"==typeof c.grid.borderWidth?m[l]+=i?c.grid.borderWidth[l]:0:m[l]+=i?c.grid.borderWidth:0;(e.each(r,(function(e,t){var n=t.options;t.show=null==n.show?t.used:n.show,t.reserveSpace=null==n.reserveSpace?t.show:n.reserveSpace,function(e){var t=e.options,n=+(null!=t.min?t.min:e.datamin),a=+(null!=t.max?t.max:e.datamax),r=a-n;if(0==r){var i=.25,o=Math.abs(0==a?1:a*i);null==t.min&&(n-=o),null!=t.max&&null==t.min||(a+=o)}else{var c=t.autoscaleMargin;null!=c&&(null==t.min&&(n-=r*c)<0&&null!=e.datamin&&e.datamin>=0&&(n=0),null==t.max&&(a+=r*c)>0&&null!=e.datamax&&e.datamax<=0&&(a=0))}e.min=n,e.max=a}(t)})),O(v.processRange,[]),i)&&function(){n=e.grep(r,(function(e){return e.show||e.reserveSpace}));var t=!1;for(a=0;a<2&&(e.each(n,(function(e,n){P(n),L(n),t=$(n,n.ticks)||t,S(n)})),t&&v.processRange.length>0);a++)O(v.processRange,[]),t=!1;for(a=n.length-1;a>=0;--a)C(n[a]);!function(){var t,n=c.grid.minBorderMargin;if(null==n)for(n=0,t=0;t<o.length;++t)n=Math.max(n,2*(o[t].points.radius+o[t].points.lineWidth/2));var a={left:n,right:n,top:n,bottom:n};e.each(k(),(function(e,t){t.reserveSpace&&t.ticks&&t.ticks.length&&("x"===t.direction?(a.left=Math.max(a.left,t.labelWidth/2),a.right=Math.max(a.right,t.labelWidth/2)):(a.bottom=Math.max(a.bottom,t.labelHeight/2),a.top=Math.max(a.top,t.labelHeight/2)))})),m.left=Math.ceil(Math.max(a.left,m.left)),m.right=Math.ceil(Math.max(a.right,m.right)),m.top=Math.ceil(Math.max(a.top,m.top)),m.bottom=Math.ceil(Math.max(a.bottom,m.bottom))}(),e.each(n,(function(e,t){!function(e){"x"==e.direction?(e.box.left=m.left-e.labelWidth/2,e.box.width=s.width-m.left-m.right+e.labelWidth):(e.box.top=m.top-e.labelHeight/2,e.box.height=s.height-m.bottom-m.top+e.labelHeight)}(t)}))}();b=s.width-m.left-m.right,g=s.height-m.bottom-m.top,e.each(r,(function(e,t){!function(e){function t(e){return e}var n,a,r=e.options.transform||t,i=e.options.inverseTransform;"x"==e.direction?(n=e.scale=b/Math.abs(r(e.max)-r(e.min)),a=Math.min(r(e.max),r(e.min))):(n=-(n=e.scale=g/Math.abs(r(e.max)-r(e.min))),a=Math.max(r(e.max),r(e.min))),e.p2c=r==t?function(e){return(e-a)*n}:function(e){return(r(e)-a)*n},e.c2p=i?function(e){return i(a+e/n)}:function(e){return a+e/n}}(t)})),i&&e.each(k(),(function(e,t){var n,a,r,i,o,c=t.box,l=t.direction+"Axis "+t.direction+t.n+"Axis",u="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+l,d=t.options.font||"flot-tick-label tickLabel";if(s.removeText(u),t.show&&0!=t.ticks.length)for(var h=0;h<t.ticks.length;++h)!(n=t.ticks[h]).label||n.v<t.min||n.v>t.max||("x"==t.direction?(i="center",a=m.left+t.p2c(n.v),"bottom"==t.position?r=c.top+c.padding+c.eventSectionPadding:(r=c.top+c.height-c.padding,o="bottom")):(o="middle",r=m.top+t.p2c(n.v),"left"==t.position?(a=c.left+c.width-c.padding,i="right"):a=c.left+c.padding),s.addText(u,a,r,n.label,d,null,null,i,o))})),function(){null!=c.legend.container?e(c.legend.container).html(""):t.find(".legend").remove();if(!c.legend.show)return;for(var n,a,r=[],i=[],s=!1,l=c.legend.labelFormatter,u=0;u<o.length;++u)(n=o[u]).label&&(a=l?l(n.label,n):n.label)&&i.push({label:a,color:n.color});if(c.legend.sorted)if(e.isFunction(c.legend.sorted))i.sort(c.legend.sorted);else if("reverse"==c.legend.sorted)i.reverse();else{var d="descending"!=c.legend.sorted;i.sort((function(e,t){return e.label==t.label?0:e.label<t.label!=d?1:-1}))}for(u=0;u<i.length;++u){var h=i[u];u%c.legend.noColumns==0&&(s&&r.push("</tr>"),r.push("<tr>"),s=!0),r.push('<td class="legendColorBox"><div style="border:1px solid '+c.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+h.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+h.label+"</td>")}s&&r.push("</tr>");if(0==r.length)return;var p='<table style="font-size:smaller;color:'+c.grid.color+'">'+r.join("")+"</table>";if(null!=c.legend.container)e(c.legend.container).html(p);else{var f="",b=c.legend.position,g=c.legend.margin;null==g[0]&&(g=[g,g]),"n"==b.charAt(0)?f+="top:"+(g[1]+m.top)+"px;":"s"==b.charAt(0)&&(f+="bottom:"+(g[1]+m.bottom)+"px;"),"e"==b.charAt(1)?f+="right:"+(g[0]+m.right)+"px;":"w"==b.charAt(1)&&(f+="left:"+(g[0]+m.left)+"px;");var v=e('<div class="legend">'+p.replace('style="','style="position:absolute;'+f+";")+"</div>").appendTo(t);if(0!=c.legend.backgroundOpacity){var y=c.legend.backgroundColor;null==y&&((y=(y=c.grid.backgroundColor)&&"string"==typeof y?e.color.parse(y):e.color.extract(v,"background-color")).a=1,y=y.toString());var O=v.children();e('<div style="position:absolute;width:'+O.width()+"px;height:"+O.height()+"px;"+f+"background-color:"+y+';"> </div>').prependTo(v).css("opacity",c.legend.backgroundOpacity)}}}()}function P(t){var n,a=t.options;n="number"==typeof a.ticks&&a.ticks>0?a.ticks:.3*Math.sqrt("x"==t.direction?s.width:s.height);var r=(t.max-t.min)/n,i=-Math.floor(Math.log(r)/Math.LN10),o=a.tickDecimals;null!=o&&i>o&&(i=o);var c,l=Math.pow(10,-i),u=r/l;if(u<1.5?c=1:u<3?(c=2,u>2.25&&(null==o||i+1<=o)&&(c=2.5,++i)):c=u<7.5?5:10,c*=l,null!=a.minTickSize&&c<a.minTickSize&&(c=a.minTickSize),t.delta=r,t.tickDecimals=Math.max(0,null!=o?o:i),t.tickSize=a.tickSize||c,null!==a.tickDecimals&&void 0!==a.tickDecimals||(t.scaledDecimals=t.tickDecimals+i),"time"==a.mode&&!t.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(t.tickGenerator||(t.tickGenerator=function(e){var t,n,a,r=[],i=(n=e.min,(a=e.tickSize)*Math.floor(n/a)),o=0,c=Number.NaN;do{t=c,c=i+o*e.tickSize,r.push(c),++o}while(c<e.max&&c!=t);return r},t.tickFormatter=function(e,t){var n=t.tickDecimals?Math.pow(10,t.tickDecimals):1,a=""+Math.round(e*n)/n;if(null!=t.tickDecimals){var r=a.indexOf("."),i=-1==r?0:a.length-r-1;if(i<t.tickDecimals)return(i?a:a+".")+(""+n).substr(1,t.tickDecimals-i)}return a}),e.isFunction(a.tickFormatter)&&(t.tickFormatter=function(e,t){return""+a.tickFormatter(e,t)}),null!=a.alignTicksWithAxis){var d=("x"==t.direction?p:f)[a.alignTicksWithAxis-1];if(d&&d.used&&d!=t){var h=t.tickGenerator(t);if(h.length>0&&(null==a.min&&(t.min=Math.min(t.min,h[0])),null==a.max&&h.length>1&&(t.max=Math.max(t.max,h[h.length-1]))),t.tickGenerator=function(e){var t,n,a=[];for(n=0;n<d.ticks.length;++n)t=(d.ticks[n].v-d.min)/(d.max-d.min),t=e.min+t*(e.max-e.min),a.push(t);return a},!t.mode&&null==a.tickDecimals){var m=Math.max(0,1-Math.floor(Math.log(t.delta)/Math.LN10)),b=t.tickGenerator(t);b.length>1&&/\..*0$/.test((b[1]-b[0]).toFixed(m))||(t.tickDecimals=m)}}}}function L(t){var n,a,r=t.options.ticks,i=[];for(null==r||"number"==typeof r&&r>0?i=t.tickGenerator(t):r&&(i=e.isFunction(r)?r(t):r),t.ticks=[],n=0;n<i.length;++n){var o=null,c=i[n];"object"==typeof c?(a=+c[0],c.length>1&&(o=c[1])):a=+c,null==o&&(o=t.tickFormatter(a,t)),isNaN(a)||t.ticks.push({v:a,label:o})}}function $(e,t){var n=!1;return e.options.autoscaleMargin&&t.length>0&&(null==e.options.min&&(e.min=Math.min(e.min,t[0].v),n=!0),null==e.options.max&&t.length>1&&(e.max=Math.max(e.max,t[t.length-1].v),n=!0)),n}function E(){s.clear(),O(v.drawBackground,[d]);var e=c.grid;e.show&&e.backgroundColor&&(d.save(),d.translate(m.left,m.top),d.fillStyle=K(c.grid.backgroundColor,g,0,"rgba(255, 255, 255, 0)"),d.fillRect(0,0,b,g),d.restore()),e.show&&!e.aboveData&&Q();for(var t=0;t<o.length;++t)O(v.drawSeries,[d,o[t]]),A(o[t]);O(v.draw,[d]),e.show&&e.aboveData&&Q(),s.render(),B()}function N(e,t){for(var n,a,r,i,o=k(),c=0;c<o.length;++c)if((n=o[c]).direction==t&&(e[i=t+n.n+"axis"]||1!=n.n||(i=t+"axis"),e[i])){a=e[i].from,r=e[i].to;break}if(e[i]||(n="x"==t?p[0]:f[0],a=e[t+"1"],r=e[t+"2"]),null!=a&&null!=r&&a>r){var s=a;a=r,r=s}return{from:a,to:r,axis:n}}function Q(){var t,n,a,r;d.save(),d.translate(m.left,m.top);var i=c.grid.markings;if(i)for(e.isFunction(i)&&((n=y.getAxes()).xmin=n.xaxis.min,n.xmax=n.xaxis.max,n.ymin=n.yaxis.min,n.ymax=n.yaxis.max,i=i(n)),t=0;t<i.length;++t){var o=i[t],s=N(o,"x"),l=N(o,"y");if(null==s.from&&(s.from=s.axis.min),null==s.to&&(s.to=s.axis.max),null==l.from&&(l.from=l.axis.min),null==l.to&&(l.to=l.axis.max),!(s.to<s.axis.min||s.from>s.axis.max||l.to<l.axis.min||l.from>l.axis.max)){s.from=Math.max(s.from,s.axis.min),s.to=Math.min(s.to,s.axis.max),l.from=Math.max(l.from,l.axis.min),l.to=Math.min(l.to,l.axis.max);var u=s.from===s.to,h=l.from===l.to;if(!u||!h)if(s.from=Math.floor(s.axis.p2c(s.from)),s.to=Math.floor(s.axis.p2c(s.to)),l.from=Math.floor(l.axis.p2c(l.from)),l.to=Math.floor(l.axis.p2c(l.to)),u||h){var p=o.lineWidth||c.grid.markingsLineWidth,f=p%2?.5:0;d.beginPath(),d.strokeStyle=o.color||c.grid.markingsColor,d.lineWidth=p,u?(d.moveTo(s.to+f,l.from),d.lineTo(s.to+f,l.to)):(d.moveTo(s.from,l.to+f),d.lineTo(s.to,l.to+f)),d.stroke()}else d.fillStyle=o.color||c.grid.markingsColor,d.fillRect(s.from,l.to,s.to-s.from,l.from-l.to)}}n=k(),a=c.grid.borderWidth;for(var v=0;v<n.length;++v){var O,x,j,T,w=n[v],_=w.box,S=w.tickLength;if(w.show&&0!=w.ticks.length){for(d.lineWidth=1,"x"==w.direction?(O=0,x="full"==S?"top"==w.position?0:g:_.top-m.top+("top"==w.position?_.height:0)):(x=0,O="full"==S?"left"==w.position?0:b:_.left-m.left+("left"==w.position?_.width:0)),w.innermost||(d.strokeStyle=w.options.color,d.beginPath(),j=T=0,"x"==w.direction?j=b+1:T=g+1,1==d.lineWidth&&("x"==w.direction?x=Math.floor(x)+.5:O=Math.floor(O)+.5),d.moveTo(O,x),d.lineTo(O+j,x+T),d.stroke()),d.strokeStyle=w.options.tickColor,d.beginPath(),t=0;t<w.ticks.length;++t){var C=w.ticks[t].v;j=T=0,isNaN(C)||C<w.min||C>w.max||"full"==S&&("object"==typeof a&&a[w.position]>0||a>0)&&(C==w.min||C==w.max)||("x"==w.direction?(O=w.p2c(C),T="full"==S?-g:S,"top"==w.position&&(T=-T)):(x=w.p2c(C),j="full"==S?-b:S,"left"==w.position&&(j=-j)),1==d.lineWidth&&("x"==w.direction?O=Math.floor(O)+.5:x=Math.floor(x)+.5),d.moveTo(O,x),d.lineTo(O+j,x+T))}d.stroke()}}a&&(r=c.grid.borderColor,"object"==typeof a||"object"==typeof r?("object"!==typeof a&&(a={top:a,right:a,bottom:a,left:a}),"object"!==typeof r&&(r={top:r,right:r,bottom:r,left:r}),a.top>0&&(d.strokeStyle=r.top,d.lineWidth=a.top,d.beginPath(),d.moveTo(0-a.left,0-a.top/2),d.lineTo(b,0-a.top/2),d.stroke()),a.right>0&&(d.strokeStyle=r.right,d.lineWidth=a.right,d.beginPath(),d.moveTo(b+a.right/2,0-a.top),d.lineTo(b+a.right/2,g),d.stroke()),a.bottom>0&&(d.strokeStyle=r.bottom,d.lineWidth=a.bottom,d.beginPath(),d.moveTo(b+a.right,g+a.bottom/2),d.lineTo(0,g+a.bottom/2),d.stroke()),a.left>0&&(d.strokeStyle=r.left,d.lineWidth=a.left,d.beginPath(),d.moveTo(0-a.left/2,g+a.bottom),d.lineTo(0-a.left/2,0),d.stroke())):(d.lineWidth=a,d.strokeStyle=c.grid.borderColor,d.strokeRect(-a/2,-a/2,b+a,g+a))),d.restore()}function A(e){e.lines.show&&(function(e){function t(e,t,n,a,r){var i=e.points,o=e.pointsize,c=null,s=null;d.beginPath();for(var l=o;l<i.length;l+=o){var u=i[l-o],h=i[l-o+1],p=i[l],f=i[l+1];if(null!=u&&null!=p){if(h<=f&&h<r.min){if(f<r.min)continue;u=(r.min-h)/(f-h)*(p-u)+u,h=r.min}else if(f<=h&&f<r.min){if(h<r.min)continue;p=(r.min-h)/(f-h)*(p-u)+u,f=r.min}if(h>=f&&h>r.max){if(f>r.max)continue;u=(r.max-h)/(f-h)*(p-u)+u,h=r.max}else if(f>=h&&f>r.max){if(h>r.max)continue;p=(r.max-h)/(f-h)*(p-u)+u,f=r.max}if(u<=p&&u<a.min){if(p<a.min)continue;h=(a.min-u)/(p-u)*(f-h)+h,u=a.min}else if(p<=u&&p<a.min){if(u<a.min)continue;f=(a.min-u)/(p-u)*(f-h)+h,p=a.min}if(u>=p&&u>a.max){if(p>a.max)continue;h=(a.max-u)/(p-u)*(f-h)+h,u=a.max}else if(p>=u&&p>a.max){if(u>a.max)continue;f=(a.max-u)/(p-u)*(f-h)+h,p=a.max}u==c&&h==s||d.moveTo(a.p2c(u)+t,r.p2c(h)+n),c=p,s=f,d.lineTo(a.p2c(p)+t,r.p2c(f)+n)}}d.stroke()}function n(e,t,n){for(var a=e.points,r=e.pointsize,i=Math.min(Math.max(0,n.min),n.max),o=0,c=!1,s=1,l=0,u=0;!(r>0&&o>a.length+r);){var h=a[(o+=r)-r],p=a[o-r+s],f=a[o],m=a[o+s];if(c){if(r>0&&null!=h&&null==f){u=o,r=-r,s=2;continue}if(r<0&&o==l+r){d.fill(),c=!1,s=1,o=l=u+(r=-r);continue}}if(null!=h&&null!=f){if(h<=f&&h<t.min){if(f<t.min)continue;p=(t.min-h)/(f-h)*(m-p)+p,h=t.min}else if(f<=h&&f<t.min){if(h<t.min)continue;m=(t.min-h)/(f-h)*(m-p)+p,f=t.min}if(h>=f&&h>t.max){if(f>t.max)continue;p=(t.max-h)/(f-h)*(m-p)+p,h=t.max}else if(f>=h&&f>t.max){if(h>t.max)continue;m=(t.max-h)/(f-h)*(m-p)+p,f=t.max}if(c||(d.beginPath(),d.moveTo(t.p2c(h),n.p2c(i)),c=!0),p>=n.max&&m>=n.max)d.lineTo(t.p2c(h),n.p2c(n.max)),d.lineTo(t.p2c(f),n.p2c(n.max));else if(p<=n.min&&m<=n.min)d.lineTo(t.p2c(h),n.p2c(n.min)),d.lineTo(t.p2c(f),n.p2c(n.min));else{var b=h,g=f;p<=m&&p<n.min&&m>=n.min?(h=(n.min-p)/(m-p)*(f-h)+h,p=n.min):m<=p&&m<n.min&&p>=n.min&&(f=(n.min-p)/(m-p)*(f-h)+h,m=n.min),p>=m&&p>n.max&&m<=n.max?(h=(n.max-p)/(m-p)*(f-h)+h,p=n.max):m>=p&&m>n.max&&p<=n.max&&(f=(n.max-p)/(m-p)*(f-h)+h,m=n.max),h!=b&&d.lineTo(t.p2c(b),n.p2c(p)),d.lineTo(t.p2c(h),n.p2c(p)),d.lineTo(t.p2c(f),n.p2c(m)),f!=g&&(d.lineTo(t.p2c(f),n.p2c(m)),d.lineTo(t.p2c(g),n.p2c(m)))}}}}d.save(),d.translate(m.left,m.top),d.lineJoin="round";var a=e.lines.lineWidth,r=e.shadowSize;if(a>0&&r>0){d.lineWidth=r,d.strokeStyle="rgba(0,0,0,0.1)";var i=Math.PI/18;t(e.datapoints,Math.sin(i)*(a/2+r/2),Math.cos(i)*(a/2+r/2),e.xaxis,e.yaxis),d.lineWidth=r/2,t(e.datapoints,Math.sin(i)*(a/2+r/4),Math.cos(i)*(a/2+r/4),e.xaxis,e.yaxis)}d.lineWidth=a,d.strokeStyle=e.color;var o=I(e.lines,e.color,0,g);o&&(d.fillStyle=o,n(e.datapoints,e.xaxis,e.yaxis));a>0&&t(e.datapoints,0,0,e.xaxis,e.yaxis);d.restore()}(e),e.points.show||e.bars.show||function(e){for(var t=[],n=null,a=null,r=e.datapoints,i=[],o=0;o<r.pointsize-2;o++)i.push(0);for(var c=0;c<r.points.length;c+=r.pointsize){var s=r.points[c],l=r.points[c+1];a=c===r.points.length-r.pointsize?null:r.points[c+r.pointsize],null!==s&&null!==l&&null===n&&null===a&&(t.push(s),t.push(l),t.push.apply(t,i)),n=s}var u=r.points;r.points=t,e.points.radius=e.lines.lineWidth/2,D(e),r.points=u}(e)),e.bars.show&&function(e){function t(t,n,a,r,i,o){for(var c=t.points,s=t.pointsize,l=0;l<c.length;l+=s)null!=c[l]&&R(c[l],c[l+1],c[l+2],n,a,r,i,o,d,e.bars.horizontal,e.bars.lineWidth)}var n;switch(d.save(),d.translate(m.left,m.top),d.lineWidth=e.bars.lineWidth,d.strokeStyle=e.color,e.bars.align){case"left":n=0;break;case"right":n=-e.bars.barWidth;break;default:n=-e.bars.barWidth/2}var a=e.bars.fill?function(t,n){return I(e.bars,e.color,t,n)}:null;t(e.datapoints,n,n+e.bars.barWidth,a,e.xaxis,e.yaxis),d.restore()}(e),e.points.show&&D(e)}function D(e){function t(e,t,n,a,r,i,o,c){for(var s=e.points,l=e.pointsize,u=0;u<s.length;u+=l){var h=s[u],p=s[u+1];null==h||h<i.min||h>i.max||p<o.min||p>o.max||(d.beginPath(),h=i.p2c(h),p=o.p2c(p)+a,"circle"==c?d.arc(h,p,t,0,r?Math.PI:2*Math.PI,!1):c(d,h,p,t,r),d.closePath(),n&&(d.fillStyle=n,d.fill()),d.stroke())}}d.save(),d.translate(m.left,m.top);var n=e.points.lineWidth,a=e.shadowSize,r=e.points.radius,i=e.points.symbol;if(0==n&&(n=1e-4),n>0&&a>0){var o=a/2;d.lineWidth=o,d.strokeStyle="rgba(0,0,0,0.1)",t(e.datapoints,r,null,o+o/2,!0,e.xaxis,e.yaxis,i),d.strokeStyle="rgba(0,0,0,0.2)",t(e.datapoints,r,null,o/2,!0,e.xaxis,e.yaxis,i)}d.lineWidth=n,d.strokeStyle=e.color,t(e.datapoints,r,I(e.points,e.color),0,!1,e.xaxis,e.yaxis,i),d.restore()}function R(e,t,n,a,r,i,o,c,s,l,u){var d,h,p,f,m,b,g,v,y;l?(v=b=g=!0,m=!1,f=t+a,p=t+r,(h=e)<(d=n)&&(y=h,h=d,d=y,m=!0,b=!1)):(m=b=g=!0,v=!1,d=e+a,h=e+r,(f=t)<(p=n)&&(y=f,f=p,p=y,v=!0,g=!1)),h<o.min||d>o.max||f<c.min||p>c.max||(d<o.min&&(d=o.min,m=!1),h>o.max&&(h=o.max,b=!1),p<c.min&&(p=c.min,v=!1),f>c.max&&(f=c.max,g=!1),d=o.p2c(d),p=c.p2c(p),h=o.p2c(h),f=c.p2c(f),i&&(s.fillStyle=i(p,f),s.fillRect(d,f,h-d,p-f)),u>0&&(m||b||g||v)&&(s.beginPath(),s.moveTo(d,p),m?s.lineTo(d,f):s.moveTo(d,f),g?s.lineTo(h,f):s.moveTo(h,f),b?s.lineTo(h,p):s.moveTo(h,p),v?s.lineTo(d,p):s.moveTo(d,p),s.stroke()))}function I(t,n,a,r){var i=t.fill;if(!i)return null;if(t.fillColor)return K(t.fillColor,a,r,n);var o=e.color.parse(n);return o.a="number"==typeof i?i:.4,o.normalize(),o.toString()}y.setData=x,y.setupGrid=M,y.draw=E,y.getPlaceholder=function(){return t},y.getCanvas=function(){return s.element},y.getPlotOffset=function(){return m},y.width=function(){return b},y.height=function(){return g},y.offset=function(){var e=u.offset();return e.left+=m.left,e.top+=m.top,e},y.getData=function(){return o},y.getAxes=function(){var t={};return e.each(p.concat(f),(function(e,n){n&&(t[n.direction+(1!=n.n?n.n:"")+"axis"]=n)})),t},y.getXAxes=function(){return p},y.getYAxes=function(){return f},y.c2p=T,y.p2c=function(e){var t,n,a,r={};for(t=0;t<p.length;++t)if((n=p[t])&&n.used&&(a="x"+n.n,null==e[a]&&1==n.n&&(a="x"),null!=e[a])){r.left=n.p2c(e[a]);break}for(t=0;t<f.length;++t)if((n=f[t])&&n.used&&(a="y"+n.n,null==e[a]&&1==n.n&&(a="y"),null!=e[a])){r.top=n.p2c(e[a]);break}return r},y.getOptions=function(){return c},y.highlight=G,y.unhighlight=U,y.triggerRedrawOverlay=B,y.pointOffset=function(e){return{left:parseInt(p[j(e,"x")-1].p2c(+e.x)+m.left,10),top:parseInt(f[j(e,"y")-1].p2c(+e.y)+m.top,10)}},y.shutdown=_,y.destroy=function(){_(),t.removeData("plot").empty(),o=[],c=null,s=null,l=null,u=null,d=null,h=null,p=[],f=[],v=null,X=[],y=null},y.resize=function(){var e=t.width(),n=t.height();s.resize(e,n),l.resize(e,n)},y.hooks=v,function(){for(var t={Canvas:n},a=0;a<i.length;++a){var r=i[a];r.init(y,t),r.options&&e.extend(!0,c,r.options)}}(),function(n){e.extend(!0,c,n),n&&n.colors&&(c.colors=n.colors);null==c.xaxis.color&&(c.xaxis.color=e.color.parse(c.grid.color).scale("a",.22).toString());null==c.yaxis.color&&(c.yaxis.color=e.color.parse(c.grid.color).scale("a",.22).toString());null==c.xaxis.tickColor&&(c.xaxis.tickColor=c.grid.tickColor||c.xaxis.color);null==c.yaxis.tickColor&&(c.yaxis.tickColor=c.grid.tickColor||c.yaxis.color);null==c.grid.borderColor&&(c.grid.borderColor=c.grid.color);null==c.grid.tickColor&&(c.grid.tickColor=e.color.parse(c.grid.color).scale("a",.22).toString());var a,r,i,o=t.css("font-size"),s=o?+o.replace("px",""):13,l={style:t.css("font-style"),size:Math.round(.8*s),variant:t.css("font-variant"),weight:t.css("font-weight"),family:t.css("font-family")};for(i=c.xaxes.length||1,a=0;a<i;++a)(r=c.xaxes[a])&&!r.tickColor&&(r.tickColor=r.color),r=e.extend(!0,{},c.xaxis,r),c.xaxes[a]=r,r.font&&(r.font=e.extend({},l,r.font),r.font.color||(r.font.color=r.color),r.font.lineHeight||(r.font.lineHeight=Math.round(1.15*r.font.size)));for(i=c.yaxes.length||1,a=0;a<i;++a)(r=c.yaxes[a])&&!r.tickColor&&(r.tickColor=r.color),r=e.extend(!0,{},c.yaxis,r),c.yaxes[a]=r,r.font&&(r.font=e.extend({},l,r.font),r.font.color||(r.font.color=r.color),r.font.lineHeight||(r.font.lineHeight=Math.round(1.15*r.font.size)));c.xaxis.noTicks&&null==c.xaxis.ticks&&(c.xaxis.ticks=c.xaxis.noTicks);c.yaxis.noTicks&&null==c.yaxis.ticks&&(c.yaxis.ticks=c.yaxis.noTicks);c.x2axis&&(c.xaxes[1]=e.extend(!0,{},c.xaxis,c.x2axis),c.xaxes[1].position="top",null==c.x2axis.min&&(c.xaxes[1].min=null),null==c.x2axis.max&&(c.xaxes[1].max=null));c.y2axis&&(c.yaxes[1]=e.extend(!0,{},c.yaxis,c.y2axis),c.yaxes[1].position="right",null==c.y2axis.min&&(c.yaxes[1].min=null),null==c.y2axis.max&&(c.yaxes[1].max=null));c.grid.coloredAreas&&(c.grid.markings=c.grid.coloredAreas);c.grid.coloredAreasColor&&(c.grid.markingsColor=c.grid.coloredAreasColor);c.lines&&e.extend(!0,c.series.lines,c.lines);c.points&&e.extend(!0,c.series.points,c.points);c.bars&&e.extend(!0,c.series.bars,c.bars);null!=c.shadowSize&&(c.series.shadowSize=c.shadowSize);null!=c.highlightColor&&(c.series.highlightColor=c.highlightColor);for(a=0;a<c.xaxes.length;++a)w(p,a+1).options=c.xaxes[a];for(a=0;a<c.yaxes.length;++a)w(f,a+1).options=c.yaxes[a];for(var u in v)c.hooks[u]&&c.hooks[u].length&&(v[u]=v[u].concat(c.hooks[u]));O(v.processOptions,[c])}(r),function(){t.find(".flot-temp-elem").remove(),"static"==t.css("position")&&t.css("position","relative");s=new n("flot-base",t),l=new n("flot-overlay",t),d=s.context,h=l.context,u=e(l.element).unbind();var a=t.data("plot");a&&(a.shutdown(),l.clear());t.data("plot",y)}(),x(a),M(),E(),function(){c.grid.hoverable&&(u.mousemove(F),u.bind("mouseleave",V));c.grid.clickable&&u.click(z);O(v.bindEvents,[u])}();var X=[],q=null;function F(e){c.grid.hoverable&&W("plothover",e,(function(e){return 0!=e.hoverable}))}function V(e){c.grid.hoverable&&W("plothover",e,(function(){return!1}))}function z(e){y.isSelecting||W("plotclick",e,(function(e){return 0!=e.clickable}))}function W(e,n,a){var r=u.offset(),i=n.pageX-r.left-m.left,s=n.pageY-r.top-m.top,l=T({left:i,top:s});l.pageX=n.pageX,l.pageY=n.pageY,l.ctrlKey=n.ctrlKey,l.metaKey=n.metaKey;var d=function(e,t,n){var a,r,i,s=c.grid.mouseActiveRadius,l=s*s+1,u=null;for(a=o.length-1;a>=0;--a)if(n(o[a])){var d=o[a],h=d.xaxis,p=d.yaxis,f=d.datapoints.points,m=h.c2p(e),b=p.c2p(t),g=s/h.scale,v=s/p.scale;if(i=d.datapoints.pointsize,h.options.inverseTransform&&(g=Number.MAX_VALUE),p.options.inverseTransform&&(v=Number.MAX_VALUE),d.lines.show||d.points.show)for(r=0;r<f.length;r+=i){var y=f[r],O=f[r+1];if(null!=y&&!(y-m>g||y-m<-g||O-b>v||O-b<-v)){var x=Math.abs(h.p2c(y)-e),j=Math.abs(p.p2c(O)-t),k=x*x+j*j;k<l&&(l=k,u=[a,r/i])}}if(d.bars.show&&!u){var T,w;switch(d.bars.align){case"left":T=0;break;case"right":T=-d.bars.barWidth;break;default:T=-d.bars.barWidth/2}for(w=T+d.bars.barWidth,r=0;r<f.length;r+=i){y=f[r],O=f[r+1];var _=f[r+2];null!=y&&(o[a].bars.horizontal?m<=Math.max(_,y)&&m>=Math.min(_,y)&&b>=O+T&&b<=O+w:m>=y+T&&m<=y+w&&b>=Math.min(_,O)&&b<=Math.max(_,O))&&(u=[a,r/i])}}}return u?(a=u[0],r=u[1],i=o[a].datapoints.pointsize,{datapoint:o[a].datapoints.points.slice(r*i,(r+1)*i),dataIndex:r,series:o[a],seriesIndex:a}):null}(i,s,a);if(d&&(d.pageX=parseInt(d.series.xaxis.p2c(d.datapoint[0])+r.left+m.left,10),d.pageY=parseInt(d.series.yaxis.p2c(d.datapoint[1])+r.top+m.top,10)),c.grid.autoHighlight){for(var h=0;h<X.length;++h){var p=X[h];p.auto!=e||d&&p.series==d.series&&p.point[0]==d.datapoint[0]&&p.point[1]==d.datapoint[1]||U(p.series,p.point)}d&&G(d.series,d.datapoint,e)}t.trigger(e,[l,d])}function B(){var e=c.interaction.redrawOverlayInterval;-1!=e?q||(q=setTimeout(H,e)):H()}function H(){var e,t;for(q=null,h.save(),l.clear(),h.translate(m.left,m.top),e=0;e<X.length;++e)(t=X[e]).series.bars.show?J(t.series,t.point):Z(t.series,t.point);h.restore(),O(v.drawOverlay,[h])}function G(e,t,n){if("number"==typeof e&&(e=o[e]),"number"==typeof t){var a=e.datapoints.pointsize;t=e.datapoints.points.slice(a*t,a*(t+1))}var r=Y(e,t);-1==r?(X.push({series:e,point:t,auto:n}),B()):n||(X[r].auto=!1)}function U(e,t){if(null==e&&null==t)return X=[],void B();if("number"==typeof e&&(e=o[e]),"number"==typeof t){var n=e.datapoints.pointsize;t=e.datapoints.points.slice(n*t,n*(t+1))}var a=Y(e,t);-1!=a&&(X.splice(a,1),B())}function Y(e,t){for(var n=0;n<X.length;++n){var a=X[n];if(a.series==e&&a.point[0]==t[0]&&a.point[1]==t[1])return n}return-1}function Z(t,n){var a=n[0],r=n[1],i=t.xaxis,o=t.yaxis,c="string"===typeof t.highlightColor?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString();if(!(a<i.min||a>i.max||r<o.min||r>o.max)){var s=t.points.radius+t.points.lineWidth/2;h.lineWidth=s,h.strokeStyle=c;var l=1.5*s;a=i.p2c(a),r=o.p2c(r),h.beginPath(),"circle"==t.points.symbol?h.arc(a,r,l,0,2*Math.PI,!1):t.points.symbol(h,a,r,l,!1),h.closePath(),h.stroke()}}function J(t,n){var a,r="string"===typeof t.highlightColor?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString(),i=r;switch(t.bars.align){case"left":a=0;break;case"right":a=-t.bars.barWidth;break;default:a=-t.bars.barWidth/2}h.lineWidth=t.bars.lineWidth,h.strokeStyle=r,R(n[0],n[1],n[2]||0,a,a+t.bars.barWidth,(function(){return i}),t.xaxis,t.yaxis,h,t.bars.horizontal,t.bars.lineWidth)}function K(t,n,a,r){if("string"==typeof t)return t;for(var i=d.createLinearGradient(0,a,0,n),o=0,c=t.colors.length;o<c;++o){var s=t.colors[o];if("string"!=typeof s){var l=e.color.parse(r);null!=s.brightness&&(l=l.scale("rgb",s.brightness)),null!=s.opacity&&(l.a*=s.opacity),s=l.toString()}i.addColorStop(o/(c-1),s)}return i}}e.fn.detach||(e.fn.detach=function(){return this.each((function(){this.parentNode&&this.parentNode.removeChild(this)}))}),n.prototype.resize=function(e,t){if(e<=0||t<=0)throw new Error("Invalid dimensions for plot, width = "+e+", height = "+t);var n=this.element,a=this.context,r=this.pixelRatio;this.width!=e&&(n.width=e*r,n.style.width=e+"px",this.width=e),this.height!=t&&(n.height=t*r,n.style.height=t+"px",this.height=t),a.restore(),a.save(),a.scale(r,r)},n.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},n.prototype.render=function(){var e=this._textCache;for(var n in e)if(t.call(e,n)){var a=this.getTextLayer(n),r=e[n];for(var i in a.hide(),r)if(t.call(r,i)){var o=r[i];for(var c in o)if(t.call(o,c)){for(var s,l=o[c].positions,u=0;s=l[u];u++)s.active?s.rendered||(a.append(s.element),s.rendered=!0):(l.splice(u--,1),s.rendered&&s.element.detach());0==l.length&&delete o[c]}}a.show()}},n.prototype.getTextLayer=function(t){var n=this.text[t];return null==n&&(null==this.textContainer&&(this.textContainer=e("<div class='flot-text flot-temp-elem'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),n=this.text[t]=e("<div></div>").addClass(t).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),n},n.prototype.getTextInfo=function(t,n,a,r,i){var o,c,s,l;if(n=""+n,o="object"===typeof a?a.style+" "+a.variant+" "+a.weight+" "+a.size+"px/"+a.lineHeight+"px "+a.family:a,null==(c=this._textCache[t])&&(c=this._textCache[t]={}),null==(s=c[o])&&(s=c[o]={}),null==(l=s[n])){var u=e("<div></div>").html(n).css({position:"absolute","max-width":i,top:-9999}).appendTo(this.getTextLayer(t));"object"===typeof a?u.css({font:o,color:a.color}):"string"===typeof a&&u.addClass(a),l=s[n]={element:u,positions:[]};var d=this._textSizeCache[n];d?(l.width=d.width,l.height=d.height):(l.width=u.outerWidth(!0),l.height=u.outerHeight(!0),this._textSizeCache[n]={width:l.width,height:l.height}),u.detach()}return l},n.prototype.addText=function(e,t,n,a,r,i,o,c,s){var l=this.getTextInfo(e,a,r,i,o),u=l.positions;"center"==c?t-=l.width/2:"right"==c&&(t-=l.width),"middle"==s?n-=l.height/2:"bottom"==s&&(n-=l.height);for(var d,h=0;d=u[h];h++)if(d.x==t&&d.y==n)return void(d.active=!0);d={active:!0,rendered:!1,element:u.length?l.element.clone():l.element,x:t,y:n},u.push(d),d.element.css({top:Math.round(n),left:Math.round(t),"text-align":c})},n.prototype.removeText=function(e,n,a,r,i,o){if(null==r){var c=this._textCache[e];if(null!=c)for(var s in c)if(t.call(c,s)){var l=c[s];for(var u in l)if(t.call(l,u))for(var d=l[u].positions,h=0;p=d[h];h++)p.active=!1}}else{var p;for(d=this.getTextInfo(e,r,i,o).positions,h=0;p=d[h];h++)p.x==n&&p.y==a&&(p.active=!1)}},e.plot=function(t,n,r){return new a(e(t),n,r,e.plot.plugins)},e.plot.version="0.8.3",e.plot.plugins=[],e.fn.plot=function(t,n){return this.each((function(){e.plot(this,t,n)}))}}(window.jQuery)},229:function(e,t){window.jQuery.plot.plugins.push({init:function(e){e.hooks.processDatapoints.push((function(e,t,n){if(null!=t.stack&&!1!==t.stack){var a=function(e,t){for(var n=null,a=0;a<t.length&&e!=t[a];++a)t[a].stack==e.stack&&(n=t[a]);return n}(t,e.getData());if(a){for(var r,i,o,c,s,l,u,d,h=n.pointsize,p=n.points,f=a.datapoints.pointsize,m=a.datapoints.points,b=[],g=t.lines.show,v=t.bars.horizontal,y=h>2&&(v?n.format[2].x:n.format[2].y),O=g&&t.lines.steps,x=v?1:0,j=v?0:1,k=0,T=0;!(k>=p.length&&T>=m.length);){if(u=b.length,k<p.length&&null==p[k]){for(d=0;d<h;++d)b.push(m[k+d]);y&&(b[u+2]=m[k+j]),k+=h}else if(k>=p.length)T+=f;else if(T>=m.length){for(d=0;d<h;++d)b.push(p[k+d]);k+=h}else if(T<m.length&&null==m[T])T+=f;else{if(r=p[k+x],i=p[k+j],c=m[T+x],s=m[T+j],l=0,r==c){for(d=0;d<h;++d)b.push(p[k+d]);b[u+j]+=s,l=s,k+=h,T+=f}else if(r>c){if(0==k){for(d=0;d<h;++d)b.push(m[T+d]);l=s}if(k>0&&null!=p[k-h]){for(o=i+(p[k-h+j]-i)*(c-r)/(p[k-h+x]-r),b.push(c),b.push(o+s),d=2;d<h;++d)b.push(p[k+d]);l=s}T+=f}else{for(d=0;d<h;++d)b.push(p[k+d]);T>0&&null!=m[T-f]&&(l=s+(m[T-f+j]-s)*(r-c)/(m[T-f+x]-c)),b[u+j]+=l,k+=h}u!=b.length&&y&&(b[u+2]=l)}if(O&&u!=b.length&&u>0&&null!=b[u]&&b[u]!=b[u-h]&&b[u+1]!=b[u-h+1]){for(d=0;d<h;++d)b[u+h+d]=b[u+d];b[u+1]=b[u-h+1]}}n.points=b}}}))},options:{series:{stack:null}},name:"stack",version:"1.2"})},230:function(e,t){!function(e){function t(e,t){return t*Math.floor(e/t)}function n(e,t,n,a){if("function"==typeof e.strftime)return e.strftime(t);var r,i=function(e,t){return t=""+(null==t?"0":t),1==(e=""+e).length?t+e:e},o=[],c=!1,s=e.getHours(),l=s<12;null==n&&(n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),null==a&&(a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),r=s>12?s-12:0==s?12:s;for(var u=0;u<t.length;++u){var d=t.charAt(u);if(c){switch(d){case"a":d=""+a[e.getDay()];break;case"b":d=""+n[e.getMonth()];break;case"d":d=i(e.getDate(),"");break;case"e":d=i(e.getDate()," ");break;case"h":case"H":d=i(s);break;case"I":d=i(r);break;case"l":d=i(r," ");break;case"m":d=i(e.getMonth()+1,"");break;case"M":d=i(e.getMinutes());break;case"q":d=""+(Math.floor(e.getMonth()/3)+1);break;case"S":d=i(e.getSeconds());break;case"y":d=i(e.getFullYear()%100);break;case"Y":d=""+e.getFullYear();break;case"p":d=l?"am":"pm";break;case"P":d=l?"AM":"PM";break;case"w":d=""+e.getDay()}o.push(d),c=!1}else"%"==d?c=!0:o.push(d)}return o.join("")}function a(e){function t(e,t,n,a){e[t]=function(){return n[a].apply(n,arguments)}}var n={date:e};void 0!=e.strftime&&t(n,"strftime",e,"strftime"),t(n,"getTime",e,"getTime"),t(n,"setTime",e,"setTime");for(var a=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],r=0;r<a.length;r++)t(n,"get"+a[r],e,"getUTC"+a[r]),t(n,"set"+a[r],e,"setUTC"+a[r]);return n}function r(e,t){return"browser"==t.timezone?new Date(e):(t.timezone&&t.timezone,a(new Date(e)))}var i={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,quarter:7776e6,year:525949.2*60*1e3},o=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],c=o.concat([[3,"month"],[6,"month"],[1,"year"]]),s=o.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);e.plot.plugins.push({init:function(a){a.hooks.processOptions.push((function(a){e.each(a.getAxes(),(function(e,a){var o=a.options;"time"==o.mode&&(a.tickGenerator=function(e){var n=[],a=r(e.min,o),l=0,u=o.tickSize&&"quarter"===o.tickSize[1]||o.minTickSize&&"quarter"===o.minTickSize[1]?s:c;null!=o.minTickSize&&(l="number"==typeof o.tickSize?o.tickSize:o.minTickSize[0]*i[o.minTickSize[1]]);for(var d=0;d<u.length-1&&!(e.delta<(u[d][0]*i[u[d][1]]+u[d+1][0]*i[u[d+1][1]])/2&&u[d][0]*i[u[d][1]]>=l);++d);var h=u[d][0],p=u[d][1];if("year"==p){if(null!=o.minTickSize&&"year"==o.minTickSize[1])h=Math.floor(o.minTickSize[0]);else{var f=Math.pow(10,Math.floor(Math.log(e.delta/i.year)/Math.LN10)),m=e.delta/i.year/f;h=m<1.5?1:m<3?2:m<7.5?5:10,h*=f}h<1&&(h=1)}e.tickSize=o.tickSize||[h,p];var b=e.tickSize[0];p=e.tickSize[1];var g=b*i[p];"second"==p?a.setSeconds(t(a.getSeconds(),b)):"minute"==p?a.setMinutes(t(a.getMinutes(),b)):"hour"==p?a.setHours(t(a.getHours(),b)):"month"==p?a.setMonth(t(a.getMonth(),b)):"quarter"==p?a.setMonth(3*t(a.getMonth()/3,b)):"year"==p&&a.setFullYear(t(a.getFullYear(),b)),a.setMilliseconds(0),g>=i.minute&&a.setSeconds(0),g>=i.hour&&a.setMinutes(0),g>=i.day&&a.setHours(0),g>=4*i.day&&a.setDate(1),g>=2*i.month&&a.setMonth(t(a.getMonth(),3)),g>=2*i.quarter&&a.setMonth(t(a.getMonth(),6)),g>=i.year&&a.setMonth(0);var v,y=0,O=Number.NaN;do{if(v=O,O=a.getTime(),n.push(O),"month"==p||"quarter"==p)if(b<1){a.setDate(1);var x=a.getTime();a.setMonth(a.getMonth()+("quarter"==p?3:1));var j=a.getTime();a.setTime(O+y*i.hour+(j-x)*b),y=a.getHours(),a.setHours(0)}else a.setMonth(a.getMonth()+b*("quarter"==p?3:1));else"year"==p?a.setFullYear(a.getFullYear()+b):a.setTime(O+g)}while(O<e.max&&O!=v);return n},a.tickFormatter=function(e,t){var a=r(e,t.options);if(null!=o.timeformat)return n(a,o.timeformat,o.monthNames,o.dayNames);var c=t.options.tickSize&&"quarter"==t.options.tickSize[1]||t.options.minTickSize&&"quarter"==t.options.minTickSize[1],s=t.tickSize[0]*i[t.tickSize[1]],l=t.max-t.min,u=o.twelveHourClock?" %p":"",d=o.twelveHourClock?"%I":"%H";return n(a,s<i.minute?d+":%M:%S"+u:s<i.day?l<2*i.day?d+":%M"+u:"%b %d "+d+":%M"+u:s<i.month?"%b %d":c&&s<i.quarter||!c&&s<i.year?l<i.year?"%b":"%b %Y":c&&s<i.year?l<i.year?"Q%q":"Q%q %Y":"%Y",o.monthNames,o.dayNames)})}))}))},options:{xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},name:"time",version:"1.0"}),e.plot.formatDate=n}(window.jQuery)},231:function(e,t){window.jQuery.plot.plugins.push({init:function(e){var t={x:-1,y:-1,locked:!1};function n(){t.locked||-1!=t.x&&(t.x=-1,e.triggerRedrawOverlay())}function a(n){if(!t.locked)if(e.getSelection&&e.getSelection())t.x=-1;else{var a=e.offset();t.x=Math.max(0,Math.min(n.pageX-a.left,e.width())),t.y=Math.max(0,Math.min(n.pageY-a.top,e.height())),e.triggerRedrawOverlay()}}e.setCrosshair=function(n){if(n){var a=e.p2c(n);t.x=Math.max(0,Math.min(a.left,e.width())),t.y=Math.max(0,Math.min(a.top,e.height()))}else t.x=-1;e.triggerRedrawOverlay()},e.clearCrosshair=e.setCrosshair,e.lockCrosshair=function(n){n&&e.setCrosshair(n),t.locked=!0},e.unlockCrosshair=function(){t.locked=!1},e.hooks.bindEvents.push((function(e,t){e.getOptions().crosshair.mode&&(t.mouseout(n),t.mousemove(a))})),e.hooks.drawOverlay.push((function(e,n){var a=e.getOptions().crosshair;if(a.mode){var r=e.getPlotOffset();if(n.save(),n.translate(r.left,r.top),-1!=t.x){var i=e.getOptions().crosshair.lineWidth%2?.5:0;if(n.strokeStyle=a.color,n.lineWidth=a.lineWidth,n.lineJoin="round",n.beginPath(),-1!=a.mode.indexOf("x")){var o=Math.floor(t.x)+i;n.moveTo(o,0),n.lineTo(o,e.height())}if(-1!=a.mode.indexOf("y")){var c=Math.floor(t.y)+i;n.moveTo(0,c),n.lineTo(e.width(),c)}n.stroke()}n.restore()}})),e.hooks.shutdown.push((function(e,t){t.unbind("mouseout",n),t.unbind("mousemove",a)}))},options:{crosshair:{mode:null,color:"rgba(170, 0, 0, 0.80)",lineWidth:1}},name:"crosshair",version:"1.0"})},232:function(e,t){var n;(n=window.jQuery).plot.plugins.push({init:function(e){var t={first:{x:-1,y:-1},second:{x:-1,y:-1},show:!1,active:!1},a={},r=null;function i(n){t.active&&(h(n),e.getPlaceholder().trigger("plotselecting",[s()]))}function o(e){1==e.which&&(document.body.focus(),void 0!==document.onselectstart&&null==a.onselectstart&&(a.onselectstart=document.onselectstart,document.onselectstart=function(){return!1}),void 0!==document.ondrag&&null==a.ondrag&&(a.ondrag=document.ondrag,document.ondrag=function(){return!1}),d(t.first,e),t.active=!0,r=function(e){c(e)},n(document).one("mouseup",r))}function c(n){return r=null,void 0!==document.onselectstart&&(document.onselectstart=a.onselectstart),void 0!==document.ondrag&&(document.ondrag=a.ondrag),t.active=!1,h(n),m()?l(n):(e.getPlaceholder().trigger("plotunselected",[]),e.getPlaceholder().trigger("plotselecting",[null])),setTimeout((function(){e.isSelecting=!1}),10),!1}function s(){if(!m())return null;if(!t.show)return null;var a={},r=t.first,i=t.second,o=e.getAxes();return n.each(o,(function(e,t){t.used})),n.each(o,(function(e,t){t.used;var n=t.c2p(r[t.direction]),o=t.c2p(i[t.direction]);a[e]={from:Math.min(n,o),to:Math.max(n,o)}})),a}function l(t){var n=s();n.ctrlKey=t.ctrlKey,n.metaKey=t.metaKey,e.getPlaceholder().trigger("plotselected",[n]),n.xaxis&&n.yaxis&&e.getPlaceholder().trigger("selected",[{x1:n.xaxis.from,y1:n.yaxis.from,x2:n.xaxis.to,y2:n.yaxis.to}])}function u(e,t,n){return t<e?e:t>n?n:t}function d(n,a){var r=e.getOptions(),i=e.getPlaceholder().offset(),o=e.getPlotOffset();n.x=u(0,a.pageX-i.left-o.left,e.width()),n.y=u(0,a.pageY-i.top-o.top,e.height()),"y"==r.selection.mode&&(n.x=n==t.first?0:e.width()),"x"==r.selection.mode&&(n.y=n==t.first?0:e.height())}function h(n){null!=n.pageX&&(d(t.second,n),m()?(e.isSelecting=!0,t.show=!0,e.triggerRedrawOverlay()):p(!0))}function p(n){t.show&&(t.show=!1,e.triggerRedrawOverlay(),n||e.getPlaceholder().trigger("plotunselected",[]))}function f(t,n){var a,r,i,o,c=e.getAxes();for(var s in c)if((a=c[s]).direction==n&&(t[o=n+a.n+"axis"]||1!=a.n||(o=n+"axis"),t[o])){r=t[o].from,i=t[o].to;break}if(t[o]||(a="x"==n?e.getXAxes()[0]:e.getYAxes()[0],r=t[n+"1"],i=t[n+"2"]),null!=r&&null!=i&&r>i){var l=r;r=i,i=l}return{from:r,to:i,axis:a}}function m(){var n=e.getOptions().selection.minSize;return Math.abs(t.second.x-t.first.x)>=n&&Math.abs(t.second.y-t.first.y)>=n}e.clearSelection=p,e.setSelection=function(n,a){var r,i=e.getOptions();"y"==i.selection.mode?(t.first.x=0,t.second.x=e.width()):(r=f(n,"x"),t.first.x=r.axis.p2c(r.from),t.second.x=r.axis.p2c(r.to)),"x"==i.selection.mode?(t.first.y=0,t.second.y=e.height()):(r=f(n,"y"),t.first.y=r.axis.p2c(r.from),t.second.y=r.axis.p2c(r.to)),t.show=!0,e.triggerRedrawOverlay(),!a&&m()&&l()},e.getSelection=s,e.hooks.bindEvents.push((function(e,t){null!=e.getOptions().selection.mode&&(t.mousemove(i),t.mousedown(o))})),e.hooks.drawOverlay.push((function(e,a){if(t.show&&m()){var r=e.getPlotOffset(),i=e.getOptions();a.save(),a.translate(r.left,r.top);var o=n.color.parse(i.selection.color);a.strokeStyle=o.scale("a",.8).toString(),a.lineWidth=1,a.lineJoin=i.selection.shape,a.fillStyle=o.scale("a",.4).toString();var c=Math.min(t.first.x,t.second.x)+.5,s=Math.min(t.first.y,t.second.y)+.5,l=Math.abs(t.second.x-t.first.x)-1,u=Math.abs(t.second.y-t.first.y)-1;a.fillRect(c,s,l,u),a.strokeRect(c,s,l,u),a.restore()}})),e.hooks.shutdown.push((function(e,t){t.unbind("mousemove",i),t.unbind("mousedown",o),r&&(n(document).unbind("mouseup",r),void 0!==document.onselectstart&&(document.onselectstart=a.onselectstart),void 0!==document.ondrag&&(document.ondrag=a.ondrag))}))},options:{selection:{mode:null,color:"#e8cfac",shape:"round",minSize:5}},name:"selection",version:"1.1"})},274:function(e,t){},279:function(e,t,n){},280:function(e,t,n){},281:function(e,t,n){},282:function(e,t,n){"use strict";n.r(t);var a=n(39),r=n.n(a);window.jQuery=r.a,window.moment=n(56);var i=n(2),o=n.n(i),c=n(42),s=n.n(c),l=n(10),u=n(34),d=n(286),h=n(287),p=n(288),f=n(289),m=n(290),b=n(291),g=n(311),v=n(312),y=n(292),O=n(293),x=n(284),j=n(285),k=n(159),T=n(28),w=n(24),_=o.a.createContext({theme:"light",userPreference:"auto",setTheme:function(e){}}),S=function(){return o.a.useContext(_)},C=n(0),M=function(){var e=S().theme;return Object(i.useEffect)((function(){document.body.classList.toggle("bootstrap-dark","dark"===e),document.body.classList.toggle("bootstrap","light"===e)}),[e]),null},P=function(){var e=S(),t=e.userPreference,n=e.setTheme;return Object(C.jsx)(x.a,{className:"ml-auto",inline:!0,children:Object(C.jsxs)(j.a,{size:"sm",children:[Object(C.jsx)(k.a,{color:"secondary",title:"Use light theme",active:"light"===t,onClick:function(){return n("light")},children:Object(C.jsx)(T.a,{icon:w.s,className:"light"===t?"text-white":"text-dark"})}),Object(C.jsx)(k.a,{color:"secondary",title:"Use dark theme",active:"dark"===t,onClick:function(){return n("dark")},children:Object(C.jsx)(T.a,{icon:w.l,className:"dark"===t?"text-white":"text-dark"})}),Object(C.jsx)(k.a,{color:"secondary",title:"Use browser-preferred theme",active:"auto"===t,onClick:function(){return n("auto")},children:Object(C.jsx)(T.a,{icon:w.a,className:"auto"===t?"text-white":"text-dark"})})]})})},L=function(e){var t=e.consolesLink,n=e.agentMode,a=Object(i.useState)(!1),r=Object(l.a)(a,2),o=r[0],c=r[1];return Object(C.jsxs)(d.a,{className:"mb-3",dark:!0,color:"dark",expand:"md",fixed:"top",children:[Object(C.jsx)(h.a,{onClick:function(){return c(!o)},className:"mr-2"}),Object(C.jsxs)(u.b,{className:"pt-0 navbar-brand",to:n?"/agent":"/graph",children:["Prometheus",n&&" Agent"]}),Object(C.jsx)(p.a,{isOpen:o,navbar:!0,style:{justifyContent:"space-between"},children:Object(C.jsxs)(f.a,{className:"ml-0",navbar:!0,children:[null!==t&&Object(C.jsx)(m.a,{children:Object(C.jsx)(b.a,{href:t,children:"Consoles"})}),!n&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(m.a,{children:Object(C.jsx)(b.a,{tag:u.b,to:"/alerts",children:"Alerts"})}),Object(C.jsx)(m.a,{children:Object(C.jsx)(b.a,{tag:u.b,to:"/graph",children:"Graph"})})]}),Object(C.jsxs)(g.a,{nav:!0,inNavbar:!0,children:[Object(C.jsx)(v.a,{nav:!0,caret:!0,children:"Status"}),Object(C.jsxs)(y.a,{children:[Object(C.jsx)(O.a,{tag:u.b,to:"/status",children:"Runtime & Build Information"}),!n&&Object(C.jsx)(O.a,{tag:u.b,to:"/tsdb-status",children:"TSDB Status"}),Object(C.jsx)(O.a,{tag:u.b,to:"/flags",children:"Command-Line Flags"}),Object(C.jsx)(O.a,{tag:u.b,to:"/config",children:"Configuration"}),!n&&Object(C.jsx)(O.a,{tag:u.b,to:"/rules",children:"Rules"}),Object(C.jsx)(O.a,{tag:u.b,to:"/targets",children:"Targets"}),Object(C.jsx)(O.a,{tag:u.b,to:"/service-discovery",children:"Service Discovery"})]})]}),Object(C.jsx)(m.a,{children:Object(C.jsx)(b.a,{href:"https://prometheus.io/docs/prometheus/latest/getting_started/",children:"Help"})})]})}),Object(C.jsx)(P,{})]})},$=n(308),E=n(31),N=function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h2",{children:"Prometheus Agent"}),Object(C.jsxs)("p",{children:["This Prometheus instance is running in ",Object(C.jsx)("strong",{children:"agent mode"}),". In this mode, Prometheus is only used to scrape discovered targets and forward the scraped metrics to remote write endpoints."]}),Object(C.jsx)("p",{children:"Some features are not available in this mode, such as querying and alerting."})]})},Q=n(17),A=n(47),D=n.n(A),R=n(75),I="api/v1",X=function(e,t){var n=Object(i.useState)({status:"start fetching"}),a=Object(l.a)(n,2),r=a[0],o=a[1],c=Object(i.useState)(),s=Object(l.a)(c,2),u=s[0],d=s[1],h=Object(i.useState)(!0),p=Object(l.a)(h,2),f=p[0],m=p[1];return Object(i.useEffect)((function(){var n=function(){var n=Object(R.a)(D.a.mark((function n(){var a,r,i;return D.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return m(!0),n.prev=1,n.next=4,fetch(e,Object(Q.a)({cache:"no-store",credentials:"same-origin"},t));case 4:if((a=n.sent).ok){n.next=7;break}throw new Error(a.statusText);case 7:return n.next=9,a.json();case 9:r=n.sent,o(r),m(!1),n.next=18;break;case 14:n.prev=14,n.t0=n.catch(1),i=n.t0,d(i);case 18:case"end":return n.stop()}}),n,null,[[1,14]])})));return function(){return n.apply(this,arguments)}}();n()}),[e,t]),{response:r,error:u,isLoading:f}},q=!1,F=n(69),V=n(294),z=["error","isLoading","customErrorMsg","componentTitle"],W=function(e){return function(t){var n=t.error,a=t.isLoading,r=t.customErrorMsg,i=t.componentTitle,o=Object(F.a)(t,z);return n?Object(C.jsx)(V.a,{color:"danger",children:r||Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("strong",{children:"Error:"})," Error fetching ",i||e.displayName,": ",n.message]})}):a?Object(C.jsx)(T.a,{size:"3x",icon:w.r,spin:!0,className:"position-absolute",style:{transform:"translate(-50%, -50%)",top:"50%",left:"50%"}}):Object(C.jsx)(e,Object(Q.a)({},o))}},B=n(3),H=n(12),G=n(301),U=n(302),Y=n(305),Z=n(300),J=n(19),K=n(40),ee=n.n(K),te=n(4),ne=n(6),ae=n(63),re=n(16),ie=n(15),oe=n(303),ce=n(304),se=n(298),le=n(299),ue=n(168),de=n(8),he=n(5),pe=n(23),fe=n(110),me=n(112),be=n(52),ge=n(111),ve=n(166),ye=n(167),Oe=n(85),xe=n(44),je=n(25),ke=de.d.theme({"&.cm-editor":{"&.cm-focused":{outline:"none",outline_fallback:"none"}},".cm-scroller":{overflow:"hidden",fontFamily:'"DejaVu Sans Mono", monospace'},".cm-placeholder":{fontFamily:'-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"'},".cm-matchingBracket":{color:"#000",backgroundColor:"#dedede",fontWeight:"bold",outline:"1px dashed transparent"},".cm-nonmatchingBracket":{borderColor:"red"},".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{maxHeight:"350px",fontFamily:'"DejaVu Sans Mono", monospace',maxWidth:"unset"},"& > ul > li":{padding:"2px 1em 2px 3px"},minWidth:"30%"},".cm-completionDetail":{float:"right",color:"#999"},".cm-tooltip.cm-completionInfo":{marginTop:"-11px",padding:"10px",fontFamily:"'Open Sans', 'Lucida Sans Unicode', 'Lucida Grande', sans-serif;",border:"none",minWidth:"250px",maxWidth:"min-content"},".cm-completionInfo.cm-completionInfo-right":{"&:before":{content:"' '",height:"0",position:"absolute",width:"0",left:"-20px",borderWidth:"10px",borderStyle:"solid",borderColor:"transparent"},marginLeft:"12px"},".cm-completionInfo.cm-completionInfo-left":{"&:before":{content:"' '",height:"0",position:"absolute",width:"0",right:"-20px",borderWidth:"10px",borderStyle:"solid",borderColor:"transparent"},marginRight:"12px"},".cm-completionMatchedText":{textDecoration:"none",fontWeight:"bold",color:"#0066bf"},".cm-selectionMatch":{backgroundColor:"#e6f3ff"},".cm-diagnostic":{"&.cm-diagnostic-error":{borderLeft:"3px solid #e65013"}},".cm-completionIcon":{boxSizing:"content-box",fontSize:"16px",lineHeight:"1",marginRight:"10px",verticalAlign:"top","&:after":{content:"'\\ea88'"},fontFamily:"codicon",paddingRight:"0",opacity:"1",color:"#007acc"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\\ea8c'"},color:"#652d90"},".cm-completionIcon-class":{"&:after":{content:"'\u25cb'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25cc'"}},".cm-completionIcon-variable":{"&:after":{content:"'\ud835\udc65'"}},".cm-completionIcon-constant":{"&:after":{content:"'\\eb5f'"},color:"#007acc"},".cm-completionIcon-type":{"&:after":{content:"'\ud835\udc61'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222a'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25a1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\\eb62'"},color:"#616161"},".cm-completionIcon-namespace":{"&:after":{content:"'\u25a2'"}},".cm-completionIcon-text":{"&:after":{content:"'\\ea95'"},color:"#ee9d28"}}),Te=de.d.theme({".cm-tooltip":{backgroundColor:"#f8f8f8",borderColor:"rgba(52, 79, 113, 0.2)"},".cm-tooltip.cm-tooltip-autocomplete":{"& li:hover":{backgroundColor:"#ddd"},"& > ul > li[aria-selected]":{backgroundColor:"#d6ebff",color:"unset"}},".cm-tooltip.cm-completionInfo":{backgroundColor:"#d6ebff"},".cm-tooltip > .cm-completionInfo.cm-completionInfo-right":{"&:before":{borderRightColor:"#d6ebff"}},".cm-tooltip > .cm-completionInfo.cm-completionInfo-left":{"&:before":{borderLeftColor:"#d6ebff"}},".cm-line":{"&::selection":{backgroundColor:"#add6ff"},"& > span::selection":{backgroundColor:"#add6ff"}}},{dark:!1}),we=de.d.theme({".cm-content":{caretColor:"#fff"},".cm-tooltip.cm-completionInfo":{backgroundColor:"#333338"},".cm-tooltip > .cm-completionInfo.cm-completionInfo-right":{"&:before":{borderRightColor:"#333338"}},".cm-tooltip > .cm-completionInfo.cm-completionInfo-left":{"&:before":{borderLeftColor:"#333338"}},".cm-line":{"&::selection":{backgroundColor:"#767676"},"& > span::selection":{backgroundColor:"#767676"}}},{dark:!0}),_e=je.a.define([{tag:je.c.name,color:"#000"},{tag:je.c.number,color:"#09885a"},{tag:je.c.string,color:"#a31515"},{tag:je.c.keyword,color:"#008080"},{tag:je.c.function(je.c.variableName),color:"#008080"},{tag:je.c.labelName,color:"#800000"},{tag:je.c.operator},{tag:je.c.modifier,color:"#008080"},{tag:je.c.paren},{tag:je.c.squareBracket},{tag:je.c.brace},{tag:je.c.invalid,color:"red"},{tag:je.c.comment,color:"#888",fontStyle:"italic"}]),Se=n(313),Ce=n(295),Me=n(296),Pe=n(297),Le=n(58),$e=new Le.Fuzzy({pre:"<strong>",post:"</strong>",shouldSort:!0}),Ee=function(e){Object(re.a)(n,e);var t=Object(ie.a)(n);function n(e){var a;return Object(te.a)(this,n),(a=t.call(this,e)).handleSearchTerm=function(e){a.setState({searchTerm:e.target.value})},a.handleMetricClick=function(e){a.props.insertAtCursor(e),a.props.updateShow(!1),a.setState({searchTerm:""})},a.toggle=function(){a.props.updateShow(!a.props.show)},a.state={searchTerm:""},a}return Object(ne.a)(n,[{key:"render",value:function(){var e=this;return Object(C.jsxs)(Se.a,{isOpen:this.props.show,toggle:this.toggle,className:"metrics-explorer",scrollable:!0,children:[Object(C.jsx)(Ce.a,{toggle:this.toggle,children:"Metrics Explorer"}),Object(C.jsxs)(Me.a,{children:[Object(C.jsx)(Pe.a,{placeholder:"Search",value:this.state.searchTerm,type:"text",onChange:this.handleSearchTerm}),this.state.searchTerm.length>0&&$e.filter(this.state.searchTerm,this.props.metrics).map((function(t){return Object(C.jsx)("p",{className:"metric",onClick:e.handleMetricClick.bind(e,t.original),dangerouslySetInnerHTML:{__html:t.rendered}},t.original)})),0===this.state.searchTerm.length&&this.props.metrics.map((function(t){return Object(C.jsx)("p",{className:"metric",onClick:e.handleMetricClick.bind(e,t),children:t},t)}))]})]})}}]),n}(i.Component),Ne=o.a.createContext("");function Qe(){return o.a.useContext(Ne)}var Ae,De,Re=n(164),Ie=29,Xe=39,qe=123,Fe=126,Ve=128,ze=129,We=132,Be=135,He=136,Ge=138,Ue={inf:146,nan:147,bool:1,ignoring:2,on:3,group_left:4,group_right:5,offset:6},Ye={avg:8,atan2:7,bottomk:9,count:10,count_values:11,group:12,max:13,min:14,quantile:15,stddev:16,stdvar:17,sum:18,topk:19,by:20,without:21,and:22,or:23,unless:24,start:25,end:26},Ze={__proto__:null,absent_over_time:307,absent:309,abs:311,acos:313,acosh:315,asin:317,asinh:319,atan:321,atanh:323,avg_over_time:325,ceil:327,changes:329,clamp:331,clamp_max:333,clamp_min:335,cos:337,cosh:339,count_over_time:341,days_in_month:343,day_of_month:345,day_of_week:347,deg:349,delta:351,deriv:353,exp:355,floor:357,histogram_quantile:359,holt_winters:361,hour:363,idelta:365,increase:367,irate:369,label_replace:371,label_join:373,last_over_time:375,ln:377,log10:379,log2:381,max_over_time:383,min_over_time:385,minute:387,month:389,pi:391,predict_linear:393,present_over_time:395,quantile_over_time:397,rad:399,rate:401,resets:403,round:405,scalar:407,sgn:409,sin:411,sinh:413,sort:415,sort_desc:417,sqrt:419,stddev_over_time:421,stdvar_over_time:423,sum_over_time:425,tan:427,tanh:429,timestamp:431,time:433,vector:435,year:437},Je=Re.a.deserialize({version:13,states:"6[OYQPOOO&{QPOOOOQO'#C{'#C{O'QQPO'#CzQ']QQOOOOQO'#De'#DeO'WQPO'#DdOOQO'#E}'#E}O(jQPO'#FTOYQPO'#FPOYQPO'#FSOOQO'#FV'#FVO.fQSO'#FWO.nQQO'#FUOOQO'#FU'#FUOOQO'#Cy'#CyOOQO'#Df'#DfOOQO'#Dh'#DhOOQO'#Di'#DiOOQO'#Dj'#DjOOQO'#Dk'#DkOOQO'#Dl'#DlOOQO'#Dm'#DmOOQO'#Dn'#DnOOQO'#Do'#DoOOQO'#Dp'#DpOOQO'#Dq'#DqOOQO'#Dr'#DrOOQO'#Ds'#DsOOQO'#Dt'#DtOOQO'#Du'#DuOOQO'#Dv'#DvOOQO'#Dw'#DwOOQO'#Dx'#DxOOQO'#Dy'#DyOOQO'#Dz'#DzOOQO'#D{'#D{OOQO'#D|'#D|OOQO'#D}'#D}OOQO'#EO'#EOOOQO'#EP'#EPOOQO'#EQ'#EQOOQO'#ER'#EROOQO'#ES'#ESOOQO'#ET'#ETOOQO'#EU'#EUOOQO'#EV'#EVOOQO'#EW'#EWOOQO'#EX'#EXOOQO'#EY'#EYOOQO'#EZ'#EZOOQO'#E['#E[OOQO'#E]'#E]OOQO'#E^'#E^OOQO'#E_'#E_OOQO'#E`'#E`OOQO'#Ea'#EaOOQO'#Eb'#EbOOQO'#Ec'#EcOOQO'#Ed'#EdOOQO'#Ee'#EeOOQO'#Ef'#EfOOQO'#Eg'#EgOOQO'#Eh'#EhOOQO'#Ei'#EiOOQO'#Ej'#EjOOQO'#Ek'#EkOOQO'#El'#ElOOQO'#Em'#EmOOQO'#En'#EnOOQO'#Eo'#EoOOQO'#Ep'#EpOOQO'#Eq'#EqOOQO'#Er'#ErOOQO'#Es'#EsOOQO'#Et'#EtOOQO'#Eu'#EuOOQO'#Ev'#EvOOQO'#Ew'#EwOOQO'#Ex'#ExOOQO'#Ey'#EyOOQO'#Ez'#EzQOQPOOO0XQPO'#C|O0^QPO'#DRO'WQPO,59fO0eQQO,59fO2RQPO,59oO2RQPO,59oO2RQPO,59oO2RQPO,59oO2RQPO,59oO7}QQO,5;gO8SQQO,5;jO8[QPO,5;yOOQO,5:O,5:OOOQO,5;i,5;iO8sQQO,5;kO8zQQO,5;nO:bQPO'#FYO:pQPO,5;rOOQO'#FX'#FXOOQO,5;r,5;rOOQO,5;p,5;pO:xQSO'#C}OOQO,59h,59hO;QQPO,59mO;YQQO'#DSOOQO,59m,59mOOQO1G/Q1G/QO0XQPO'#DWOAVQPO'#DVOAaQPO'#DVOYQPO1G/ZOYQPO1G/ZOYQPO1G/ZOYQPO1G/ZOYQPO1G/ZOAkQSO1G1ROOQO1G1U1G1UOAsQQO1G1UOAxQPO'#E}OOQO'#Fa'#FaOOQO1G1e1G1eOBTQPO1G1eOOQO1G1V1G1VOOQO'#FZ'#FZOBYQPO,5;tOB_QSO1G1^OOQO1G1^1G1^OOQO'#DP'#DPOBgQPO,59iOOQO'#DO'#DOOOQO,59i,59iOYQPO,59nOOQO1G/X1G/XOOQO,59r,59rOH_QPO,59qOHfQPO,59qOI}QQO7+$uOJ_QQO7+$uOKsQQO7+$uOLZQQO7+$uOMrQQO7+$uOOQO7+&m7+&mON]QQO7+&sOOQO7+&p7+&pONeQPO7+'POOQO1G1`1G1`OOQO1G1_1G1_OOQO7+&x7+&xONjQSO1G/TOOQO1G/T1G/TONrQQO1G/YOOQO1G/]1G/]ON|QPO1G/]OOQO<<J_<<J_O!&oQPO<<J_OOQO<<Jk<<JkOOQO1G/U1G/UOOQO7+$o7+$oOOQO7+$w7+$wOOQOAN?yAN?y",stateData:"!&t~O$ZOSkOS~OWQOXQOYQOZQO[QO]QO^QO_QO`QOaQObQOcQO!ZZO#t_O$WVO$XVO$[XO$_`O$`aO$abO$bcO$cdO$deO$efO$fgO$ghO$hiO$ijO$jkO$klO$lmO$mnO$noO$opO$pqO$qrO$rsO$stO$tuO$uvO$vwO$wxO$xyO$yzO$z{O${|O$|}O$}!OO%O!PO%P!QO%Q!RO%R!SO%S!TO%T!UO%U!VO%V!WO%W!XO%X!YO%Y!ZO%Z![O%[!]O%]!^O%^!_O%_!`O%`!aO%a!bO%b!cO%c!dO%d!eO%e!fO%f!gO%g!hO%h!iO%i!jO%j!kO%k!lO%l!mO%m!nO%n!oO%o!pO%p!qO%q!rO%r!sO%uWO%vWO%wVO%y[O~O!ZZO~Od!uOe!uO$[!vO~OU#POV!yOf!|Og!}Oh!|Ox!yO{!yO|!yO}!yO!O!zO!P!zO!Q!{O!R!{O!S!{O!T!{O!U!{O!V!{O$S#QO%s#OO~O$W#SO$X#SO%w#SOW#wXX#wXY#wXZ#wX[#wX]#wX^#wX_#wX`#wXa#wXb#wXc#wX!Z#wX#t#wX$W#wX$X#wX$[#wX$_#wX$`#wX$a#wX$b#wX$c#wX$d#wX$e#wX$f#wX$g#wX$h#wX$i#wX$j#wX$k#wX$l#wX$m#wX$n#wX$o#wX$p#wX$q#wX$r#wX$s#wX$t#wX$u#wX$v#wX$w#wX$x#wX$y#wX$z#wX${#wX$|#wX$}#wX%O#wX%P#wX%Q#wX%R#wX%S#wX%T#wX%U#wX%V#wX%W#wX%X#wX%Y#wX%Z#wX%[#wX%]#wX%^#wX%_#wX%`#wX%a#wX%b#wX%c#wX%d#wX%e#wX%f#wX%g#wX%h#wX%i#wX%j#wX%k#wX%l#wX%m#wX%n#wX%o#wX%p#wX%q#wX%r#wX%u#wX%v#wX%w#wX%y#wX~Ot#VO%z#YO~O%y[OU#xXV#xXf#xXg#xXh#xXx#xX{#xX|#xX}#xX!O#xX!P#xX!Q#xX!R#xX!S#xX!T#xX!U#xX!V#xX$S#xX$V#xX%s#xX$^#xX$]#xX~O$[#[O~O$^#`O~PYOd!uOe!uOUnaVnafnagnahnaxna{na|na}na!Ona!Pna!Qna!Rna!Sna!Tna!Una!Vna$Sna$Vna%sna$^na$]na~OP#dOQ#bOR#bOWyPXyPYyPZyP[yP]yP^yP_yP`yPayPbyPcyP!ZyP#tyP$WyP$XyP$[yP$_yP$`yP$ayP$byP$cyP$dyP$eyP$fyP$gyP$hyP$iyP$jyP$kyP$lyP$myP$nyP$oyP$pyP$qyP$ryP$syP$tyP$uyP$vyP$wyP$xyP$yyP$zyP${yP$|yP$}yP%OyP%PyP%QyP%RyP%SyP%TyP%UyP%VyP%WyP%XyP%YyP%ZyP%[yP%]yP%^yP%_yP%`yP%ayP%byP%cyP%dyP%eyP%fyP%gyP%hyP%iyP%jyP%kyP%lyP%myP%nyP%oyP%pyP%qyP%ryP%uyP%vyP%wyP%yyP~O#p#jO~O!P#lO#p#kO~Oi#nOj#nO$WVO$XVO%u#mO%v#mO%wVO~O$^#qO~P']Ox!yOU#vaV#vaf#vag#vah#va{#va|#va}#va!O#va!P#va!Q#va!R#va!S#va!T#va!U#va!V#va$S#va$V#va%s#va$^#va$]#va~O!V#rO$O#rO$P#rO$Q#rO~O$]#tO%z#uO~Ot#vO$^#yO~O$]#zO$^#{O~O$]vX$^vX~P']OWyXXyXYyXZyX[yX]yX^yX_yX`yXayXbyXcyX!ZyX#tyX$WyX$XyX$[yX$_yX$`yX$ayX$byX$cyX$dyX$eyX$fyX$gyX$hyX$iyX$jyX$kyX$lyX$myX$nyX$oyX$pyX$qyX$ryX$syX$tyX$uyX$vyX$wyX$xyX$yyX$zyX${yX$|yX$}yX%OyX%PyX%QyX%RyX%SyX%TyX%UyX%VyX%WyX%XyX%YyX%ZyX%[yX%]yX%^yX%_yX%`yX%ayX%byX%cyX%dyX%eyX%fyX%gyX%hyX%iyX%jyX%kyX%lyX%myX%nyX%oyX%pyX%qyX%ryX%uyX%vyX%wyX%yyX~OS#}OT#}O~P;dOQ#bOR#bO~P;dO%t$UO%x$VO~O#p$WO~O$W#SO$X#SO%w#SO~O$[$XO~O#t$YO~Ot#VO%z$[O~O$]$]O$^$^O~OWyaXyaYyaZya[ya]ya^ya_ya`yaayabyacya!Zya#tya$Wya$Xya$_ya$`ya$aya$bya$cya$dya$eya$fya$gya$hya$iya$jya$kya$lya$mya$nya$oya$pya$qya$rya$sya$tya$uya$vya$wya$xya$yya$zya${ya$|ya$}ya%Oya%Pya%Qya%Rya%Sya%Tya%Uya%Vya%Wya%Xya%Yya%Zya%[ya%]ya%^ya%_ya%`ya%aya%bya%cya%dya%eya%fya%gya%hya%iya%jya%kya%lya%mya%nya%oya%pya%qya%rya%uya%vya%wya%yya~O$[#[O~PBoOS$aOT$aO$[ya~PBoOx!yOUwqfwqgwqhwq!Owq!Pwq!Qwq!Rwq!Swq!Twq!Uwq!Vwq$Swq$Vwq%swq$^wq$]wq~OVwq{wq|wq}wq~PHsOV!yO{!yO|!yO}!yO~PHsOV!yOx!yO{!yO|!yO}!yO!O!zO!P!zOUwqfwqgwqhwq$Swq$Vwq%swq$^wq$]wq~O!Qwq!Rwq!Swq!Twq!Uwq!Vwq~PJoO!Q!{O!R!{O!S!{O!T!{O!U!{O!V!{O~PJoOV!yOf!|Oh!|Ox!yO{!yO|!yO}!yO!O!zO!P!zO!Q!{O!R!{O!S!{O!T!{O!U!{O!V!{O~OUwqgwq$Swq$Vwq%swq$^wq$]wq~PLqO#p$cO%t$bO~O$^$dO~Ot#vO$^$fO~O$]vi$^vi~P']O$[#[OWyiXyiYyiZyi[yi]yi^yi_yi`yiayibyicyi!Zyi#tyi$Wyi$Xyi$_yi$`yi$ayi$byi$cyi$dyi$eyi$fyi$gyi$hyi$iyi$jyi$kyi$lyi$myi$nyi$oyi$pyi$qyi$ryi$syi$tyi$uyi$vyi$wyi$xyi$yyi$zyi${yi$|yi$}yi%Oyi%Pyi%Qyi%Ryi%Syi%Tyi%Uyi%Vyi%Wyi%Xyi%Yyi%Zyi%[yi%]yi%^yi%_yi%`yi%ayi%byi%cyi%dyi%eyi%fyi%gyi%hyi%iyi%jyi%kyi%lyi%myi%nyi%oyi%pyi%qyi%ryi%uyi%vyi%wyi%yyi~O%t$hO~O",goto:"(u$UPPPPPPPPPPPPPPPPPPPPPPPPPPPPP$V$u%R%_%e%q%tP%z&T$uP&W&gPPPPPPPPPPP$u&q&}P&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}&}$uP'Z$u$uP$u$u'j$u'v(V(f(i(oPPP$uP(rQSOQ#TXQ#UYQ#_!vQ$P#eQ$Q#fQ$R#gQ$S#hQ$T#iR$_#ze_OXY!v#e#f#g#h#i#zeROXY!v#e#f#g#h#i#zQ!wRR#a!xQ#]!uQ#|#bQ$`#}R$g$aR#w#[Q#x#[R$e$]Q!xRQ#RUR#a!wR#^!vQ#e!yQ#f!zQ#g!{Q#h!|R#i!}Y#c!y!z!{!|!}R$O#deUOXY!v#e#f#g#h#i#zeTOXY!v#e#f#g#h#i#zd_OXY!v#e#f#g#h#i#zR#o#QeYOXY!v#e#f#g#h#i#zd]OXY!v#e#f#g#h#i#zR!tPd^OXY!v#e#f#g#h#i#zR#Z]R#W[Q#X[R$Z#tR#s#VR#p#Q",nodeNames:"\u26a0 Bool Ignoring On GroupLeft GroupRight Offset Atan2 Avg Bottomk Count CountValues Group Max Min Quantile Stddev Stdvar Sum Topk By Without And Or Unless Start End LineComment PromQL Expr AggregateExpr AggregateOp AggregateModifier GroupingLabels GroupingLabelList GroupingLabel LabelName FunctionCallBody FunctionCallArgs BinaryExpr Pow BinModifiers OnOrIgnoring Mul Div Mod Add Sub Eql Gte Gtr Lte Lss Neq FunctionCall FunctionIdentifier AbsentOverTime Identifier Absent Abs Acos Acosh Asin Asinh Atan Atanh AvgOverTime Ceil Changes Clamp ClampMax ClampMin Cos Cosh CountOverTime DaysInMonth DayOfMonth DayOfWeek Deg Delta Deriv Exp Floor HistogramQuantile HoltWinters Hour Idelta Increase Irate LabelReplace LabelJoin LastOverTime Ln Log10 Log2 MaxOverTime MinOverTime Minute Month Pi PredictLinear PresentOverTime QuantileOverTime Rad Rate Resets Round Scalar Sgn Sin Sinh Sort SortDesc Sqrt StddevOverTime StdvarOverTime SumOverTime Tan Tanh Timestamp Time Vector Year MatrixSelector Duration NumberLiteral OffsetExpr ParenExpr StringLiteral SubqueryExpr UnaryExpr UnaryOp VectorSelector MetricIdentifier LabelMatchers LabelMatchList LabelMatcher MatchOp EqlSingle EqlRegex NeqRegex StepInvariantExpr At AtModifierPreprocessors MetricName",maxTerm:226,skippedNodes:[0,27],repeatNodeCount:0,tokenData:"1R~RwX^#lpq#lqr$ars$tst%huv%swx%xxy&gyz&lz{&q{|&v|}&}}!O'S!O!P'Z!P!Q(Z!Q!R(`!R![)W![!]-r!^!_.n!_!`.{!`!a/b!b!c/o!c!}/t!}#O0[#P#Q0a#Q#R0f#R#S/t#S#T0k#T#o/t#o#p0w#q#r0|#y#z#l$f$g#l#BY#BZ#l$IS$I_#l$I|$JO#l$JT$JU#l$KV$KW#l&FU&FV#l~#qY$Z~X^#lpq#l#y#z#l$f$g#l#BY#BZ#l$IS$I_#l$I|$JO#l$JT$JU#l$KV$KW#l&FU&FV#l~$dQ!_!`$j#r#s$o~$oO!V~~$tO$Q~~$yU#t~OY$tZr$trs%]s#O$t#O#P%b#P~$t~%bO#t~~%ePO~$t~%mQk~OY%hZ~%h~%xO}~~%}U#t~OY%xZw%xwx%]x#O%x#O#P&a#P~%x~&dPO~%x~&lO$[~~&qO$^~~&vO{~R&}O%vP!OQ~'SO$]~R'ZO%uP!PQP'^P!Q!['aP'fR%wP!Q!['a!g!h'o#X#Y'oP'rR{|'{}!O'{!Q![(RP(OP!Q![(RP(WP%wP!Q![(R~(`O|~R(eZ%wP!O!P'a!Q![)W!g!h'o#W#X){#X#Y'o#[#]*d#a#b*x#g#h+l#k#l+}#l#m-W#m#n,iR)]Y%wP!O!P'a!Q![)W!g!h'o#W#X){#X#Y'o#[#]*d#a#b*x#g#h+l#k#l+}#m#n,iQ*QP#pQ!Q![*TQ*WS!Q![*T#[#]*d#a#b*x#g#h+lQ*iP#pQ!Q![*lQ*oR!Q![*l#a#b*x#g#h+lQ*}Q#pQ!Q![+T#g#h+gQ+WR!Q![+T#a#b+a#g#h+lQ+dP#g#h+gQ+lO#pQQ+qP#pQ!Q![+tQ+wQ!Q![+t#a#b+aQ,SP#pQ!Q![,VQ,YT!Q![,V#W#X){#[#]*d#a#b*x#g#h+lQ,nP#pQ!Q![,qQ,tU!Q![,q#W#X){#[#]*d#a#b*x#g#h+l#k#l+}P-ZR!Q![-d!c!i-d#T#Z-dP-iR%wP!Q![-d!c!i-d#T#Z-dV-yT%xS!ZR!Q![.Y![!].Y!c!}.Y#R#S.Y#T#o.YR._T!ZR!Q![.Y![!].Y!c!}.Y#R#S.Y#T#o.Y~.sP!U~!_!`.v~.{O!T~~/QQ$OP!_!`/W#r#s/]Q/]O!QQ~/bO$P~~/gP!S~!_!`/j~/oO!R~~/tO$S~V/{T!ZRtS!Q![/t![!].Y!c!}/t#R#S/t#T#o/t~0aO%s~~0fO%t~~0kOx~~0nRO#S0k#S#T%]#T~0k~0|O%y~~1RO%z~",tokenizers:[0,1,2],topRules:{PromQL:[0,28],MetricName:[1,144]},specialized:[{term:57,get:function(e,t){return function(e,t){return Ue[e.toLowerCase()]||-1}(e)<<1}},{term:57,get:function(e,t){return function(e,t){return Ye[e.toLowerCase()]||-1}(e)<<1|1}},{term:57,get:function(e){return Ze[e]||-1}}],tokenPrec:0});!function(e){e.none="none",e.vector="vector",e.scalar="scalar",e.matrix="matrix",e.string="string"}(De||(De={}));var Ke=(Ae={},Object(H.a)(Ae,59,{name:"abs",argTypes:[De.vector],variadic:0,returnType:De.vector}),Object(H.a)(Ae,58,{name:"absent",argTypes:[De.vector],variadic:0,returnType:De.vector}),Object(H.a)(Ae,56,{name:"absent_over_time",argTypes:[De.matrix],variadic:0,returnType:De.vector}),Object(H.a)(Ae,60,{name:"acos",argTypes:[De.vector],variadic:0,returnType:De.vector}),Object(H.a)(Ae,61,{name:"acosh",argTypes:[De.vector],variadic:0,returnType:De.vector}),Object(H.a)(Ae,62,{name:"asin",argTypes:[De.vector],variadic:0,returnType:De.vector}),Object(H.a)(Ae,63,{name:"asinh",argTypes:[De.vector],variadic:0,returnType:De.vector}),Object(H.a)(Ae,64,{name:"atan",argTypes:[De.vector],variadic:0,returnType:De.vector}),Object(H.a)(Ae,65,{name:"atanh",argTypes:[De.vector],variadic:0,returnType:De.vector}),Object(H.a)(Ae,66,{name:"avg_over_time",argTypes:[De.matrix],variadic:0,returnType:De.vector}),Object(H.a)(Ae,67,{name:"ceil",argTypes:[De.vector],variadic:0,returnType:De.vector}),Object(H.a)(Ae,68,{name:"changes",argTypes:[De.matrix],variadic:0,returnType:De.vector}),Object(H.a)(Ae,69,{name:"clamp",argTypes:[De.vector,De.scalar,De.scalar],variadic:0,returnType:De.vector}),Object(H.a)(Ae,70,{name:"clamp_max",argTypes:[De.vector,De.scalar],variadic:0,returnType:De.vector}),Object(H.a)(Ae,71,{name:"clamp_min",argTypes:[De.vector,De.scalar],variadic:0,returnType:De.vector}),Object(H.a)(Ae,72,{name:"cos",argTypes:[De.vector],variadic:0,returnType:De.vector}),Object(H.a)(Ae,73,{name:"Cosh",argTypes:[De.vector],variadic:0,returnType:De.vector}),Object(H.a)(Ae,74,{name:"count_over_time",argTypes:[De.matrix],variadic:0,returnType:De.vector}),Object(H.a)(Ae,75,{name:"days_in_month",argTypes:[De.vector],variadic:1,returnType:De.vector}),Object(H.a)(Ae,76,{name:"day_of_month",argTypes:[De.vector],variadic:1,returnType:De.vector}),Object(H.a)(Ae,77,{name:"day_of_week",argTypes:[De.vector],variadic:1,returnType:De.vector}),Object(H.a)(Ae,78,{name:"deg",argTypes:[De.vector],variadic:0,returnType:De.vector}),Object(H.a)(Ae,79,{name:"delta",argTypes:[De.matrix],variadic:0,returnType:De.vector}),Object(H.a)(Ae,80,{name:"deriv",argTypes:[De.matrix],variadic:0,returnType:De.vector}),Object(H.a)(Ae,81,{name:"exp",argTypes:[De.vector],variadic:0,returnType:De.vector}),Object(H.a)(Ae,82,{name:"floor",argTypes:[De.vector],variadic:0,returnType:De.vector}),Object(H.a)(Ae,83,{name:"histogram_quantile",argTypes:[De.scalar,De.vector],variadic:0,returnType:De.vector}),Object(H.a)(Ae,84,{name:"holt_winters",argTypes:[De.matrix,De.scalar,De.scalar],variadic:0,returnType:De.vector}),Object(H.a)(Ae,85,{name:"hour",argTypes:[De.vector],variadic:1,returnType:De.vector}),Object(H.a)(Ae,86,{name:"idelta",argTypes:[De.matrix],variadic:0,returnType:De.vector}),Object(H.a)(Ae,87,{name:"increase",argTypes:[De.matrix],variadic:0,returnType:De.vector}),Object(H.a)(Ae,88,{name:"irate",argTypes:[De.matrix],variadic:0,returnType:De.vector}),Object(H.a)(Ae,89,{name:"label_replace",argTypes:[De.vector,De.string,De.string,De.string,De.string],variadic:0,returnType:De.vector}),Object(H.a)(Ae,90,{name:"label_join",argTypes:[De.vector,De.string,De.string,De.string],variadic:-1,returnType:De.vector}),Object(H.a)(Ae,91,{name:"last_over_time",argTypes:[De.matrix],variadic:0,returnType:De.vector}),Object(H.a)(Ae,92,{name:"ln",argTypes:[De.vector],variadic:0,returnType:De.vector}),Object(H.a)(Ae,93,{name:"log10",argTypes:[De.vector],variadic:0,returnType:De.vector}),Object(H.a)(Ae,94,{name:"log2",argTypes:[De.vector],variadic:0,returnType:De.vector}),Object(H.a)(Ae,95,{name:"max_over_time",argTypes:[De.matrix],variadic:0,returnType:De.vector}),Object(H.a)(Ae,96,{name:"min_over_time",argTypes:[De.matrix],variadic:0,returnType:De.vector}),Object(H.a)(Ae,97,{name:"minute",argTypes:[De.vector],variadic:1,returnType:De.vector}),Object(H.a)(Ae,98,{name:"month",argTypes:[De.vector],variadic:1,returnType:De.vector}),Object(H.a)(Ae,99,{name:"pi",argTypes:[],variadic:0,returnType:De.vector}),Object(H.a)(Ae,100,{name:"predict_linear",argTypes:[De.matrix,De.scalar],variadic:0,returnType:De.vector}),Object(H.a)(Ae,101,{name:"present_over_time",argTypes:[De.matrix],variadic:0,returnType:De.vector}),Object(H.a)(Ae,102,{name:"quantile_over_time",argTypes:[De.scalar,De.matrix],variadic:0,returnType:De.vector}),Object(H.a)(Ae,103,{name:"rad",argTypes:[De.vector],variadic:0,returnType:De.vector}),Object(H.a)(Ae,104,{name:"rate",argTypes:[De.matrix],variadic:0,returnType:De.vector}),Object(H.a)(Ae,105,{name:"resets",argTypes:[De.matrix],variadic:0,returnType:De.vector}),Object(H.a)(Ae,106,{name:"round",argTypes:[De.vector,De.scalar],variadic:1,returnType:De.vector}),Object(H.a)(Ae,107,{name:"scalar",argTypes:[De.vector],variadic:0,returnType:De.scalar}),Object(H.a)(Ae,108,{name:"sgn",argTypes:[De.vector],variadic:0,returnType:De.vector}),Object(H.a)(Ae,109,{name:"sin",argTypes:[De.vector],variadic:0,returnType:De.vector}),Object(H.a)(Ae,110,{name:"Sinh",argTypes:[De.vector],variadic:0,returnType:De.vector}),Object(H.a)(Ae,111,{name:"sort",argTypes:[De.vector],variadic:0,returnType:De.vector}),Object(H.a)(Ae,112,{name:"sort_desc",argTypes:[De.vector],variadic:0,returnType:De.vector}),Object(H.a)(Ae,113,{name:"sqrt",argTypes:[De.vector],variadic:0,returnType:De.vector}),Object(H.a)(Ae,114,{name:"stddev_over_time",argTypes:[De.matrix],variadic:0,returnType:De.vector}),Object(H.a)(Ae,115,{name:"stdvar_over_time",argTypes:[De.matrix],variadic:0,returnType:De.vector}),Object(H.a)(Ae,116,{name:"sum_over_time",argTypes:[De.matrix],variadic:0,returnType:De.vector}),Object(H.a)(Ae,117,{name:"tan",argTypes:[De.vector],variadic:0,returnType:De.vector}),Object(H.a)(Ae,118,{name:"tanh",argTypes:[De.vector],variadic:0,returnType:De.vector}),Object(H.a)(Ae,120,{name:"time",argTypes:[],variadic:0,returnType:De.scalar}),Object(H.a)(Ae,119,{name:"timestamp",argTypes:[De.vector],variadic:0,returnType:De.vector}),Object(H.a)(Ae,121,{name:"vector",argTypes:[De.scalar],variadic:0,returnType:De.vector}),Object(H.a)(Ae,122,{name:"year",argTypes:[De.vector],variadic:1,returnType:De.vector}),Ae);function et(e){return Ke[e]}var tt,nt=function(){function e(t,n,a){Object(te.a)(this,e),this.type=t,this.name=n,this.value=a}return Object(ne.a)(e,[{key:"matchesEmpty",value:function(){switch(this.type){case Ge:return""===this.value;case 53:return""!==this.value;default:return!1}}}]),e}();function at(e,t){var n=[];return e.forEach((function(e){n.push(function(e,t){var n=new nt(0,"",""),a=e.cursor;if(!a.next())return n;do{switch(a.type.id){case 36:n.name=t.sliceDoc(a.from,a.to);break;case 137:var r=a.node.firstChild;r&&(n.type=r.type.id);break;case Ve:n.value=t.sliceDoc(a.from,a.to).slice(1,-1)}}while(a.nextSibling());return n}(e,t))})),n}function rt(e,t,n){if(!t||0===t.length)return e;var a,r="",i=Object(B.a)(t);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(o.name!==n&&""!==o.value){var c="";switch(o.type){case Ge:c="=";break;case 53:c="!=";break;case 140:c="!~";break;case 139:c="=~";break;default:c="="}var s="".concat(o.name).concat(c,'"').concat(o.value,'"');r=""===r?s:"".concat(r,",").concat(s)}}}catch(l){i.e(l)}finally{i.f()}return"".concat(e,"{").concat(r,"}")}function it(e,t){for(var n=e.cursor,a=!0;a&&n.type.id!==t;)a=n.parent();return n.type.id===t?n.node:null}function ot(e){for(var t=e.cursor,n=0,a=!0,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];for(i.unshift(t.type.id);n<i.length&&a;)t.type.id===i[n]||t.type.name===i[n]?++n<i.length&&(a=t.next()):a=t.nextSibling();return n>=i.length?t.node:null}function ct(e){var t=e.cursor;if(!t.next())return!1;for(var n=!1,a=arguments.length,r=new Array(a>1?a-1:0),i=1;i<a;i++)r[i-1]=arguments[i];do{n=r.some((function(e){return t.type.id===e||t.type.name===e}))}while(!n&&t.nextSibling());return n}function st(e){var t=e.cursor;if(!t.next())return!1;for(var n=0,a=arguments.length,r=new Array(a>1?a-1:0),i=1;i<a;i++)r[i-1]=arguments[i];do{t.type.id!==r[n]&&t.type.name!==r[n]||n++}while(n<r.length&&t.nextSibling());return n>=r.length}function lt(e,t,n){var a=[];return function e(a,r){var i=null===a||void 0===a?void 0:a.getChild(t),o=null===a||void 0===a?void 0:a.lastChild;i&&i.type.id===t&&e(i,r),o&&o.type.id===n&&r.push(o)}(e,a),a}function ut(e){var t;if(!e)return De.none;switch(e.type.id){case Ie:return ut(e.firstChild);case 30:case We:return De.vector;case Fe:return ut(e.firstChild);case Ve:return De.string;case 125:return De.scalar;case qe:case ze:return De.matrix;case 127:case 130:return ut(ot(e,Ie));case Xe:var n=ut(e.firstChild),a=ut(e.lastChild);return n===De.scalar&&a===De.scalar?De.scalar:De.vector;case 54:var r=null===(t=e.firstChild)||void 0===t?void 0:t.firstChild;return r?et(r.type.id).returnType:De.none;case 141:return ut(ot(e,Ie));default:return De.none}}!function(e){e.CardOneToOne="one-to-one",e.CardManyToOne="many-to-one",e.CardOneToMany="one-to-many",e.CardManyToMany="many-to-many"}(tt||(tt={}));var dt,ht=function(){function e(t){Object(te.a)(this,e),this.tree=Object(pe.syntaxTree)(t),this.state=t,this.diagnostics=[]}return Object(ne.a)(e,[{key:"getDiagnostics",value:function(){return this.diagnostics.sort((function(e,t){return e.from-t.from}))}},{key:"analyze",value:function(){this.checkAST(this.tree.topNode.firstChild),this.diagnoseAllErrorNodes()}},{key:"diagnoseAllErrorNodes",value:function(){for(var e=this.tree.cursor();e.next();)if(0===e.type.id&&e.to!==this.tree.topNode.to){var t=e.node.parent;this.diagnostics.push({severity:"error",message:"unexpected expression",from:t?t.from:e.from,to:t?t.to:e.to})}}},{key:"checkAST",value:function(e){if(!e)return De.none;switch(e.type.id){case Ie:return this.checkAST(e.firstChild);case 30:this.checkAggregationExpr(e);break;case Xe:this.checkBinaryExpr(e);break;case 54:this.checkCallFunction(e);break;case 127:this.checkAST(ot(e,Ie));break;case 130:var t=this.checkAST(ot(e,Ie));t!==De.scalar&&t!==De.vector&&this.addDiagnostic(e,"unary expression only allowed on expressions of type scalar or instant vector, got ".concat(t));break;case ze:var n=this.checkAST(ot(e,Ie));n!==De.vector&&this.addDiagnostic(e,"subquery is only allowed on instant vector, got ".concat(n," in ").concat(e.name," instead"));break;case qe:this.checkAST(ot(e,Ie));break;case We:this.checkVectorSelector(e);break;case 141:var a=this.checkAST(ot(e,Ie));a!==De.vector&&a!==De.matrix&&this.addDiagnostic(e,"@ modifier must be preceded by an instant selector vector or range vector selector or a subquery")}return ut(e)}},{key:"checkAggregationExpr",value:function(e){var t,n=null===(t=e.firstChild)||void 0===t?void 0:t.firstChild;if(n){var a=ot(e,37,38,Ie);if(a){this.expectType(a,De.vector,"aggregation expression");var r=ot(e,37,38,38,Ie);if(19===n.type.id||9===n.type.id||15===n.type.id){if(!r)return void this.addDiagnostic(e,"no parameter found");this.expectType(r,De.scalar,"aggregation parameter")}if(11===n.type.id){if(!r)return void this.addDiagnostic(e,"no parameter found");this.expectType(r,De.string,"aggregation parameter")}}else this.addDiagnostic(e,"unable to find the parameter for the expression")}else this.addDiagnostic(e,"aggregation operator expected in aggregation expression but got nothing")}},{key:"checkBinaryExpr",value:function(e){var t=e.firstChild,n=e.lastChild;if(t&&n){var a=this.checkAST(t),r=this.checkAST(n),i=ot(e,41,1),o=ct(e,48,53,51,52,49,50),c=ct(e,22,23,24);i?o||this.addDiagnostic(e,"bool modifier can only be used on comparison operators"):o&&a===De.scalar&&r===De.scalar&&this.addDiagnostic(e,"comparisons between scalars must use BOOL modifier");var s=function(e,t){if(!t||t.type.id!==Xe)return null;var n={card:tt.CardOneToOne,matchingLabels:[],on:!1,include:[]},a=t.getChild(41);if(a){var r=a.getChild(42);if(r){n.on=null!==r.getChild(3);var i=lt(r.getChild(33),34,35);if(i.length>0){var o,c=Object(B.a)(i);try{for(c.s();!(o=c.n()).done;){var s=o.value;n.matchingLabels.push(e.sliceDoc(s.from,s.to))}}catch(m){c.e(m)}finally{c.f()}}}var l=a.getChild(4),u=a.getChild(5);if(l||u){n.card=l?tt.CardManyToOne:tt.CardOneToMany;var d=lt(a.getChild(33),34,35);if(d.length>0){var h,p=Object(B.a)(d);try{for(p.s();!(h=p.n()).done;){var f=h.value;n.include.push(e.sliceDoc(f.from,f.to))}}catch(m){p.e(m)}finally{p.f()}}}}return ct(t,22,23,24)&&n.card===tt.CardOneToOne&&(n.card=tt.CardManyToMany),n}(this.state,e);if(null!==s&&s.on){var l,u=Object(B.a)(s.matchingLabels);try{for(u.s();!(l=u.n()).done;){var d,h=l.value,p=Object(B.a)(s.include);try{for(p.s();!(d=p.n()).done;){h===d.value&&this.addDiagnostic(e,'label "'.concat(h,'" must not occur in ON and GROUP clause at once'))}}catch(f){p.e(f)}finally{p.f()}}}catch(f){u.e(f)}finally{u.f()}}a!==De.scalar&&a!==De.vector&&this.addDiagnostic(t,"binary expression must contain only scalar and instant vector types"),r!==De.scalar&&r!==De.vector&&this.addDiagnostic(n,"binary expression must contain only scalar and instant vector types"),a===De.vector&&r===De.vector||null===s?c&&((null===s||void 0===s?void 0:s.card)!==tt.CardOneToMany&&(null===s||void 0===s?void 0:s.card)!==tt.CardManyToOne||this.addDiagnostic(e,"no grouping allowed for set operations"),(null===s||void 0===s?void 0:s.card)!==tt.CardManyToMany&&this.addDiagnostic(e,"set operations must always be many-to-many")):s.matchingLabels.length>0&&this.addDiagnostic(e,"vector matching only allowed between instant vectors"),a!==De.scalar&&r!==De.scalar||!c||this.addDiagnostic(e,"set operator not allowed in binary scalar expression")}else this.addDiagnostic(e,"left or right expression is missing in binary expression")}},{key:"checkCallFunction",value:function(e){var t,n=null===(t=e.firstChild)||void 0===t?void 0:t.firstChild;if(n){var a=lt(ot(e,37),38,Ie),r=et(n.type.id),i=r.argTypes.length;if(0===r.variadic)a.length!==i&&this.addDiagnostic(e,"expected ".concat(i,' argument(s) in call to "').concat(r.name,'", got ').concat(a.length));else{var o=i-1;if(o>a.length)this.addDiagnostic(e,"expected at least ".concat(o,' argument(s) in call to "').concat(r.name,'", got ').concat(a.length));else{var c=o+r.variadic;r.variadic>0&&c<a.length&&this.addDiagnostic(e,"expected at most ".concat(c,' argument(s) in call to "').concat(r.name,'", got ').concat(a.length))}}for(var s=0,l=0;l<a.length;l++){if((s=l)>=r.argTypes.length){if(0===r.variadic)break;s=r.argTypes.length-1}this.expectType(a[l],r.argTypes[s],'call to function "'.concat(r.name,'"'))}}else this.addDiagnostic(e,"function not defined")}},{key:"checkVectorSelector",value:function(e){var t=at(lt(ot(e,134,Be),Be,He),this.state),n="",a=ot(e,133,57);if(a&&(n=this.state.sliceDoc(a.from,a.to)),""!==n){var r=t.find((function(e){return"__name__"===e.name}));r&&this.addDiagnostic(e,"metric name must not be set twice: ".concat(n," or ").concat(r.value)),t.push(new nt(Ge,"__name__",n))}t.every((function(e){return e.matchesEmpty()}))&&this.addDiagnostic(e,"vector selector must contain at least one non-empty matcher")}},{key:"expectType",value:function(e,t,n){var a=this.checkAST(e);a!==t&&this.addDiagnostic(e,"expected type ".concat(t," in ").concat(n,", got ").concat(a))}},{key:"addDiagnostic",value:function(e,t){this.diagnostics.push({severity:"error",message:t,from:e.from,to:e.to})}}]),e}(),pt=[{label:"^"},{label:"*"},{label:"/"},{label:"%"},{label:"+"},{label:"-"},{label:"=="},{label:">="},{label:">"},{label:"<"},{label:"<="},{label:"!="},{label:"atan2"},{label:"and"},{label:"or"},{label:"unless"}],ft=[{label:"avg",detail:"aggregation",info:"Calculate the average over dimensions",type:"keyword"},{label:"bottomk",detail:"aggregation",info:"Smallest k elements by sample value",type:"keyword"},{label:"count",detail:"aggregation",info:"Count number of elements in the vector",type:"keyword"},{label:"count_values",detail:"aggregation",info:"Count number of elements with the same value",type:"keyword"},{label:"group",detail:"aggregation",info:"Group series, while setting the sample value to 1",type:"keyword"},{label:"max",detail:"aggregation",info:"Select maximum over dimensions",type:"keyword"},{label:"min",detail:"aggregation",info:"Select minimum over dimensions",type:"keyword"},{label:"quantile",detail:"aggregation",info:"Calculate \u03c6-quantile (0 \u2264 \u03c6 \u2264 1) over dimensions",type:"keyword"},{label:"stddev",detail:"aggregation",info:"Calculate population standard deviation over dimensions",type:"keyword"},{label:"stdvar",detail:"aggregation",info:"Calculate population standard variance over dimensions",type:"keyword"},{label:"sum",detail:"aggregation",info:"Calculate sum over dimensions",type:"keyword"},{label:"topk",detail:"aggregation",info:"Largest k elements by sample value",type:"keyword"}],mt=[{label:"sum(rate(__input_vector__[5m]))",type:"function",detail:"snippet",info:"Sum over rates of increase",apply:Object(xe.snippet)("sum(rate(${__input_vector__}[5m]))")},{label:"histogram_quantile(__quantile__, sum by(le) (rate(__histogram_metric__[5m])))",type:"function",detail:"snippet",info:"Approximate a quantile value from an aggregated histogram",apply:Object(xe.snippet)("histogram_quantile(${__quantile__}, sum by(le) (rate(${__histogram_metric__}[5m])))")},{label:'label_replace(__input_vector__, "__dst__", "__replacement__", "__src__", "__regex__")',type:"function",detail:"snippet",info:"Set or replace a label value in an input vector",apply:Object(xe.snippet)('label_replace(${__input_vector__}, "${__dst__}", "${__replacement__}", "${__src__}", "${__regex__}")')},{label:"topk(__rank_number__, __input_vector__)",type:"function",detail:"snippet",info:"Largest k elements by sample value",apply:Object(xe.snippet)("topk(${__rank_number__}, ${__input_vector__})")},{label:"bottomk(__rank_number__, __input_vector__)",type:"function",detail:"snippet",info:"Smallest k elements by sample value",apply:Object(xe.snippet)("bottomk(${__rank_number__}, ${__input_vector__})")},{label:'count_values("__label_name__", __input_vector__)',type:"function",detail:"snippet",info:"Count the number of series per distinct sample value",apply:Object(xe.snippet)('count_values("${__label_name__}", ${__metric__})')}],bt={matchOp:[{label:"="},{label:"!="},{label:"=~"},{label:"!~"}],binOp:pt,duration:[{label:"y"},{label:"w"},{label:"d"},{label:"h"},{label:"m"},{label:"s"},{label:"ms"}],binOpModifier:[{label:"on",info:"Match only on specified labels",type:"keyword"},{label:"ignoring",info:"Ignore specified labels for matching",type:"keyword"},{label:"group_left",info:"Allow many-to-one matching",type:"keyword"},{label:"group_right",info:"Allow one-to-many matching",type:"keyword"}],atModifier:[{label:"start()",info:"resolve to the start of the query",type:"keyword"},{label:"end()",info:"resolve to the end of the query",type:"keyword"}],functionIdentifier:[{label:"abs",detail:"function",info:"Return absolute values of input series",type:"function"},{label:"absent",detail:"function",info:"Determine whether input vector is empty",type:"function"},{label:"absent_over_time",detail:"function",info:"Determine whether input range vector is empty",type:"function"},{label:"acos",detail:"function",info:"Calculate the arccosine, in radians, for input series",type:"function"},{label:"acosh",detail:"function",info:"Calculate the inverse hyperbolic cosine, in radians, for input series",type:"function"},{label:"asin",detail:"function",info:"Calculate the arcsine, in radians, for input series",type:"function"},{label:"asinh",detail:"function",info:"Calculate the inverse hyperbolic sine, in radians, for input series",type:"function"},{label:"atan",detail:"function",info:"Calculate the arctangent, in radians, for input series",type:"function"},{label:"atanh",detail:"function",info:"Calculate the inverse hyperbolic tangent, in radians, for input series",type:"function"},{label:"avg_over_time",detail:"function",info:"Average series values over time",type:"function"},{label:"ceil",detail:"function",info:"Round up values of input series to nearest integer",type:"function"},{label:"changes",detail:"function",info:"Return number of value changes in input series over time",type:"function"},{label:"clamp",detail:"function",info:"Limit the value of input series between a minimum and a maximum",type:"function"},{label:"clamp_max",detail:"function",info:"Limit the value of input series to a maximum",type:"function"},{label:"clamp_min",detail:"function",info:"Limit the value of input series to a minimum",type:"function"},{label:"cos",detail:"function",info:"Calculate the cosine, in radians, for input series",type:"function",boost:-1},{label:"cosh",detail:"function",info:"Calculate the hyperbolic cosine, in radians, for input series",type:"function",boost:-1},{label:"count_over_time",detail:"function",info:"Count the number of values for each input series",type:"function"},{label:"days_in_month",detail:"function",info:"Return the number of days in current month for provided timestamps",type:"function"},{label:"day_of_month",detail:"function",info:"Return the day of the month for provided timestamps",type:"function"},{label:"day_of_week",detail:"function",info:"Return the day of the week for provided timestamps",type:"function"},{label:"deg",detail:"function",info:"Convert radians to degrees for input series",type:"function",boost:-1},{label:"delta",detail:"function",info:"Calculate the difference between beginning and end of a range vector (for gauges)",type:"function"},{label:"deriv",detail:"function",info:"Calculate the per-second derivative over series in a range vector (for gauges)",type:"function"},{label:"exp",detail:"function",info:"Calculate exponential function for input vector values",type:"function"},{label:"floor",detail:"function",info:"Round down values of input series to nearest integer",type:"function"},{label:"histogram_quantile",detail:"function",info:"Calculate quantiles from histogram buckets",type:"function"},{label:"holt_winters",detail:"function",info:"Calculate smoothed value of input series",type:"function"},{label:"hour",detail:"function",info:"Return the hour of the day for provided timestamps",type:"function"},{label:"idelta",detail:"function",info:"Calculate the difference between the last two samples of a range vector (for counters)",type:"function"},{label:"increase",detail:"function",info:"Calculate the increase in value over a range of time (for counters)",type:"function"},{label:"irate",detail:"function",info:"Calculate the per-second increase over the last two samples of a range vector (for counters)",type:"function"},{label:"label_replace",detail:"function",info:"Set or replace label values",type:"function"},{label:"label_join",detail:"function",info:"Join together label values into new label",type:"function"},{label:"last_over_time",detail:"function",info:"The most recent point value in specified interval.",type:"function"},{label:"ln",detail:"function",info:"Calculate natural logarithm of input series",type:"function"},{label:"log10",detail:"function",info:"Calulcate base-10 logarithm of input series",type:"function"},{label:"log2",detail:"function",info:"Calculate base-2 logarithm of input series",type:"function"},{label:"max_over_time",detail:"function",info:"Return the maximum value over time for input series",type:"function"},{label:"min_over_time",detail:"function",info:"Return the minimum value over time for input series",type:"function"},{label:"minute",detail:"function",info:"Return the minute of the hour for provided timestamps",type:"function"},{label:"month",detail:"function",info:"Return the month for provided timestamps",type:"function"},{label:"pi",detail:"function",info:"Return pi",type:"function"},{label:"predict_linear",detail:"function",info:"Predict the value of a gauge into the future",type:"function"},{label:"present_over_time",detail:"function",info:"the value 1 for any series in the specified interval",type:"function"},{label:"quantile_over_time",detail:"function",info:"Calculate value quantiles over time for input series",type:"function"},{label:"rad",detail:"function",info:"Convert degrees to radians for input series",type:"function",boost:-1},{label:"rate",detail:"function",info:"Calculate per-second increase over a range vector (for counters)",type:"function"},{label:"resets",detail:"function",info:"Return number of value decreases (resets) in input series of time",type:"function"},{label:"round",detail:"function",info:"Round values of input series to nearest integer",type:"function"},{label:"scalar",detail:"function",info:"Convert single-element series vector into scalar value",type:"function"},{label:"sgn",detail:"function",info:"Returns the sign of the instant vector",type:"function"},{label:"sin",detail:"function",info:"Calculate the sine, in radians, for input series",type:"function"},{label:"sinh",detail:"function",info:"Calculate the hyperbolic sine, in radians, for input series",type:"function"},{label:"sort",detail:"function",info:"Sort input series ascendingly by value",type:"function"},{label:"sort_desc",detail:"function",info:"Sort input series descendingly by value",type:"function"},{label:"sqrt",detail:"function",info:"Return the square root for input series",type:"function"},{label:"stddev_over_time",detail:"function",info:"Calculate the standard deviation within input series over time",type:"function"},{label:"stdvar_over_time",detail:"function",info:"Calculate the standard variation within input series over time",type:"function"},{label:"sum_over_time",detail:"function",info:"Calculate the sum over the values of input series over time",type:"function"},{label:"tan",detail:"function",info:"Calculate the tangent, in radians, for input series",type:"function"},{label:"tanh",detail:"function",info:"Calculate the hyperbolic tangent, in radians, for input series",type:"function"},{label:"time",detail:"function",info:"Return the Unix timestamp at the current evaluation time",type:"function"},{label:"timestamp",detail:"function",info:"Return the Unix timestamp for the samples in the input vector",type:"function"},{label:"vector",detail:"function",info:"Convert a scalar value into a single-element series vector",type:"function"},{label:"year",detail:"function",info:"Return the year for provided timestamps",type:"function"}],aggregateOp:ft,aggregateOpModifier:[{label:"by",info:"Keep the listed labels, remove all others.",type:"keyword"},{label:"without",info:"Remove the listed labels, preserve all others.",type:"keyword"}],number:[{label:"nan",info:"Floating-point NaN value",type:"constant"},{label:"inf",info:"Floating-point infinity",type:"constant"}]};function gt(e,t){var n=it(e,We);return n&&(n=ot(n,133,57))?t.sliceDoc(n.from,n.to):""}!function(e){e[e.MetricName=0]="MetricName",e[e.LabelName=1]="LabelName",e[e.LabelValue=2]="LabelValue",e[e.Function=3]="Function",e[e.Aggregation=4]="Aggregation",e[e.BinOpModifier=5]="BinOpModifier",e[e.BinOp=6]="BinOp",e[e.MatchOp=7]="MatchOp",e[e.AggregateOpModifier=8]="AggregateOpModifier",e[e.Duration=9]="Duration",e[e.Offset=10]="Offset",e[e.Bool=11]="Bool",e[e.AtModifiers=12]="AtModifiers",e[e.Number=13]="Number"}(dt||(dt={}));var vt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;Object(te.a)(this,e),this.prometheusClient=t,this.maxMetricsMetadata=n}return Object(ne.a)(e,[{key:"getPrometheusClient",value:function(){return this.prometheusClient}},{key:"promQL",value:function(e){var t,n=this,a=e.state,r=e.pos,i=Object(pe.syntaxTree)(a).resolve(r,-1),o=function(e,t){var n,a,r,i,o,c,s,l,u,d,h,p,f,m,b,g,v=[];switch(t.type.id){case 0:if((null===(n=t.parent)||void 0===n?void 0:n.type.id)===Fe){v.push({kind:dt.Duration});break}if((null===(a=t.parent)||void 0===a?void 0:a.type.id)===He){v.push({kind:dt.MatchOp});break}if((null===(r=t.parent)||void 0===r?void 0:r.type.id)===qe){v.push({kind:dt.Duration});break}if((null===(i=t.parent)||void 0===i?void 0:i.type.id)===ze&&ct(t.parent,124)){v.push({kind:dt.Duration});break}var y=e.sliceDoc(t.from,t.to);pt.filter((function(e){return e.label.includes(y)})).length>0&&v.push({kind:dt.BinOp});break;case 57:if(0===(null===(o=t.parent)||void 0===o?void 0:o.type.id)){var O=t.parent.parent;if(141===(null===O||void 0===O?void 0:O.type.id)){v.push({kind:dt.AtModifiers});break}if(30===(null===O||void 0===O?void 0:O.type.id)){v.push({kind:dt.AggregateOpModifier},{kind:dt.BinOp});break}if((null===O||void 0===O?void 0:O.type.id)===We){var x=gt(t,e);ft.filter((function(e){return e.label===x})).length>0&&v.push({kind:dt.AggregateOpModifier}),v.push({kind:dt.BinOp},{kind:dt.Offset});break}if(O&&st(O,Ie)){v.push({kind:dt.BinOp},{kind:dt.Offset});break}}var j=null===(l=null===(s=null===(c=t.parent)||void 0===c?void 0:c.parent)||void 0===s?void 0:s.parent)||void 0===l?void 0:l.parent;if(!j){v.push({kind:dt.MetricName,metricName:e.sliceDoc(t.from,t.to)});break}st(j,Ie,Ie)?j.type.id!==Xe||ct(j,0)||(v.push({kind:dt.MetricName,metricName:e.sliceDoc(t.from,t.to)},{kind:dt.Function},{kind:dt.Aggregation},{kind:dt.BinOpModifier},{kind:dt.Number}),ct(j,48,49,50,51,52,53)&&!ot(j,41,1)&&v.push({kind:dt.Bool})):(v.push({kind:dt.MetricName,metricName:e.sliceDoc(t.from,t.to)},{kind:dt.Function},{kind:dt.Aggregation}),38!==j.type.id&&j.type.id!==qe&&v.push({kind:dt.Number}));break;case 28:null!==t.firstChild&&0===t.firstChild.type.id&&v.push({kind:dt.MetricName,metricName:""},{kind:dt.Function},{kind:dt.Aggregation},{kind:dt.Number});break;case 33:v.push({kind:dt.LabelName});break;case 134:v.push({kind:dt.LabelName,metricName:gt(t,e)});break;case 36:35===(null===(u=t.parent)||void 0===u?void 0:u.type.id)?v.push({kind:dt.LabelName}):(null===(d=t.parent)||void 0===d?void 0:d.type.id)===He&&v.push({kind:dt.LabelName,metricName:gt(t,e)});break;case Ve:if((null===(h=t.parent)||void 0===h?void 0:h.type.id)===He){var k="";36===(null===(p=t.parent.firstChild)||void 0===p?void 0:p.type.id)&&(k=e.sliceDoc(t.parent.firstChild.from,t.parent.firstChild.to));var T=gt(t,e),w=at(lt(it(t,Be),Be,He),e);v.push({kind:dt.LabelValue,metricName:T,labelName:k,matchers:w})}break;case 125:0===(null===(f=t.parent)||void 0===f?void 0:f.type.id)&&(null===(m=t.parent.parent)||void 0===m?void 0:m.type.id)===ze?v.push({kind:dt.Duration}):v.push({kind:dt.Number});break;case 124:case Fe:v.push({kind:dt.Duration});break;case 37:v.push({kind:dt.MetricName,metricName:""},{kind:dt.Function},{kind:dt.Aggregation});break;case 53:137===(null===(b=t.parent)||void 0===b?void 0:b.type.id)?v.push({kind:dt.MatchOp}):(null===(g=t.parent)||void 0===g?void 0:g.type.id)===Xe&&v.push({kind:dt.BinOp});break;case Ge:case 139:case 140:case 137:v.push({kind:dt.MatchOp});break;case 40:case 43:case 44:case 45:case 46:case 47:case 48:case 49:case 50:case 51:case 52:case 22:case 24:case 23:case Xe:v.push({kind:dt.BinOp})}return v}(a,i),c=Promise.resolve([]),s=!1,l=!0,u=Object(B.a)(o);try{var d=function(){var e=t.value;switch(e.kind){case dt.Aggregation:s=!0,c=c.then((function(e){return e.concat(bt.aggregateOp)}));break;case dt.Function:s=!0,c=c.then((function(e){return e.concat(bt.functionIdentifier)}));break;case dt.BinOpModifier:c=c.then((function(e){return e.concat(bt.binOpModifier)}));break;case dt.BinOp:c=c.then((function(e){return e.concat(bt.binOp)}));break;case dt.MatchOp:c=c.then((function(e){return e.concat(bt.matchOp)}));break;case dt.AggregateOpModifier:c=c.then((function(e){return e.concat(bt.aggregateOpModifier)}));break;case dt.Duration:l=!1,c=c.then((function(e){return e.concat(bt.duration)}));break;case dt.Offset:c=c.then((function(e){return e.concat([{label:"offset"}])}));break;case dt.Bool:c=c.then((function(e){return e.concat([{label:"bool"}])}));break;case dt.AtModifiers:c=c.then((function(e){return e.concat(bt.atModifier)}));break;case dt.Number:c=c.then((function(e){return e.concat(bt.number)}));break;case dt.MetricName:c=c.then((function(t){return n.autocompleteMetricName(t,e)}));break;case dt.LabelName:c=c.then((function(t){return n.autocompleteLabelName(t,e)}));break;case dt.LabelValue:c=c.then((function(t){return n.autocompleteLabelValue(t,e)}))}};for(u.s();!(t=u.n()).done;)d()}catch(h){u.e(h)}finally{u.f()}return c.then((function(e){return function(e,t,n){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=e;return arguments.length>3&&void 0!==arguments[3]&&arguments[3]&&r.push.apply(r,Object(J.a)(mt)),{from:t,to:n,options:r,span:a?/^[a-zA-Z0-9_:]+$/:void 0}}(e,function(e,t){var n,a,r,i,o,c,s=e.from;return 134===e.type.id||33===e.type.id?s=function(e,t){var n=e.from+1;return null!==e.firstChild&&(n=t),n}(e,t):37===e.type.id||e.type.id===Ve&&(null===(n=e.parent)||void 0===n?void 0:n.type.id)===He?s++:(e.type.id===Fe||125===e.type.id&&0===(null===(a=e.parent)||void 0===a?void 0:a.type.id)&&(null===(r=e.parent.parent)||void 0===r?void 0:r.type.id)===ze||0===e.type.id&&((null===(i=e.parent)||void 0===i?void 0:i.type.id)===Fe||(null===(o=e.parent)||void 0===o?void 0:o.type.id)===qe||(null===(c=e.parent)||void 0===c?void 0:c.type.id)===ze&&ct(e.parent,124)))&&(s=t),s}(i,r),r,s,l)}))}},{key:"autocompleteMetricName",value:function(e,t){var n=this;if(!this.prometheusClient)return e;var a=new Map;return this.prometheusClient.metricNames(t.metricName).then((function(e){var t,r,i=Object(B.a)(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;a.set(o,{label:o,type:"constant"})}}catch(c){i.e(c)}finally{i.f()}if(e.length<=n.maxMetricsMetadata)return null===(t=n.prometheusClient)||void 0===t?void 0:t.metricMetadata()})).then((function(t){if(t){var n,r=Object(B.a)(a);try{for(r.s();!(n=r.n()).done;){var i=Object(l.a)(n.value,2),o=i[0],c=i[1],s=t[o.replace(/(_count|_sum|_bucket)$/,"")];if(s)if(s.length>1){var u,d=Object(B.a)(s);try{for(d.s();!(u=d.n()).done;){var h=u.value;""===c.detail?c.detail=h.type:c.detail!==h.type&&(c.detail="unknown",c.info="multiple different definitions for this metric"),""===c.info?c.info=h.help:c.info!==h.help&&(c.info="multiple different definitions for this metric")}}catch(b){d.e(b)}finally{d.f()}}else if(1===s.length){var p=s[0],f=p.type,m=p.help;"histogram"!==f&&"summary"!==f||(o.endsWith("_count")&&(f="counter",m="The total number of observations for: ".concat(m)),o.endsWith("_sum")&&(f="counter",m="The total sum of observations for: ".concat(m)),o.endsWith("_bucket")&&(f="counter",m="The total count of observations for a bucket in the histogram: ".concat(m))),c.detail=f,c.info=m}}}catch(b){r.e(b)}finally{r.f()}}return e.concat(Array.from(a.values()))}))}},{key:"autocompleteLabelName",value:function(e,t){return this.prometheusClient?this.prometheusClient.labelNames(t.metricName).then((function(t){return e.concat(t.map((function(e){return{label:e,type:"constant"}})))})):e}},{key:"autocompleteLabelValue",value:function(e,t){return this.prometheusClient&&t.labelName?this.prometheusClient.labelValues(t.labelName,t.metricName,t.matchers).then((function(t){return e.concat(t.map((function(e){return{label:e,type:"text"}})))})):e}}]),e}(),yt=n(83),Ot=n.n(yt),xt=400,jt=422,kt=503,Tt=function(){function e(t){Object(te.a)(this,e),this.lookbackInterval=432e5,this.httpMethod="POST",this.apiPrefix="/api/v1",this.fetchFn=function(e,t){return fetch(e,t)},this.url=t.url?t.url:"",this.errorHandler=t.httpErrorHandler,t.lookbackInterval&&(this.lookbackInterval=t.lookbackInterval),t.fetchFn&&(this.fetchFn=t.fetchFn),t.httpMethod&&(this.httpMethod=t.httpMethod),t.apiPrefix&&(this.apiPrefix=t.apiPrefix)}return Object(ne.a)(e,[{key:"labelNames",value:function(e){var t=this,n=new Date,a=new Date(n.getTime()-this.lookbackInterval);if(void 0===e||""===e){var r=this.buildRequest(this.labelsEndpoint(),new URLSearchParams({start:a.toISOString(),end:n.toISOString()}));return this.fetchAPI(r.uri,{method:this.httpMethod,body:r.body}).catch((function(e){return t.errorHandler&&t.errorHandler(e),[]}))}return this.series(e).then((function(e){var t,n=new Set,a=Object(B.a)(e);try{for(a.s();!(t=a.n()).done;)for(var r=t.value,i=0,o=Object.entries(r);i<o.length;i++){var c=Object(l.a)(o[i],1)[0];"__name__"!==c&&n.add(c)}}catch(s){a.e(s)}finally{a.f()}return Array.from(n)}))}},{key:"labelValues",value:function(e,t,n){var a=this,r=new Date,i=new Date(r.getTime()-this.lookbackInterval);if(!t||0===t.length){var o=new URLSearchParams({start:i.toISOString(),end:r.toISOString()});return this.fetchAPI("".concat(this.labelValuesEndpoint().replace(/:name/gi,e),"?").concat(o)).catch((function(e){return a.errorHandler&&a.errorHandler(e),[]}))}return this.series(t,n,e).then((function(t){var n,a=new Set,r=Object(B.a)(t);try{for(r.s();!(n=r.n()).done;)for(var i=n.value,o=0,c=Object.entries(i);o<c.length;o++){var s=Object(l.a)(c[o],2),u=s[0],d=s[1];"__name__"!==u&&(u===e&&a.add(d))}}catch(h){r.e(h)}finally{r.f()}return Array.from(a)}))}},{key:"metricMetadata",value:function(){var e=this;return this.fetchAPI(this.metricMetadataEndpoint()).catch((function(t){return e.errorHandler&&e.errorHandler(t),{}}))}},{key:"series",value:function(e,t,n){var a=this,r=new Date,i=new Date(r.getTime()-this.lookbackInterval),o=this.buildRequest(this.seriesEndpoint(),new URLSearchParams({start:i.toISOString(),end:r.toISOString(),"match[]":rt(e,t,n)}));return this.fetchAPI(o.uri,{method:this.httpMethod,body:o.body}).catch((function(e){return a.errorHandler&&a.errorHandler(e),[]}))}},{key:"metricNames",value:function(){return this.labelValues("__name__")}},{key:"fetchAPI",value:function(e,t){return this.fetchFn(this.url+e,t).then((function(e){if(!e.ok&&![xt,jt,kt].includes(e.status))throw new Error(e.statusText);return e})).then((function(e){return e.json()})).then((function(e){if("error"===e.status)throw new Error(void 0!==e.error?e.error:'missing "error" field in response JSON');if(void 0===e.data)throw new Error('missing "data" field in response JSON');return e.data}))}},{key:"buildRequest",value:function(e,t){var n=e,a=t;return"GET"===this.httpMethod&&(n="".concat(n,"?").concat(t),a=null),{uri:n,body:a}}},{key:"labelsEndpoint",value:function(){return"".concat(this.apiPrefix,"/labels")}},{key:"labelValuesEndpoint",value:function(){return"".concat(this.apiPrefix,"/label/:name/values")}},{key:"seriesEndpoint",value:function(){return"".concat(this.apiPrefix,"/series")}},{key:"metricMetadataEndpoint",value:function(){return"".concat(this.apiPrefix,"/metadata")}}]),e}(),wt=function(){function e(t){Object(te.a)(this,e);var n=t&&t.maxAge?t.maxAge:3e5;this.completeAssociation=new Ot.a(n),this.metricMetadata={},this.labelValues=new Ot.a(n),this.labelNames=[],(null===t||void 0===t?void 0:t.initialMetricList)&&this.setLabelValues("__name__",t.initialMetricList)}return Object(ne.a)(e,[{key:"setAssociations",value:function(e,t){var n=this;t.forEach((function(t){var a=n.completeAssociation.get(e);a||(a=new Map,n.completeAssociation.set(e,a));for(var r=0,i=Object.entries(t);r<i.length;r++){var o=Object(l.a)(i[r],2),c=o[0],s=o[1];if("__name__"!==c){var u=a.get(c);void 0===u?a.set(c,new Set([s])):u.add(s)}}}))}},{key:"setMetricMetadata",value:function(e){this.metricMetadata=e}},{key:"getMetricMetadata",value:function(){return this.metricMetadata}},{key:"setLabelNames",value:function(e){this.labelNames=e}},{key:"getLabelNames",value:function(e){if(!e||0===e.length)return this.labelNames;var t=this.completeAssociation.get(e);return t?Array.from(t.keys()):[]}},{key:"setLabelValues",value:function(e,t){this.labelValues.set(e,t)}},{key:"getLabelValues",value:function(e,t){if(!t||0===t.length){var n=this.labelValues.get(e);return n||[]}var a=this.completeAssociation.get(t);if(a){var r=a.get(e);return r?Array.from(r):[]}return[]}}]),e}(),_t=function(){function e(t,n){Object(te.a)(this,e),this.client=t,this.cache=new wt(n)}return Object(ne.a)(e,[{key:"labelNames",value:function(e){var t=this,n=this.cache.getLabelNames(e);return n&&n.length>0?Promise.resolve(n):void 0===e||""===e?this.client.labelNames().then((function(e){return t.cache.setLabelNames(e),e})):this.series(e).then((function(){return t.cache.getLabelNames(e)}))}},{key:"labelValues",value:function(e,t){var n=this,a=this.cache.getLabelValues(e,t);return a&&a.length>0?Promise.resolve(a):void 0===t||""===t?this.client.labelValues(e).then((function(t){return n.cache.setLabelValues(e,t),t})):this.series(t).then((function(){return n.cache.getLabelValues(e,t)}))}},{key:"metricMetadata",value:function(){var e=this,t=this.cache.getMetricMetadata();return t&&Object.keys(t).length>0?Promise.resolve(t):this.client.metricMetadata().then((function(t){return e.cache.setMetricMetadata(t),e.cache.getMetricMetadata()}))}},{key:"series",value:function(e){var t=this;return this.client.series(e).then((function(n){return t.cache.setAssociations(e,n),n}))}},{key:"metricNames",value:function(){return this.labelValues("__name__")}}]),e}();function St(e){return(null===e||void 0===e?void 0:e.completeStrategy)?e.completeStrategy:(null===e||void 0===e?void 0:e.remote)?function(e){var t=e;return void 0!==t.url||void 0!==t.lookbackInterval||void 0!==t.httpErrorHandler||void 0!==t.fetchFn||void 0!==t.cache||void 0!==t.httpMethod||void 0!==t.apiPrefix}(e.remote)?new vt(new _t(new Tt(e.remote),e.remote.cache),e.maxMetricsMetadata):new vt(e.remote,e.maxMetricsMetadata):new vt}var Ct,Mt=function(){function e(){Object(te.a)(this,e)}return Object(ne.a)(e,[{key:"promQL",value:function(){return function(e){var t=new ht(e.state);return t.analyze(),t.getDiagnostics()}}}]),e}();function Pt(e,t){return Object(Oe.b)(e.call(t))}function Lt(e){return pe.LRLanguage.define({parser:Je.configure({top:e,props:[Object(je.b)({LineComment:je.c.comment,LabelName:je.c.labelName,StringLiteral:je.c.string,NumberLiteral:je.c.number,Duration:je.c.number,"Abs Absent AbsentOverTime Acos Acosh Asin Asinh Atan Atanh AvgOverTime Ceil Changes Clamp ClampMax ClampMin Cos Cosh CountOverTime DaysInMonth DayOfMonth DayOfWeek Deg Delta Deriv Exp Floor HistogramQuantile HoltWinters Hour Idelta Increase Irate LabelReplace LabelJoin LastOverTime Ln Log10 Log2 MaxOverTime MinOverTime Minute Month Pi PredictLinear PresentOverTime QuantileOverTime Rad Rate Resets Round Scalar Sgn Sin Sinh Sort SortDesc Sqrt StddevOverTime StdvarOverTime SumOverTime Tan Tanh Time Timestamp Vector Year":je.c.function(je.c.variableName),"Avg Bottomk Count Count_values Group Max Min Quantile Stddev Stdvar Sum Topk":je.c.operatorKeyword,"By Without Bool On Ignoring GroupLeft GroupRight Offset Start End":je.c.modifier,"And Unless Or":je.c.logicOperator,"Sub Add Mul Mod Div Atan2 Eql Neq Lte Lss Gte Gtr EqlRegex EqlSingle NeqRegex Pow At":je.c.operator,UnaryOp:je.c.arithmeticOperator,"( )":je.c.paren,"[ ]":je.c.squareBracket,"{ }":je.c.brace,"\u26a0":je.c.invalid})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"#"}}})}!function(e){e.PromQL="PromQL",e.MetricName="MetricName"}(Ct||(Ct={}));var $t=function(){function e(){Object(te.a)(this,e),this.complete=St(),this.lint=new Mt,this.enableLinter=!0,this.enableCompletion=!0}return Object(ne.a)(e,[{key:"setComplete",value:function(e){return this.complete=St(e),this}},{key:"getComplete",value:function(){return this.complete}},{key:"activateCompletion",value:function(e){return this.enableCompletion=e,this}},{key:"setLinter",value:function(e){return this.lint=e,this}},{key:"getLinter",value:function(){return this.lint}},{key:"activateLinter",value:function(e){return this.enableLinter=e,this}},{key:"asExtension",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct.PromQL,n=Lt(t),a=[n];if(this.enableCompletion){var r=n.data.of({autocomplete:function(t){return e.complete.promQL(t)}});a=a.concat(r)}return this.enableLinter&&(a=a.concat(Pt(this.lint.promQL,this.lint))),a}}]),e}(),Et=n(165),Nt=new $t,Qt=new he.e,At=function(){function e(t,n){Object(te.a)(this,e),this.complete=void 0,this.queryHistory=void 0,this.complete=t,this.queryHistory=n}return Object(ne.a)(e,[{key:"promQL",value:function(e){var t=this;return Promise.resolve(this.complete.promQL(e)).then((function(n){var a=e.state,r=e.pos,i=Object(pe.syntaxTree)(a).resolve(r,-1),o=null!=n?n.from:i.from;if(0!==o)return n;var c={from:o,to:r,options:t.queryHistory.map((function(e){return{label:e.length<80?e:e.slice(0,76).concat("..."),detail:"past query",apply:e,info:e.length<80?void 0:e}})),span:/^[a-zA-Z0-9_:]+$/};return null!==n&&(c.options=c.options.concat(n.options)),c}))}}]),e}(),Dt=function(e){var t=e.value,n=e.onExpressionChange,a=e.queryHistory,r=e.metricNames,o=e.executeQuery,c=e.loading,s=e.enableAutocomplete,u=e.enableHighlighting,d=e.enableLinter,h=Object(i.useRef)(null),p=Object(i.useRef)(null),f=Object(i.useState)(!1),m=Object(l.a)(f,2),b=m[0],g=m[1],v=Qe(),y=S().theme;Object(i.useEffect)((function(){Nt.activateCompletion(s).activateLinter(d).setComplete({completeStrategy:new At(Object(Et.newCompleteStrategy)({remote:{url:v,cache:{initialMetricList:r}}}),a)});var e=[u?_e:[],Nt.asExtension(),"dark"===y?we:Te],i=p.current;if(null===i){if(!h.current)throw new Error("expected CodeMirror container element to exist");var c=he.g.create({doc:t,extensions:[ke,Object(de.h)(),Object(fe.a)(),he.g.allowMultipleSelections.of(!0),Object(pe.indentOnInput)(),Object(be.a)(),Object(ge.a)(),Object(xe.autocompletion)(),Object(ve.a)(),de.d.lineWrapping,de.i.of([].concat(Object(J.a)(ge.b),Object(J.a)(me.a),Object(J.a)(fe.b),Object(J.a)(ye.a),Object(J.a)(xe.completionKeymap),Object(J.a)(Oe.a))),Object(de.k)("Expression (press Shift+Enter for newlines)"),Qt.of(e),de.i.of([{key:"Escape",run:function(e){return e.contentDOM.blur(),!1}}]),he.j.override(de.i.of([{key:"Enter",run:function(e){return o(),!0}},{key:"Shift-Enter",run:me.b}])),de.d.updateListener.of((function(e){n(e.state.doc.toString())}))]}),l=new de.d({state:c,parent:h.current});p.current=l,l.focus()}else i.dispatch(i.state.update({effects:Qt.reconfigure(e)}))}),[s,u,d,o,n,a,y]);return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(se.a,{className:"expression-input",children:[Object(C.jsx)(le.a,{addonType:"prepend",children:Object(C.jsx)(ue.a,{children:c?Object(C.jsx)(T.a,{icon:w.r,spin:!0}):Object(C.jsx)(T.a,{icon:w.n})})}),Object(C.jsx)("div",{ref:h,className:"cm-expression-input"}),Object(C.jsxs)(le.a,{addonType:"append",children:[Object(C.jsx)(k.a,{className:"metrics-explorer-btn",title:"Open metrics explorer",onClick:function(){return g(!0)},children:Object(C.jsx)(T.a,{icon:w.j})}),Object(C.jsx)(k.a,{className:"execute-btn",color:"primary",onClick:o,children:"Execute"})]})]}),Object(C.jsx)(Ee,{show:b,updateShow:g,metrics:r,insertAtCursor:function(e){var t=p.current;if(null!==t){var n=t.state.selection.ranges[0],a=n.from,r=n.to;t.dispatch(t.state.update({changes:{from:a,to:r,insert:e}}))}}})]})},Rt=(n(225),n(226),n(227),n(59));Rt.c.add(w.h,w.i,w.d,w.c,w.b,w.t),Rt.a.watch();var It=function(e){Object(re.a)(n,e);var t=Object(ie.a)(n);function n(){var e;Object(te.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).timeInputRef=o.a.createRef(),e.$time=null,e.getBaseTime=function(){return e.props.time||ee()().valueOf()},e.calcShiftRange=function(){return e.props.range/2},e.increaseTime=function(){var t=e.getBaseTime()+e.calcShiftRange();e.props.onChangeTime(t)},e.decreaseTime=function(){var t=e.getBaseTime()-e.calcShiftRange();e.props.onChangeTime(t)},e.clearTime=function(){e.props.onChangeTime(null)},e.timezone=function(){return e.props.useLocalTime?ee.a.tz.guess():"UTC"},e}return Object(ne.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.timeInputRef.current&&(this.$time=r()(this.timeInputRef.current),this.$time.datetimepicker({icons:{today:"fas fa-calendar-check"},buttons:{showClose:!0,showToday:!0},sideBySide:!0,format:"YYYY-MM-DD HH:mm:ss",locale:"en",timeZone:this.timezone(),defaultDate:this.props.time}),this.$time.on("change.datetimepicker",(function(t){var n;t.date&&t.date.valueOf()!==Math.trunc((null===(n=e.props.time)||void 0===n?void 0:n.valueOf())||NaN)&&e.props.onChangeTime(t.date.valueOf())})))}},{key:"componentWillUnmount",value:function(){this.$time.datetimepicker("destroy")}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.time,a=t.useLocalTime;e.time!==n&&this.$time.datetimepicker("date",n?ee()(n):null),e.useLocalTime!==a&&this.$time.datetimepicker("options",{timeZone:this.timezone(),defaultDate:null})}},{key:"render",value:function(){var e=this;return Object(C.jsxs)(se.a,{className:"time-input",size:"sm",children:[Object(C.jsx)(le.a,{addonType:"prepend",children:Object(C.jsx)(k.a,{title:"Decrease time",onClick:this.decreaseTime,children:Object(C.jsx)(T.a,{icon:w.h,fixedWidth:!0})})}),Object(C.jsx)(Pe.a,{placeholder:this.props.placeholder,innerRef:this.timeInputRef,onFocus:function(){return e.$time.datetimepicker("show")},onBlur:function(){return e.$time.datetimepicker("hide")},onKeyDown:function(t){return["Escape","Enter"].includes(t.key)&&e.$time.datetimepicker("hide")}}),this.props.time&&Object(C.jsx)(le.a,{addonType:"append",children:Object(C.jsx)(k.a,{outline:!0,className:"clear-time-btn",title:"Clear time",onClick:this.clearTime,children:Object(C.jsx)(T.a,{icon:w.t,fixedWidth:!0})})}),Object(C.jsx)(le.a,{addonType:"append",children:Object(C.jsx)(k.a,{title:"Increase time",onClick:this.increaseTime,children:Object(C.jsx)(T.a,{icon:w.i,fixedWidth:!0})})})]})}}]),n}(i.Component),Xt=It,qt=function(e){Object(re.a)(n,e);var t=Object(ie.a)(n);function n(){var e;Object(te.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).rangeRef=o.a.createRef(),e.resolutionRef=o.a.createRef(),e.rangeSteps=[1,10,60,300,900,1800,3600,7200,21600,43200,86400,172800,604800,1209600,2419200,4838400,9676800,15724800,31536e3,63072e3].map((function(e){return 1e3*e})),e.onChangeRangeInput=function(t){var n=vn(t);null===n?e.changeRangeInput(e.props.range):e.props.onChangeRange(n)},e.changeRangeInput=function(t){null!==e.rangeRef.current&&(e.rangeRef.current.value=yn(t))},e.increaseRange=function(){var t,n=Object(B.a)(e.rangeSteps);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(e.props.range<a)return e.changeRangeInput(a),void e.props.onChangeRange(a)}}catch(r){n.e(r)}finally{n.f()}},e.decreaseRange=function(){var t,n=Object(B.a)(e.rangeSteps.slice().reverse());try{for(n.s();!(t=n.n()).done;){var a=t.value;if(e.props.range>a)return e.changeRangeInput(a),void e.props.onChangeRange(a)}}catch(r){n.e(r)}finally{n.f()}},e.changeResolutionInput=function(t){null!==e.resolutionRef.current&&(e.resolutionRef.current.value=null!==t?t.toString():"")},e}return Object(ne.a)(n,[{key:"componentDidUpdate",value:function(e){e.range!==this.props.range&&this.changeRangeInput(this.props.range),e.resolution!==this.props.resolution&&this.changeResolutionInput(this.props.resolution)}},{key:"render",value:function(){var e=this;return Object(C.jsxs)(x.a,{inline:!0,className:"graph-controls",onSubmit:function(e){return e.preventDefault()},children:[Object(C.jsxs)(se.a,{className:"range-input",size:"sm",children:[Object(C.jsx)(le.a,{addonType:"prepend",children:Object(C.jsx)(k.a,{title:"Decrease range",onClick:this.decreaseRange,children:Object(C.jsx)(T.a,{icon:w.k,fixedWidth:!0})})}),Object(C.jsx)(Pe.a,{defaultValue:yn(this.props.range),innerRef:this.rangeRef,onBlur:function(){e.rangeRef.current&&e.onChangeRangeInput(e.rangeRef.current.value)},onKeyDown:function(t){return"Enter"===t.key&&e.rangeRef.current&&e.onChangeRangeInput(e.rangeRef.current.value)}}),Object(C.jsx)(le.a,{addonType:"append",children:Object(C.jsx)(k.a,{title:"Increase range",onClick:this.increaseRange,children:Object(C.jsx)(T.a,{icon:w.m,fixedWidth:!0})})})]}),Object(C.jsx)(Xt,{time:this.props.endTime,useLocalTime:this.props.useLocalTime,range:this.props.range,placeholder:"End time",onChangeTime:this.props.onChangeEndTime}),Object(C.jsx)(Pe.a,{placeholder:"Res. (s)",className:"resolution-input",defaultValue:null!==this.props.resolution?this.props.resolution.toString():"",innerRef:this.resolutionRef,onBlur:function(){if(e.resolutionRef.current){var t=parseInt(e.resolutionRef.current.value);e.props.onChangeResolution(t||null)}},bsSize:"sm"}),Object(C.jsxs)(j.a,{className:"stacked-input",size:"sm",children:[Object(C.jsx)(k.a,{title:"Show unstacked line graph",onClick:function(){return e.props.onChangeStacking(!1)},active:!this.props.stacked,children:Object(C.jsx)(T.a,{icon:w.f,fixedWidth:!0})}),Object(C.jsx)(k.a,{title:"Show stacked graph",onClick:function(){return e.props.onChangeStacking(!0)},active:this.props.stacked,children:Object(C.jsx)(T.a,{icon:w.e,fixedWidth:!0})})]}),Object(C.jsx)(j.a,{className:"show-exemplars",size:"sm",children:this.props.showExemplars?Object(C.jsx)(k.a,{title:"Hide exemplars",onClick:function(){return e.props.onChangeShowExemplars(!1)},active:!0,children:"Hide Exemplars"}):Object(C.jsx)(k.a,{title:"Show exemplars",onClick:function(){return e.props.onChangeShowExemplars(!0)},active:!1,children:"Show Exemplars"})})]})}}]),n}(i.Component),Ft=qt,Vt=n(170),zt=function(e){var t=e.labels,n=e.format;return null===t?Object(C.jsx)(C.Fragment,{children:"scalar"}):n?function(){var e=[],n=!0;for(var a in t)"__name__"!==a&&(e.push(Object(C.jsxs)("span",{children:[!n&&", ",Object(C.jsx)("span",{className:"legend-label-name",children:a}),"=",Object(C.jsxs)("span",{className:"legend-label-value",children:['"',t[a],'"']})]},a)),n&&(n=!1));return Object(C.jsxs)("div",{children:[Object(C.jsx)("span",{className:"legend-metric-name",children:t?t.__name__:""}),Object(C.jsx)("span",{className:"legend-label-brace",children:"{"}),e,Object(C.jsx)("span",{className:"legend-label-brace",children:"}"})]})}():Object(C.jsx)(C.Fragment,{children:gn(t)})},Wt=function(e){Object(re.a)(n,e);var t=Object(ie.a)(n);function n(){var e;Object(te.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={selectedIndexes:[]},e.handleSeriesSelect=function(t){return function(n){var a=e.state.selectedIndexes,r=[t];if(n.ctrlKey||n.metaKey){var i=e.props.chartData;r=a.includes(t)?a.filter((function(e){return e!==t})):0===a.length?i.reduce((function(e,n,a){return a===t?e:[].concat(Object(J.a)(e),[a])}),[]):[].concat(Object(J.a)(a),[t])}else 1===a.length&&a.includes(t)&&(r=[]);e.setState({selectedIndexes:r}),e.props.onSeriesToggle(r,t)}},e}return Object(ne.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.shouldReset&&e.shouldReset!==this.props.shouldReset&&this.setState({selectedIndexes:[]})}},{key:"render",value:function(){var e=this,t=this.props,n=t.chartData,a=t.onLegendMouseOut,r=t.onHover,i=this.state.selectedIndexes,o=n.length>1&&0===i.length;return Object(C.jsxs)("div",{className:"graph-legend",onMouseOut:o?a:void 0,children:[n.map((function(t){var a=t.index,c=t.color,s=t.labels;return Object(C.jsxs)("div",{style:{opacity:0===i.length||i.includes(a)?1:.5},onClick:n.length>1?e.handleSeriesSelect(a):void 0,onMouseOver:o?r(a):void 0,className:"legend-item",children:[Object(C.jsx)("span",{className:"legend-swatch",style:{backgroundColor:c}}),Object(C.jsx)(zt,{labels:s,format:!0})]},a)})),n.length>1&&Object(C.jsxs)("div",{className:"pl-1 mt-1 text-muted",style:{fontSize:13},children:["Click: select series, ",navigator.platform.includes("Mac")?"CMD":"CTRL"," + click: toggle multiple series"]})]})}}]),n}(i.PureComponent),Bt=["#008000","#008080","#800000","#800080","#808000","#808080","#0000c0","#008040","#0080c0","#800040","#8000c0","#808040","#8080c0","#00c000","#00c080","#804000","#804080","#80c000","#80c080","#0040c0","#00c040","#00c0c0","#804040","#8040c0","#80c040","#80c0c0","#408000","#408080","#c00000","#c00080","#c08000","#c08080","#4000c0","#408040","#4080c0","#c00040","#c000c0","#c08040","#c080c0","#404000","#404080","#40c000","#40c080","#c04000","#c04080","#c0c000","#c0c080","#404040","#4040c0","#40c040","#40c0c0","#c04040","#c040c0","#c0c040","#0000a0","#008020","#0080a0","#800020","#8000a0","#808020","#8080a0","#0000e0","#008060","#0080e0","#800060","#8000e0","#808060","#8080e0","#0040a0","#00c020","#00c0a0","#804020","#8040a0","#80c020","#80c0a0","#0040e0","#00c060","#00c0e0","#804060","#8040e0","#80c060","#80c0e0","#4000a0","#408020","#4080a0","#c00020","#c000a0","#c08020","#c080a0","#4000e0","#408060","#4080e0","#c00060","#c000e0","#c08060","#c080e0","#404020","#4040a0","#40c020","#40c0a0","#c04020","#c040a0","#c0c020","#c0c0a0","#404060","#4040e0","#40c060","#40c0e0","#c04060","#c040e0","#c0c060","#00a000","#00a080","#802000","#802080","#80a000","#80a080","#0020c0","#00a040","#00a0c0","#802040","#8020c0","#80a040","#80a0c0","#006000","#006080","#00e000","#00e080","#806000","#806080","#80e000","#80e080","#006040","#0060c0","#00e040","#00e0c0","#806040","#8060c0","#80e040","#80e0c0","#40a000","#40a080","#c02000","#c02080","#c0a000","#c0a080","#4020c0","#40a040","#40a0c0","#c02040","#c020c0","#c0a040","#c0a0c0","#406000","#406080","#40e000","#40e080","#c06000","#c06080","#c0e000","#c0e080","#406040","#4060c0","#40e040","#40e0c0","#c06040","#c060c0","#c0e040","#c0e0c0","#0020a0","#00a020","#00a0a0","#802020","#8020a0","#80a020","#80a0a0","#0020e0","#00a060","#00a0e0","#802060","#8020e0","#80a060","#80a0e0","#006020","#0060a0","#00e020","#00e0a0","#806020","#8060a0","#80e020","#80e0a0","#006060","#0060e0","#00e060","#00e0e0","#806060","#8060e0","#80e060","#80e0e0","#4020a0","#40a020","#40a0a0","#c02020","#c020a0","#c0a020","#c0a0a0","#4020e0","#40a060","#40a0e0","#c02060","#c020e0","#c0a060","#c0a0e0","#406020","#4060a0","#40e020","#40e0a0","#c06020","#c060a0","#c0e020","#c0e0a0","#406060","#4060e0","#40e060","#40e0e0","#c06060","#c060e0","#c0e060","#208000","#208080","#a00000","#a00080","#a08000","#a08080","#208040","#2080c0","#a00040","#a000c0","#a08040","#a080c0","#204080","#20c000","#20c080","#a04000","#a04080","#a0c000","#a0c080","#2040c0","#20c040","#20c0c0","#a04040","#a040c0","#a0c040","#a0c0c0","#608000","#608080","#e00000","#e00080","#e08000","#e08080","#6000c0","#608040","#6080c0","#e00040","#e000c0","#e08040","#e080c0","#604080","#60c000","#60c080","#e04000","#e04080","#e0c000","#e0c080","#604040","#6040c0","#60c040","#60c0c0","#e04040","#e040c0","#e0c040","#e0c0c0","#208020","#2080a0","#a00020","#a000a0","#a08020","#a080a0","#2000e0","#208060","#2080e0","#a00060","#a000e0","#a08060","#a080e0","#2040a0","#20c020","#20c0a0","#a04020","#a040a0","#a0c020","#2040e0","#20c060","#20c0e0","#a04060","#a040e0","#a0c060","#a0c0e0","#6000a0","#608020","#6080a0","#e00020","#e000a0","#e08020","#e080a0","#6000e0","#608060","#6080e0","#e00060","#e000e0","#e08060","#e080e0","#604020","#6040a0","#60c020","#60c0a0","#e04020","#e040a0","#e0c020","#e0c0a0","#604060","#6040e0","#60c060","#60c0e0","#e04060","#e040e0","#e0c060","#e0c0e0","#20a000","#20a080","#a02000","#a02080","#a0a000","#a0a080","#2020c0","#20a040","#20a0c0","#a02040","#a020c0","#a0a040","#a0a0c0","#206000","#206080","#20e000","#20e080","#a06000","#a06080","#a0e000","#a0e080","#206040","#2060c0","#20e040","#20e0c0","#a06040","#a060c0","#a0e040","#a0e0c0","#602080","#60a000","#60a080","#e02000","#e02080","#e0a000","#e0a080","#6020c0","#60a040","#60a0c0","#e02040","#e020c0","#e0a040","#e0a0c0","#606000","#606080","#60e000","#60e080","#e06000","#e06080","#e0e000","#e0e080","#606040","#6060c0","#60e040","#60e0c0","#e06040","#e060c0","#e0e040","#e0e0c0","#20a020","#20a0a0","#a02020","#a020a0","#a0a020","#a0a0a0","#2020e0","#20a060","#20a0e0","#a02060","#a020e0","#a0a060","#a0a0e0","#206020","#2060a0","#20e020","#20e0a0","#a06020","#a060a0","#a0e020","#a0e0a0","#206060","#2060e0","#20e060","#20e0e0","#a06060","#a060e0","#a0e060","#a0e0e0","#6020a0","#60a020","#60a0a0","#e02020","#e020a0","#e0a020","#e0a0a0","#602060","#6020e0","#60a060","#60a0e0","#e02060","#e020e0","#e0a060","#e0a0e0","#606020","#6060a0","#60e020","#60e0a0","#e06020","#e060a0","#e0e020","#e0e0a0","#606060","#6060e0","#60e060","#60e0e0","#e06060","#e060e0","#e0e060","#008010","#008090","#800010","#800090","#808010","#808090","#0000d0","#008050","#0080d0","#800050","#8000d0","#808050","#8080d0","#004010","#004090","#00c010","#00c090","#804010","#804090","#80c010","#80c090","#004050","#0040d0","#00c050","#00c0d0","#804050","#8040d0","#80c050","#80c0d0","#400090","#408010","#408090","#c00010","#c00090","#c08010","#c08090","#4000d0","#408050","#4080d0","#c00050","#c000d0","#c08050","#c080d0","#404010","#404090","#40c010","#40c090","#c04010","#c04090","#c0c010","#c0c090","#404050","#4040d0","#40c050","#40c0d0","#c04050","#c040d0","#c0c050","#0000b0","#008030","#0080b0","#800030","#8000b0","#808030","#8080b0","#0000f0","#008070","#0080f0","#800070","#8000f0","#808070","#8080f0","#004030","#0040b0","#00c030","#00c0b0","#804030","#8040b0","#80c030","#80c0b0","#004070","#0040f0","#00c070","#00c0f0","#804070","#8040f0","#80c070","#80c0f0","#4000b0","#408030","#4080b0","#c00030","#c000b0","#c08030","#c080b0","#400070","#4000f0","#408070","#4080f0","#c00070","#c000f0","#c08070","#c080f0","#404030","#4040b0","#40c030","#40c0b0","#c04030","#c040b0","#c0c030","#c0c0b0","#404070","#4040f0","#40c070","#40c0f0","#c04070","#c040f0","#c0c070","#c0c0f0","#002090","#00a010","#00a090","#802010","#802090","#80a010","#80a090","#0020d0","#00a050","#00a0d0","#802050","#8020d0","#80a050","#80a0d0","#006010","#006090","#00e010","#00e090","#806010","#806090","#80e010","#80e090","#006050","#0060d0","#00e050","#00e0d0","#806050","#8060d0","#80e050","#80e0d0","#402090","#40a010","#40a090","#c02010","#c02090","#c0a010","#c0a090","#402050","#4020d0","#40a050","#40a0d0","#c02050","#c020d0","#c0a050","#c0a0d0","#406010","#406090","#40e010","#40e090","#c06010","#c06090","#c0e010","#c0e090","#406050","#4060d0","#40e050","#40e0d0","#c06050","#c060d0","#c0e050","#c0e0d0","#0020b0","#00a030","#00a0b0","#802030","#8020b0","#80a030","#80a0b0","#0020f0","#00a070","#00a0f0","#802070","#8020f0","#80a070","#80a0f0","#006030","#0060b0","#00e030","#00e0b0","#806030","#8060b0","#80e030","#80e0b0","#006070","#0060f0","#00e070","#00e0f0","#806070","#8060f0","#80e070","#80e0f0","#4020b0","#40a030","#40a0b0","#c02030","#c020b0","#c0a030","#c0a0b0","#4020f0","#40a070","#40a0f0","#c02070","#c020f0","#c0a070","#c0a0f0","#406030","#4060b0","#40e030","#40e0b0","#c06030","#c060b0","#c0e030","#c0e0b0","#406070","#4060f0","#40e070","#40e0f0","#c06070","#c060f0","#c0e070","#208010","#208090","#a00010","#a00090","#a08010","#a08090","#2000d0","#208050","#2080d0","#a00050","#a000d0","#a08050","#a080d0","#204010","#204090","#20c010","#20c090","#a04010","#a04090","#a0c010","#a0c090","#204050","#2040d0","#20c050","#20c0d0","#a04050","#a040d0","#a0c050","#a0c0d0","#600090","#608010","#608090","#e00010","#e00090","#e08010","#e08090","#600050","#6000d0","#608050","#6080d0","#e00050","#e000d0","#e08050","#e080d0","#604010","#604090","#60c010","#60c090","#e04010","#e04090","#e0c010","#e0c090","#604050","#6040d0","#60c050","#60c0d0","#e04050","#e040d0","#e0c050","#e0c0d0","#2000b0","#208030","#2080b0","#a00030","#a000b0","#a08030","#a080b0","#2000f0","#208070","#2080f0","#a00070","#a000f0","#a08070","#a080f0","#204030","#2040b0","#20c030","#20c0b0","#a04030","#a040b0","#a0c030","#a0c0b0","#204070","#2040f0","#20c070","#20c0f0","#a04070","#a040f0","#a0c070","#a0c0f0","#6000b0","#608030","#6080b0","#e00030","#e000b0","#e08030","#e080b0","#600070","#6000f0","#608070","#e00070","#e000f0","#e08070","#e080f0","#604030","#6040b0","#60c030","#60c0b0","#e04030","#e040b0","#e0c030","#e0c0b0","#604070","#6040f0","#60c070","#60c0f0","#e04070","#e040f0","#e0c070","#e0c0f0","#20a010","#20a090","#a02010","#a02090","#a0a010","#a0a090","#2020d0","#20a050","#20a0d0","#a02050","#a020d0","#a0a050","#a0a0d0","#206010","#206090","#20e010","#20e090","#a06010","#a06090","#a0e010","#a0e090","#206050","#2060d0","#20e050","#20e0d0","#a06050","#a060d0","#a0e050","#a0e0d0","#602090","#60a010","#60a090","#e02010","#e02090","#e0a010","#e0a090","#602050","#6020d0","#60a050","#60a0d0","#e02050","#e020d0","#e0a050","#e0a0d0","#606010","#606090","#60e010","#60e090","#e06010","#e06090","#e0e010","#e0e090","#606050","#6060d0","#60e050","#60e0d0","#e06050","#e060d0","#e0e050","#2020b0","#20a030","#20a0b0","#a02030","#a020b0","#a0a030","#a0a0b0","#2020f0","#20a070","#20a0f0","#a02070","#a020f0","#a0a070","#a0a0f0","#206030","#2060b0","#20e030","#20e0b0","#a06030","#a060b0","#a0e030","#a0e0b0","#206070","#2060f0","#20e070","#20e0f0","#a06070","#a060f0","#a0e070","#a0e0f0","#6020b0","#60a030","#60a0b0","#e02030","#e020b0","#e0a030","#e0a0b0","#6020f0","#60a070","#60a0f0","#e02070","#e020f0","#e0a070","#e0a0f0","#606030","#6060b0","#60e030","#60e0b0","#e06030","#e060b0","#e0e030","#e0e0b0","#606070","#6060f0","#60e070","#60e0f0","#e06070","#e060f0","#e0e070"],Ht=function(e){if(null===e)return"null";var t=Math.abs(e);if(t>=1e24)return(e/1e24).toFixed(2)+"Y";if(t>=1e21)return(e/1e21).toFixed(2)+"Z";if(t>=1e18)return(e/1e18).toFixed(2)+"E";if(t>=1e15)return(e/1e15).toFixed(2)+"P";if(t>=1e12)return(e/1e12).toFixed(2)+"T";if(t>=1e9)return(e/1e9).toFixed(2)+"G";if(t>=1e6)return(e/1e6).toFixed(2)+"M";if(t>=1e3)return(e/1e3).toFixed(2)+"k";if(t>=1)return e.toFixed(2);if(0===t)return e.toFixed(2);if(t<1e-23)return(e/1e-24).toFixed(2)+"y";if(t<1e-20)return(e/1e-21).toFixed(2)+"z";if(t<1e-17)return(e/1e-18).toFixed(2)+"a";if(t<1e-14)return(e/1e-15).toFixed(2)+"f";if(t<1e-11)return(e/1e-12).toFixed(2)+"p";if(t<1e-8)return(e/1e-9).toFixed(2)+"n";if(t<1e-5)return(e/1e-6).toFixed(2)+"\xb5";if(t<.01)return(e/.001).toFixed(2)+"m";if(t<=1)return e.toFixed(2);throw Error("couldn't format a value, this is a bug")},Gt=function(e,t,n){var a=r.a.color.parse(e),i=a.r,o=a.g,c=a.b;if(!n)return"rgba(".concat(i,", ").concat(o,", ").concat(c,", ").concat(t,")");var s=255*(1-t);return"rgb(".concat(Math.round(s+t*i),",").concat(Math.round(s+t*o),",").concat(Math.round(s+t*c),")")},Ut=function(e,t){return function(n,a){return Object(Q.a)(Object(Q.a)({},n),{},{color:Gt(n.color,a!==e?.3:1,t)})}},Yt=function(e,t){return{grid:{hoverable:!0,clickable:!0,autoHighlight:!0,mouseActiveRadius:100},legend:{show:!1},xaxis:{mode:"time",showTicks:!0,showMinorTicks:!0,timeBase:"milliseconds",timezone:t?"browser":void 0},yaxis:{tickFormatter:Ht},crosshair:{mode:"xy",color:"#bbb"},tooltip:{show:!0,cssClass:"graph-tooltip",content:function(e,n,a,r){var i=r.series,o=i.labels,c=i.color,s=ee()(n);t||(s=s.utc());var l=function(e){return'\n            <div class="labels">\n              '.concat(0===Object.keys(e).length?'<div class="mb-1 font-italic">no labels</div>':"","\n              ").concat(e.__name__?'<div class="mb-1"><strong>'.concat(e.__name__,"</strong></div>"):"","\n              ").concat(Object.keys(e).filter((function(e){return"__name__"!==e})).map((function(t){return'<div class="mb-1"><strong>'.concat(t,"</strong>: ").concat(bn(e[t]),"</div>")})).join(""),"\n            </div>")};return'\n            <div class="date">'.concat(s.format("YYYY-MM-DD HH:mm:ss Z"),'</div>\n            <div>\n              <span class="detail-swatch" style="background-color: ').concat(c,'"></span>\n              <span>').concat(o.__name__||"value",": <strong>").concat(a,'</strong></span>\n            </div>\n            <div class="mt-2 mb-1 font-weight-bold">').concat("seriesLabels"in i?"Trace exemplar:":"Series:","</div>\n            ").concat(l(o),"\n            ").concat("seriesLabels"in i?'\n            <div class="mt-2 mb-1 font-weight-bold">Associated series:</div>'.concat(l(i.seriesLabels),"\n"):"","\n          ").trimEnd()},defaultTheme:!1,lines:!0},series:{stack:!1,lines:{lineWidth:e?1:2,steps:!1,fill:e},shadowSize:0},selection:{mode:"x"}}},Zt=function(e){var t,n=e.queryParams,a=e.data,r=e.exemplars,i=e.stacked,o=n,c=o.startTime,s=o.endTime,l=o.resolution,u=0,d=[],h={},p=Object(B.a)(r||[]);try{for(p.s();!(t=p.n()).done;){var f,m=t.value,b=Object(B.a)(m.exemplars);try{for(b.s();!(f=b.n()).done;){var g=f.value,v=g.labels,y=g.value,O=g.timestamp,x=Jt(y)||0;u+=x,d.push(x);var j=1e3*Math.floor(O/((s-c)/60)*.8);h[j]||(h[j]=[]),h[j].push({seriesLabels:m.seriesLabels,labels:v,data:[[1e3*O,x]],points:{symbol:Kt},color:"#0275d8"})}}catch(T){b.e(T)}finally{b.f()}}}catch(T){p.e(T)}finally{p.f()}var k=en(u,d);return{series:a.result.map((function(e,t){for(var n=e.values,a=e.metric,r=[],o=0,u=c;u<=s;u+=l){var d=n[o];n.length>o&&d[0]<u+l/100?(r.push([1e3*d[0],Jt(d[1])]),o++):r.push([1e3*u,null])}return{labels:null!==a?a:{},color:Bt[t%Bt.length],stack:i,data:r,index:t}})),exemplars:Object.values(h).flatMap((function(e){return 1===e.length?e[0]:e.sort((function(e,t){return tn(t)-tn(e)})).reduce((function(e,t){if(0===e.length)e.push(t);else{var n=e[e.length-1];tn(n)-tn(t)>=2*k&&e.push(t)}return e}),[])}))}},Jt=function(e){var t=parseFloat(e);return isNaN(t)?null:t},Kt=function(e,t,n){n-=3.5,t>e.canvas.clientWidth-59&&(t=e.canvas.clientWidth-59),n>e.canvas.clientHeight-40&&(n=e.canvas.clientHeight-40),e.translate(t,n),e.rotate(Math.PI/4),e.translate(-t,-n),e.fillStyle="#92bce1",e.fillRect(t,n,7,7),e.strokeStyle="#0275d8",e.lineWidth=1,e.strokeRect(t,n,7,7)},en=function(e,t){var n=e/t.length,a=0;return t.map((function(e){return a+=Math.pow(e-n,2)})),a/=t.length,Math.sqrt(a)},tn=function(e){return e.data[0][1]};n(228),n(229),n(230),n(231),n(232),n(233);var nn,an=function(e){Object(re.a)(n,e);var t=Object(ie.a)(n);function n(){var e;Object(te.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).chartRef=o.a.createRef(),e.$chart=void 0,e.rafID=0,e.selectedSeriesIndexes=[],e.state={chartData:Zt(e.props),selectedExemplarLabels:{exemplar:{},series:{}}},e.plot=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[].concat(Object(J.a)(e.state.chartData.series),Object(J.a)(e.state.chartData.exemplars));e.chartRef.current&&(e.destroyPlot(),e.$chart=r.a.plot(r()(e.chartRef.current),t,Yt(e.props.stacked,e.props.useLocalTime)))},e.destroyPlot=function(){mn(e.$chart)&&e.$chart.destroy()},e.handleSeriesSelect=function(t,n){var a=e.state.chartData;e.plot(1===e.selectedSeriesIndexes.length&&e.selectedSeriesIndexes.includes(n)?[].concat(Object(J.a)(a.series.map(Ut(n,e.props.stacked))),Object(J.a)(a.exemplars)):[].concat(Object(J.a)(a.series.filter((function(e,n){return t.includes(n)}))),Object(J.a)(a.exemplars.filter((function(e){e:for(var n in t){for(var r in a.series[t[n]].labels)if(e.seriesLabels[r]!==a.series[t[n]].labels[r])continue e;return!0}return!1}))))),e.selectedSeriesIndexes=t},e.handleSeriesHover=function(t){return function(){e.rafID&&cancelAnimationFrame(e.rafID),e.rafID=requestAnimationFrame((function(){e.plotSetAndDraw([].concat(Object(J.a)(e.state.chartData.series.map(Ut(t,e.props.stacked))),Object(J.a)(e.state.chartData.exemplars)))}))}},e.handleLegendMouseOut=function(){cancelAnimationFrame(e.rafID),e.plotSetAndDraw()},e.handleResize=function(){mn(e.$chart)&&e.plot(e.$chart.getData())},e}return Object(ne.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,a=n.data,r=n.stacked,i=n.useLocalTime,o=n.showExemplars;e.data!==a?(this.selectedSeriesIndexes=[],this.setState({chartData:Zt(this.props)},this.plot)):e.stacked!==r&&this.setState({chartData:Zt(this.props)},(function(){0===t.selectedSeriesIndexes.length?t.plot():t.plot([].concat(Object(J.a)(t.state.chartData.series.filter((function(e,n){return t.selectedSeriesIndexes.includes(n)}))),Object(J.a)(t.state.chartData.exemplars)))})),e.useLocalTime!==i&&this.plot(),e.showExemplars===o||o||this.setState({chartData:{series:this.state.chartData.series,exemplars:[]},selectedExemplarLabels:{exemplar:{},series:{}}},(function(){t.plot()}))}},{key:"componentDidMount",value:function(){var e=this;this.plot(),r()(".graph-".concat(this.props.id)).bind("plotclick",(function(t,n,a){a&&"seriesLabels"in a.series?e.setState({selectedExemplarLabels:{exemplar:a.series.labels,series:a.series.seriesLabels},chartData:e.state.chartData}):e.setState({chartData:e.state.chartData,selectedExemplarLabels:{exemplar:{},series:{}}})})),r()(".graph-".concat(this.props.id)).bind("plotselected",(function(t,n){mn(e.$chart)&&(e.$chart.clearSelection(),e.props.handleTimeRangeSelection(n.xaxis.from,n.xaxis.to))}))}},{key:"componentWillUnmount",value:function(){this.destroyPlot()}},{key:"plotSetAndDraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[].concat(Object(J.a)(this.state.chartData.series),Object(J.a)(this.state.chartData.exemplars));mn(this.$chart)&&(this.$chart.setData(e),this.$chart.draw())}},{key:"render",value:function(){var e=this,t=this.state,n=t.chartData,a=t.selectedExemplarLabels;return Object(C.jsxs)("div",{className:"graph-".concat(this.props.id),children:[Object(C.jsx)(Vt.a,{handleWidth:!0,onResize:this.handleResize,skipOnMount:!0}),Object(C.jsx)("div",{className:"graph-chart",ref:this.chartRef}),Object.keys(a.exemplar).length>0?Object(C.jsxs)("div",{className:"graph-selected-exemplar",children:[Object(C.jsx)("div",{className:"font-weight-bold",children:"Selected exemplar labels:"}),Object(C.jsx)("div",{className:"labels mt-1 ml-3",children:Object.keys(a.exemplar).map((function(e,t){return Object(C.jsxs)("div",{children:[Object(C.jsx)("strong",{children:e}),": ",a.exemplar[e]]},t)}))}),Object(C.jsx)("div",{className:"font-weight-bold mt-3",children:"Associated series labels:"}),Object(C.jsx)("div",{className:"labels mt-1 ml-3",children:Object.keys(a.series).map((function(e,t){return Object(C.jsxs)("div",{children:[Object(C.jsx)("strong",{children:e}),": ",a.series[e]]},t)}))}),Object(C.jsx)(k.a,{size:"small",color:"light",style:{position:"absolute",top:5,right:5},title:"Hide selected exemplar details",onClick:function(){return e.setState({chartData:e.state.chartData,selectedExemplarLabels:{exemplar:{},series:{}}})},children:Object(C.jsx)(T.a,{icon:w.t})})]}):null,Object(C.jsx)(Wt,{shouldReset:0===this.selectedSeriesIndexes.length,chartData:n.series,onHover:this.handleSeriesHover,onLegendMouseOut:this.handleLegendMouseOut,onSeriesToggle:this.handleSeriesSelect}),Object(C.jsx)("br",{style:{clear:"both"}})]})}}]),n}(i.PureComponent),rn=an,on=function(e){var t=e.data,n=e.exemplars,a=e.stacked,r=e.useLocalTime,i=e.lastQueryParams,o=e.showExemplars,c=e.handleTimeRangeSelection,s=e.id;return mn(t)?0===t.result.length?Object(C.jsx)(V.a,{color:"secondary",children:"Empty query result"}):"matrix"!==t.resultType?Object(C.jsxs)(V.a,{color:"danger",children:["Query result is of wrong type '",t.resultType,"', should be 'matrix' (range vector)."]}):Object(C.jsx)(rn,{data:t,exemplars:n,stacked:a,useLocalTime:r,showExemplars:o,handleTimeRangeSelection:c,queryParams:i,id:s}):Object(C.jsx)(V.a,{color:"light",children:"No data queried yet"})},cn=function(e){return e.length>1e4?e.slice(0,1e4):e},sn=function(e){var t=e.data;if(null===t)return Object(C.jsx)(V.a,{color:"light",children:"No data queried yet"});if(null===t.result||0===t.result.length)return Object(C.jsx)(V.a,{color:"secondary",children:"Empty query result"});var n=[],a=!1,r=t.result.length<=1e3;switch(t.resultType){case"vector":a=(n=cn(t.result).map((function(e,t){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:Object(C.jsx)(zt,{labels:e.metric,format:r})}),Object(C.jsx)("td",{children:e.value[1]})]},t)}))).length!==t.result.length;break;case"matrix":a=(n=cn(t.result).map((function(e,t){var n=e.values.map((function(e){return e[1]+" @"+e[0]})).join("\n");return Object(C.jsxs)("tr",{style:{whiteSpace:"pre"},children:[Object(C.jsx)("td",{children:Object(C.jsx)(zt,{labels:e.metric,format:r})}),Object(C.jsx)("td",{children:n})]},t)}))).length!==t.result.length;break;case"scalar":n.push(Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"scalar"}),Object(C.jsx)("td",{children:t.result[1]})]},"0"));break;case"string":n.push(Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"string"}),Object(C.jsx)("td",{children:t.result[1]})]},"0"));break;default:return Object(C.jsx)(V.a,{color:"danger",children:"Unsupported result value type"})}return Object(C.jsxs)(C.Fragment,{children:[a&&Object(C.jsxs)(V.a,{color:"danger",children:[Object(C.jsx)("strong",{children:"Warning:"})," Fetched ",t.result.length," metrics, only displaying first ",n.length,"."]}),!r&&Object(C.jsxs)(V.a,{color:"secondary",children:[Object(C.jsx)("strong",{children:"Notice:"})," Showing more than ",1e3," series, turning off label formatting for performance reasons."]}),Object(C.jsx)(Z.a,{hover:!0,size:"sm",className:"data-table",children:Object(C.jsx)("tbody",{children:n})})]})},ln=function(e){var t=e.loadTime,n=e.resolution,a=e.resultSeries;return Object(C.jsx)("div",{className:"query-stats",children:Object(C.jsxs)("span",{className:"float-right",children:["Load time: ",t,"ms \u2002 Resolution: ",n,"s \u2002 Result series: ",a]})})};!function(e){e.Graph="graph",e.Table="table"}(nn||(nn={}));var un={type:nn.Table,expr:"",range:36e5,endTime:null,resolution:null,stacked:!1,showExemplars:!1},dn=function(e){Object(re.a)(n,e);var t=Object(ie.a)(n);function n(e){var a;return Object(te.a)(this,n),(a=t.call(this,e)).abortInFlightFetch=null,a.debounceExecuteQuery=void 0,a.executeQuery=Object(R.a)(D.a.mark((function e(){var t,n,r,i,o,c,s,l,u,d,h,p,f,m,b,g;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state.exprInputValue,n=Date.now(),a.props.onExecuteQuery(t),a.props.options.expr!==t&&a.setOptions({expr:t}),""!==t){e.next=6;break}return e.abrupt("return");case 6:a.abortInFlightFetch&&(a.abortInFlightFetch(),a.abortInFlightFetch=null),r=new AbortController,a.abortInFlightFetch=function(){return r.abort()},a.setState({loading:!0}),i=a.getEndTime().valueOf()/1e3,o=i-a.props.options.range/1e3,c=a.props.options.resolution||Math.max(Math.floor(a.props.options.range/25e4),1),s=new URLSearchParams({query:t}),e.t0=a.props.options.type,e.next="graph"===e.t0?17:"table"===e.t0?22:25;break;case 17:return l="query_range",s.append("start",o.toString()),s.append("end",i.toString()),s.append("step",c.toString()),e.abrupt("break",26);case 22:return l="query",s.append("time",i.toString()),e.abrupt("break",26);case 25:throw new Error('Invalid panel type "'+a.props.options.type+'"');case 26:return e.prev=26,e.next=29,fetch("".concat(a.props.pathPrefix,"/").concat(I,"/").concat(l,"?").concat(s),{cache:"no-store",credentials:"same-origin",signal:r.signal}).then((function(e){return e.json()}));case 29:if("success"===(u=e.sent).status){e.next=32;break}throw new Error(u.error||"invalid response JSON");case 32:if("graph"!==a.props.options.type||!a.props.options.showExemplars){e.next=39;break}return s.delete("step"),e.next=36,fetch("".concat(a.props.pathPrefix,"/").concat(I,"/query_exemplars?").concat(s),{cache:"no-store",credentials:"same-origin",signal:r.signal}).then((function(e){return e.json()}));case 36:if("success"===(d=e.sent).status){e.next=39;break}throw new Error(d.error||"invalid response JSON");case 39:p=0,u.data&&(f=u.data,m=f.resultType,b=f.result,"scalar"===m?p=1:b&&b.length>0&&(p=b.length)),a.setState({error:null,data:u.data,exemplars:null===(h=d)||void 0===h?void 0:h.data,warnings:u.warnings,lastQueryParams:{startTime:o,endTime:i,resolution:c},stats:{loadTime:Date.now()-n,resolution:c,resultSeries:p},loading:!1}),a.abortInFlightFetch=null,e.next=51;break;case 45:if(e.prev=45,e.t1=e.catch(26),"AbortError"!==(g=e.t1).name){e.next=50;break}return e.abrupt("return");case 50:a.setState({error:"Error executing query: "+g.message,loading:!1});case 51:case"end":return e.stop()}}),e,null,[[26,45]])}))),a.handleExpressionChange=function(e){a.setState({exprInputValue:e})},a.handleChangeRange=function(e){a.setOptions({range:e})},a.getEndTime=function(){return null===a.props.options.endTime?ee()():a.props.options.endTime},a.handleChangeEndTime=function(e){a.setOptions({endTime:e})},a.handleChangeResolution=function(e){a.setOptions({resolution:e})},a.handleChangeType=function(e){a.props.options.type!==e&&(a.setState({data:null}),a.setOptions({type:e}))},a.handleChangeStacking=function(e){a.setOptions({stacked:e})},a.handleChangeShowExemplars=function(e){a.setOptions({showExemplars:e})},a.handleTimeRangeSelection=function(e,t){a.setOptions({range:t-e,endTime:t})},a.state={data:null,exemplars:[],lastQueryParams:null,loading:!1,warnings:null,error:null,stats:null,exprInputValue:e.options.expr},a.debounceExecuteQuery=function(e,t){var n;return function(){for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];clearTimeout(n),n=setTimeout((function(){e.apply(void 0,r)}),t)}}(a.executeQuery.bind(Object(ae.a)(a)),250),a}return Object(ne.a)(n,[{key:"componentDidUpdate",value:function(e){var t=e.options,n=this.props.options,a=n.endTime,r=n.range,i=n.resolution,o=n.showExemplars,c=n.type;t.endTime===a&&t.range===r?t.resolution===i&&t.type===c&&o===t.showExemplars||this.executeQuery():this.debounceExecuteQuery()}},{key:"componentDidMount",value:function(){this.executeQuery()}},{key:"setOptions",value:function(e){var t=Object(Q.a)(Object(Q.a)({},this.props.options),e);this.props.onOptionsChanged(t)}},{key:"render",value:function(){var e,t=this,n=this.props,a=n.pastQueries,r=n.metricNames,i=n.options;return Object(C.jsxs)("div",{className:"panel",children:[Object(C.jsx)(G.a,{children:Object(C.jsx)(U.a,{children:Object(C.jsx)(Dt,{value:this.state.exprInputValue,onExpressionChange:this.handleExpressionChange,executeQuery:this.executeQuery,loading:this.state.loading,enableAutocomplete:this.props.enableAutocomplete,enableHighlighting:this.props.enableHighlighting,enableLinter:this.props.enableLinter,queryHistory:a,metricNames:r})})}),Object(C.jsx)(G.a,{children:Object(C.jsx)(U.a,{children:this.state.error&&Object(C.jsx)(V.a,{color:"danger",children:this.state.error})})}),null===(e=this.state.warnings)||void 0===e?void 0:e.map((function(e,t){return Object(C.jsx)(G.a,{children:Object(C.jsx)(U.a,{children:e&&Object(C.jsx)(V.a,{color:"warning",children:e})})},t)})),Object(C.jsx)(G.a,{children:Object(C.jsxs)(U.a,{children:[Object(C.jsxs)(f.a,{tabs:!0,children:[Object(C.jsx)(m.a,{children:Object(C.jsx)(b.a,{className:"table"===i.type?"active":"",onClick:function(){return t.handleChangeType(nn.Table)},children:"Table"})}),Object(C.jsx)(m.a,{children:Object(C.jsx)(b.a,{className:"graph"===i.type?"active":"",onClick:function(){return t.handleChangeType(nn.Graph)},children:"Graph"})}),!this.state.loading&&!this.state.error&&this.state.stats&&Object(C.jsx)(ln,Object(Q.a)({},this.state.stats))]}),Object(C.jsxs)(oe.a,{activeTab:i.type,children:[Object(C.jsx)(ce.a,{tabId:"table",children:"table"===i.type&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{className:"table-controls",children:Object(C.jsx)(Xt,{time:i.endTime,useLocalTime:this.props.useLocalTime,range:i.range,placeholder:"Evaluation time",onChangeTime:this.handleChangeEndTime})}),Object(C.jsx)(sn,{data:this.state.data})]})}),Object(C.jsx)(ce.a,{tabId:"graph",children:"graph"===this.props.options.type&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Ft,{range:i.range,endTime:i.endTime,useLocalTime:this.props.useLocalTime,resolution:i.resolution,stacked:i.stacked,showExemplars:i.showExemplars,onChangeRange:this.handleChangeRange,onChangeEndTime:this.handleChangeEndTime,onChangeResolution:this.handleChangeResolution,onChangeStacking:this.handleChangeStacking,onChangeShowExemplars:this.handleChangeShowExemplars}),Object(C.jsx)(on,{data:this.state.data,exemplars:this.state.exemplars,stacked:i.stacked,useLocalTime:this.props.useLocalTime,showExemplars:i.showExemplars,lastQueryParams:this.state.lastQueryParams,id:this.props.id,handleTimeRangeSelection:this.handleTimeRangeSelection})]})})]})]})}),Object(C.jsx)(G.a,{children:Object(C.jsx)(U.a,{children:Object(C.jsx)(k.a,{className:"float-right",color:"link",onClick:this.props.removePanel,size:"sm",children:"Remove Panel"})})})]})}}]),n}(i.Component),hn=dn,pn=function(){return"_".concat(Math.random().toString(36).substr(2,9))},fn=function(e){return e.length>0},mn=function(e){return null!==e&&void 0!==e},bn=function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return String(e).replace(/[&<>"'/]/g,(function(e){return t[e]}))},gn=function(e){if(null===e)return"scalar";var t=(e.__name__||"")+"{",n=[];for(var a in e)"__name__"!==a&&n.push(a+'="'+e[a]+'"');return t+=n.join(", ")+"}"},vn=function(e){if(""===e)return null;if("0"===e)return 0;var t=new RegExp("^(([0-9]+)y)?(([0-9]+)w)?(([0-9]+)d)?(([0-9]+)h)?(([0-9]+)m)?(([0-9]+)s)?(([0-9]+)ms)?$"),n=e.match(t);if(!n)return null;var a=0,r=function(e,t){if(void 0!==n[e]){var r=parseInt(n[e]);a+=r*t}};return r(2,31536e6),r(4,6048e5),r(6,864e5),r(8,36e5),r(10,6e4),r(12,1e3),r(14,1),a},yn=function(e){var t=e,n="";if(0===t)return"0s";var a=function(e,a,r){if(!r||t%a===0){var i=Math.floor(t/a);i>0&&(n+="".concat(i).concat(e),t-=i*a)}};return a("y",31536e6,!0),a("w",6048e5,!0),a("d",864e5,!1),a("h",36e5,!1),a("m",6e4,!1),a("s",1e3,!1),a("ms",1,!1),n};function On(e){return ee.a.utc(e).valueOf()}var xn=function(e){var t=e<0?"-":"",n=e<0?-1*e:e,a=ee.a.duration(n,"ms"),r=Math.floor(a.milliseconds()),i=Math.floor(a.seconds()),o=Math.floor(a.minutes()),c=Math.floor(a.hours()),s=Math.floor(a.asDays());return 0!==s?"".concat(t).concat(s,"d ").concat(c,"h ").concat(o,"m ").concat(i,"s"):0!==c?"".concat(t).concat(c,"h ").concat(o,"m ").concat(i,"s"):0!==o?"".concat(t).concat(o,"m ").concat(i,"s"):0!==i?"".concat(t).concat(i,".").concat(r,"s"):n>0?"".concat(t).concat(n.toFixed(3),"ms"):"0s"},jn=function(e,t){var n=On(e);return n<0?"Never":xn(t-n)+" ago"},kn=/^g\d+\..+=.+$/,Tn=function(e){if(""===e)return[];var t=e.substring(1).split("&");return t.reduce((function(e,n,a){var r=e.length,i="g".concat(r,".");if(n.startsWith("".concat(i,"expr="))){var o=i.length;return[].concat(Object(J.a)(e),[{id:pn(),key:"".concat(r),options:t.slice(a).reduce((function(e,t){return t.startsWith(i)&&kn.test(t)?Object(Q.a)(Object(Q.a)({},e),wn(t.substring(o))):e}),un)}])}return e}),[])},wn=function(e){var t=e.split("="),n=Object(l.a)(t,2),a=n[0],r=n[1],i=decodeURIComponent(r.replace(/\+/g," "));switch(a){case"expr":return{expr:i};case"tab":return{type:"0"===i?nn.Graph:nn.Table};case"stacked":return{stacked:"1"===i};case"show_exemplars":return{showExemplars:"1"===i};case"range_input":var o=vn(i);return mn(o)?{range:o}:{};case"end_input":case"moment_input":return{endTime:On(i)};case"step_input":var c=parseInt(i);return c>0?{resolution:c}:{}}return{}},_n=function(e){var t=e.key,n=e.options,a=function(e){return function(t,n){return"g".concat(e,".").concat(t,"=").concat(encodeURIComponent(n))}}(t),r=n.expr,i=n.type,o=n.stacked,c=n.range,s=n.endTime,l=n.resolution,u=n.showExemplars,d=!!mn(s)&&function(e){return ee.a.utc(e).format("YYYY-MM-DD HH:mm:ss")}(s);return[a("expr",r),a("tab",i===nn.Graph?0:1),a("stacked",o?1:0),a("show_exemplars",u?1:0),a("range_input",yn(c)),d?"".concat(a("end_input",d),"&").concat(a("moment_input",d)):"",mn(l)?a("step_input",l):""].filter(fn).join("&")},Sn=function(e){return"../graph?g0.expr=".concat(encodeURIComponent(e),"&g0.tab=1&g0.stacked=0&g0.show_exemplars=0.g0.range_input=1h.")},Cn=function(e,t){return Object.entries(e).map(t)},Mn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];t.filter(Boolean).forEach((function(e){return e.apply(null,n)}))}};var Pn={firing:"danger",pending:"warning",inactive:"success"},Ln=function(e){var t=e.annotations;return Object(C.jsxs)(i.Fragment,{children:[Object(C.jsx)("tr",{children:Object(C.jsx)("td",{colSpan:4,children:Object(C.jsx)("h5",{className:"font-weight-bold",children:"Annotations"})})}),Object(C.jsx)("tr",{children:Object(C.jsx)("td",{colSpan:4,children:Object.entries(t).map((function(e,t){var n=Object(l.a)(e,2),a=n[0],r=n[1];return Object(C.jsxs)("div",{children:[Object(C.jsx)("strong",{children:a}),Object(C.jsx)("div",{children:r})]},t)}))})})]})},$n=function(e){var t=e.rule,n=e.showAnnotations,a=Object(i.useState)(!1),r=Object(l.a)(a,2),o=r[0],c=r[1];return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(V.a,{fade:!1,onClick:function(){return c(!o)},color:Pn[t.state],style:{cursor:"pointer"},children:[Object(C.jsx)(T.a,{icon:o?w.g:w.i,fixedWidth:!0}),Object(C.jsx)("strong",{children:t.name})," (","".concat(t.alerts.length," active"),")"]}),Object(C.jsx)(p.a,{isOpen:o,className:"mb-2",children:o&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("pre",{className:"alert-cell",children:Object(C.jsxs)("code",{children:[Object(C.jsxs)("div",{children:["name: ",Object(C.jsx)(u.b,{to:Sn('ALERTS{alertname="'.concat(t.name,'"}')),children:t.name})]}),Object(C.jsxs)("div",{children:["expr: ",Object(C.jsx)(u.b,{to:Sn(t.query),children:t.query})]}),t.duration>0&&Object(C.jsx)("div",{children:Object(C.jsxs)("div",{children:["for: ",yn(1e3*t.duration)]})}),t.labels&&Object.keys(t.labels).length>0&&Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{children:"labels:"}),Object.entries(t.labels).map((function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(C.jsxs)("div",{className:"ml-4",children:[n,": ",a]},n)}))]}),t.annotations&&Object.keys(t.annotations).length>0&&Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{children:"annotations:"}),Object.entries(t.annotations).map((function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(C.jsxs)("div",{className:"ml-4",children:[n,": ",a]},n)}))]})]})}),t.alerts.length>0&&Object(C.jsxs)(Z.a,{bordered:!0,size:"sm",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"Labels"}),Object(C.jsx)("th",{children:"State"}),Object(C.jsx)("th",{children:"Active Since"}),Object(C.jsx)("th",{children:"Value"})]})}),Object(C.jsx)("tbody",{children:t.alerts.map((function(e,t){return Object(C.jsxs)(i.Fragment,{children:[Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:Object.entries(e.labels).map((function(e,t){var n=Object(l.a)(e,2),a=n[0],r=n[1];return Object(C.jsxs)(Y.a,{color:"primary",className:"mr-1",children:[a,"=",r]},t)}))}),Object(C.jsx)("td",{children:Object(C.jsx)("h5",{className:"m-0",children:Object(C.jsx)(Y.a,{color:Pn[e.state]+" text-uppercase",className:"px-3",children:e.state})})}),Object(C.jsx)("td",{children:e.activeAt}),Object(C.jsx)("td",{children:(a=e.value,isNaN(Number(a))?a:Number(a))})]}),n&&Object(C.jsx)(Ln,{annotations:e.annotations})]},t);var a}))})]})]})})]})},En=n(306),Nn=n(307),Qn=["children","wrapperStyles","id"],An=function(e){var t=e.children,n=e.wrapperStyles,a=e.id,r=Object(F.a)(e,Qn);return Object(C.jsxs)(En.a,{className:"custom-control custom-checkbox",style:n,children:[Object(C.jsx)(Pe.a,Object(Q.a)(Object(Q.a)({},r),{},{id:a,type:"checkbox",className:"custom-control-input"})),Object(C.jsx)(Nn.a,{style:{userSelect:"none"},className:"custom-control-label",for:a,children:t})]})},Dn=Object(i.memo)(An);function Rn(e,t){var n=JSON.parse(localStorage.getItem(e)||JSON.stringify(t)),a=Object(i.useState)(n),r=Object(l.a)(a,2),o=r[0],c=r[1];return Object(i.useEffect)((function(){var t=JSON.stringify(o);localStorage.setItem(e,t)}),[e,o]),[o,c]}var In=n(173),Xn=function(e){var t=e.allItems,n=e.child,a=Object(i.useState)(t.slice(0,50)),r=Object(l.a)(a,2),o=r[0],c=r[1],s=Object(i.useState)(50),u=Object(l.a)(s,2),d=u[0],h=u[1],p=Object(i.useState)(t.length>50),f=Object(l.a)(p,2),m=f[0],b=f[1],g=n;Object(i.useEffect)((function(){c(t.slice(0,50)),b(t.length>50)}),[t]);return Object(C.jsx)(In.a,{next:function(){if(o.length===t.length)b(!1);else{var e=d+50;h(e),c(t.slice(0,e))}},hasMore:m,loader:Object(C.jsx)("h4",{children:"loading..."}),dataLength:o.length,height:o.length>25?"75vh":"",children:Object(C.jsx)(g,{items:o})})},qn=n(68),Fn=function(e){var t,n=e.handleChange,a=e.placeholder;return Object(C.jsxs)(se.a,{children:[Object(C.jsx)(le.a,{addonType:"prepend",children:Object(C.jsx)(ue.a,{children:Object(C.jsx)(T.a,{icon:w.n})})}),Object(C.jsx)(Pe.a,{autoFocus:!0,onChange:function(e){clearTimeout(t),t=setTimeout((function(){n(e)}),300)},placeholder:a})]})},Vn=new qn.a({shouldSort:!0,indexedKeys:["name","labels",["labels",/.*/]]}),zn=[["inactive","success"],["pending","warning"],["firing","danger"]];function Wn(e){return function(t){var n=t.items;return Object(C.jsx)(C.Fragment,{children:n.map((function(t,n){return Object(C.jsx)($n,{showAnnotations:e,rule:t},t.name+n)}))})}}var Bn=function(e){var t=e.groups,n=void 0===t?[]:t,a=e.statsCount,r=Object(i.useState)(n),o=Object(l.a)(r,2),c=o[0],s=o[1],u=Object(i.useState)(n),d=Object(l.a)(u,2),h=d[0],p=d[1],f=Rn("alerts-status-filter",{firing:!0,pending:!0,inactive:!0}),m=Object(l.a)(f,2),b=m[0],g=m[1],v=Rn("alerts-annotations-status",{checked:!1}),y=Object(l.a)(v,2),O=y[0],x=y[1];return Object(i.useEffect)((function(){var e,t=[],n=Object(B.a)(c);try{for(n.s();!(e=n.n()).done;){var a=e.value,r={file:a.file,name:a.name,interval:a.interval,rules:a.rules.filter((function(e){return b[e.state]}))};r.rules.length>0&&t.push(r)}}catch(i){n.e(i)}finally{n.f()}p(t)}),[c,b]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(G.a,{className:"align-items-center",children:[Object(C.jsx)(U.a,{className:"d-flex",lg:"4",md:"5",children:zn.map((function(e){var t,n=Object(l.a)(e,2),r=n[0],i=n[1];return Object(C.jsx)(Dn,{checked:b[r],id:"".concat(r,"-toggler"),onChange:(t=r,function(){g(Object(Q.a)(Object(Q.a)({},b),{},Object(H.a)({},t,!b[t])))}),children:Object(C.jsxs)(Y.a,{color:i,className:"text-capitalize",children:[r," (",a[r],")"]})},r)}))}),Object(C.jsx)(U.a,{lg:"5",md:"4",children:Object(C.jsx)(Fn,{handleChange:function(e){if(""!==e.target.value){var t,a=e.target.value.trim(),r=[],i=Object(B.a)(n);try{for(i.s();!(t=i.n()).done;){var o=t.value,c=Vn.filter(a,o.rules);c.length>0&&r.push({file:o.file,name:o.name,interval:o.interval,rules:c.map((function(e){return e.original}))})}}catch(l){i.e(l)}finally{i.f()}s(r)}else s(n)},placeholder:"Filter by name or labels"})}),Object(C.jsx)(U.a,{className:"d-flex flex-row-reverse",md:"3",children:Object(C.jsx)(Dn,{checked:O.checked,id:"show-annotations-toggler",onChange:function(e){var t=e.target;return x({checked:t.checked})},children:Object(C.jsx)("span",{style:{fontSize:"0.9rem",lineHeight:1.9,display:"inline-block",whiteSpace:"nowrap"},children:"Show annotations"})})})]}),h.map((function(e,t){return Object(C.jsxs)(i.Fragment,{children:[Object(C.jsxs)(Hn,{rules:e.rules,children:[e.file," > ",e.name]}),Object(C.jsx)(Xn,{allItems:e.rules,child:Wn(O.checked)})]},t)}))]})},Hn=function(e){var t=e.rules,n=e.children,a=t.reduce((function(e,t){return Object(Q.a)(Object(Q.a)({},e),{},Object(H.a)({},t.state,e[t.state]+t.alerts.length))}),{firing:0,pending:0});return Object(C.jsxs)("div",{className:"group-info border rounded-sm",style:{lineHeight:1.1},children:[n,Object(C.jsxs)("div",{className:"badges-wrapper",children:[mn(a.inactive)&&Object(C.jsx)(Y.a,{color:"success",children:"inactive"}),a.pending>0&&Object(C.jsxs)(Y.a,{color:"warning",children:["pending (",a.pending,")"]}),a.firing>0&&Object(C.jsxs)(Y.a,{color:"danger",children:["firing (",a.firing,")"]})]})]})};Bn.displayName="Alerts";var Gn=W(Bn),Un=function(){var e=Qe(),t=X("".concat(e,"/").concat(I,"/rules?type=alert")),n=t.response,a=t.error,r=t.isLoading,i={inactive:0,pending:0,firing:0};return n.data&&n.data.groups&&n.data.groups.forEach((function(e){return e.rules.forEach((function(e){return i[e.state]++}))})),Object(C.jsx)(Gn,Object(Q.a)(Object(Q.a)({},n.data),{},{statsCount:i,error:a,isLoading:r}))},Yn=n(174),Zn=n.n(Yn),Jn=function(e){var t=e.yaml;return Object(C.jsx)("pre",{className:"config-yaml",children:t})};Jn.displayName="Config";var Kn=W(Jn),ea=function(e){var t=e.error,n=e.data,a=Object(i.useState)(!1),r=Object(l.a)(a,2),o=r[0],c=r[1],s=n&&n.yaml;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("h2",{children:["Configuration\xa0",Object(C.jsx)(Zn.a,{text:s||"",onCopy:function(e,t){c(t),setTimeout(c,1500)},children:Object(C.jsx)(k.a,{color:"light",disabled:!s,children:o?"Copied":"Copy to clipboard"})})]}),Object(C.jsx)(Kn,{error:t,isLoading:!s,yaml:s})]})},ta=function(){var e=Qe(),t=X("".concat(e,"/").concat(I,"/status/config")),n=t.response,a=t.error;return Object(C.jsx)(ea,{error:a,data:n.data})},na=n(113),aa=n.n(na),ra=new Le.Fuzzy({pre:"<strong>",post:"</strong>",shouldSort:!0}),ia=function(e){var t,n,a=e.data,r=void 0===a?{}:a,o=Object(i.useState)(""),c=Object(l.a)(o,2),s=c[0],u=c[1],d=Object(i.useState)({name:"Flag",alpha:!0,focused:!0}),h=Object(l.a)(d,2),p=h[0],f=h[1],m=Object.entries(r).sort((t="Flag"===p.name,n=!p.alpha,function(e,a){var r=Object(l.a)(e,2),i=r[0],o=r[1],c=Object(l.a)(a,2),s=c[0],u=c[1],d=t?s:u;return(n?-1:1)*(t?i:o).localeCompare(d)})).map((function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1];return"--".concat(n).concat("||").concat(a)})),b=m;return s.length>0&&(b=ra.filter(s,m).map((function(e){return e.rendered}))),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h2",{children:"Command-Line Flags"}),Object(C.jsx)(se.a,{children:Object(C.jsx)(Pe.a,{autoFocus:!0,placeholder:"Filter by flag name or value...",className:"my-3",value:s,onChange:function(e){var t=e.target;u(t.value)}})}),Object(C.jsxs)(Z.a,{bordered:!0,size:"sm",striped:!0,hover:!0,children:[Object(C.jsx)("thead",{children:Object(C.jsx)("tr",{children:["Flag","Value"].map((function(e){return Object(C.jsxs)("td",{className:"px-4 ".concat(e),style:{width:"50%"},onClick:function(){return f({name:e,focused:!0,alpha:p.name!==e||!p.alpha})},children:[Object(C.jsx)("span",{className:"mr-2",children:e}),Object(C.jsx)(T.a,{icon:(t=p.name!==e?void 0:p.alpha,void 0===t?w.o:t?w.p:w.q)})]},e);var t}))})}),Object(C.jsx)("tbody",{children:b.map((function(e){var t=e.split("||"),n=Object(l.a)(t,2),a=n[0],r=n[1],i={allowedTags:["strong"]};return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{className:"flag-item",children:Object(C.jsx)("span",{dangerouslySetInnerHTML:{__html:aa()(a,i)}})}),Object(C.jsx)("td",{className:"flag-value",children:Object(C.jsx)("span",{dangerouslySetInnerHTML:{__html:aa()(r,i)}})})]},a)}))})]})]})},oa=W(ia);ia.displayName="Flags";var ca=function(){var e=Qe(),t=X("".concat(e,"/").concat(I,"/status/flags")),n=t.response,a=t.error,r=t.isLoading;return Object(C.jsx)(oa,{data:n.data,error:a,isLoading:r})},sa=n(56),la=function(e){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("strong",{children:[e.title,":"]}),Object(C.jsx)(u.b,{className:"ml-4",to:Sn(e.expr),children:e.text}),Object(C.jsx)("br",{})]})},ua=W((function(e){var t=e.response,n=function(e){switch(e){case"ok":return"success";case"err":return"danger";case"unknown":return"warning"}};if(t.data){var a=t.data.groups;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h2",{children:"Rules"}),a.map((function(e,t){return Object(C.jsxs)(Z.a,{bordered:!0,children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{colSpan:3,children:Object(C.jsx)("a",{href:"#"+e.name,children:Object(C.jsx)("h4",{id:e.name,className:"text-break",children:e.name})})}),Object(C.jsx)("td",{children:Object(C.jsx)("h4",{children:jn(e.lastEvaluation,Object(sa.now)())})}),Object(C.jsx)("td",{children:Object(C.jsx)("h4",{children:xn(1e3*parseFloat(e.evaluationTime))})})]})}),Object(C.jsxs)("tbody",{children:[Object(C.jsxs)("tr",{className:"font-weight-bold",children:[Object(C.jsx)("td",{children:"Rule"}),Object(C.jsx)("td",{children:"State"}),Object(C.jsx)("td",{children:"Error"}),Object(C.jsx)("td",{children:"Last Evaluation"}),Object(C.jsx)("td",{children:"Evaluation Time"})]}),e.rules.map((function(e,t){return Object(C.jsxs)("tr",{children:[Object(C.jsxs)("td",{className:"rule-cell",children:[e.alerts?Object(C.jsx)(la,{title:"alert",text:e.name,expr:'ALERTS{alertname="'.concat(e.name,'"}')}):Object(C.jsx)(la,{title:"record",text:e.name,expr:e.name}),Object(C.jsx)(la,{title:"expr",text:e.query,expr:e.query}),e.duration>0&&Object(C.jsxs)("div",{children:[Object(C.jsx)("strong",{children:"for:"})," ",yn(1e3*e.duration)]}),e.labels&&Object.keys(e.labels).length>0&&Object(C.jsxs)("div",{children:[Object(C.jsx)("strong",{children:"labels:"}),Object.entries(e.labels).map((function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(C.jsxs)("div",{className:"ml-4",children:[n,": ",a]},n)}))]}),e.alerts&&e.annotations&&Object.keys(e.annotations).length>0&&Object(C.jsxs)("div",{children:[Object(C.jsx)("strong",{children:"annotations:"}),Object.entries(e.annotations).map((function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(C.jsxs)("div",{className:"ml-4",children:[n,": ",a]},n)}))]})]}),Object(C.jsx)("td",{children:Object(C.jsx)(Y.a,{color:n(e.health),children:e.health.toUpperCase()})}),Object(C.jsx)("td",{children:e.lastError?Object(C.jsx)(V.a,{color:"danger",children:e.lastError}):null}),Object(C.jsx)("td",{children:jn(e.lastEvaluation,Object(sa.now)())}),Object(C.jsx)("td",{children:xn(1e3*parseFloat(e.evaluationTime))})]},t)}))]})]},t)}))]})}return null})),da=function(){var e=Qe(),t=X("".concat(e,"/").concat(I,"/rules")),n=t.response,a=t.error,r=t.isLoading;return Object(C.jsx)(ua,{response:n,error:a,isLoading:r})},ha=function(e){var t=e.children,n=e.event,a=e.showMore;return Object(C.jsxs)("h3",{children:[t,Object(C.jsxs)(k.a,{size:"xs",onClick:n,style:{padding:"0.3em 0.3em 0.25em 0.3em",fontSize:"0.375em",marginLeft:"1em",verticalAlign:"baseline"},color:"primary",children:["show ",a?"less":"more"]})]})},pa=function(e){return Object.entries(e).map((function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(C.jsx)("div",{children:Object(C.jsx)(Y.a,{color:"primary",className:"mr-1",children:"".concat(n,'="').concat(a,'"')})},n)}))},fa=function(e){var t=e.items;return Object(C.jsxs)(Z.a,{size:"sm",bordered:!0,hover:!0,striped:!0,children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"Discovered Labels"}),Object(C.jsx)("th",{children:"Target Labels"})]})}),Object(C.jsx)("tbody",{children:t.map((function(e,n){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:pa(t[n].discoveredLabels)}),t[n].isDropped?Object(C.jsx)("td",{style:{fontWeight:"bold"},children:"Dropped"}):Object(C.jsx)("td",{children:pa(t[n].labels)})]},n)}))})]})},ma=function(e){var t=e.value,n=e.name,a=Object(i.useState)(!1),r=Object(l.a)(a,2),o=r[0],c=r[1];return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{children:Object(C.jsx)(ha,{event:function(){c(!o)},showMore:o,children:Object(C.jsx)("span",{className:"target-head",children:n})})}),o?Object(C.jsx)(Xn,{allItems:t,child:fa}):null]})},ba=new qn.a({shouldSort:!0,indexedKeys:["labels","discoveredLabels",["discoveredLabels",/.*/],["labels",/.*/]]}),ga=function(e,t){var n,a={},r=Object(B.a)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value.scrapePool;a[i]||(a[i]={total:0,active:0}),a[i].total++,a[i].active++}}catch(l){r.e(l)}finally{r.f()}var o,c=Object(B.a)(t);try{for(c.s();!(o=c.n()).done;){var s=o.value.discoveredLabels.job;a[s]||(a[s]={total:0,active:0}),a[s].total++}}catch(l){c.e(l)}finally{c.f()}return a},va=function(e,t){var n,a={},r=Object(B.a)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.scrapePool;a[o]||(a[o]=[]),a[o].push({discoveredLabels:i.discoveredLabels,labels:i.labels,isDropped:!1})}}catch(d){r.e(d)}finally{r.f()}var c,s=Object(B.a)(t);try{for(s.s();!(c=s.n()).done;){var l=c.value,u=l.discoveredLabels.job;a[u]||(a[u]=[]),a[u].push({discoveredLabels:l.discoveredLabels,isDropped:!0,labels:{}})}}catch(d){s.e(d)}finally{s.f()}return a},ya=function(e){var t=e.activeTargets,n=e.droppedTargets,a=Object(i.useState)(t),r=Object(l.a)(a,2),o=r[0],c=r[1],s=Object(i.useState)(ga(t,n)),u=Object(l.a)(s,2),d=u[0],h=u[1],p=Object(i.useState)(va(t,n)),f=Object(l.a)(p,2),m=f[0],b=f[1];return Object(i.useEffect)((function(){h(ga(o,n)),b(va(o,n))}),[o,n]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h2",{children:"Service Discovery"}),Object(C.jsx)($.a,{children:Object(C.jsx)(Fn,{handleChange:function(e){if(""!==e.target.value){var n=ba.filter(e.target.value.trim(),t);c(n.map((function(e){return e.original})))}else c(t)},placeholder:"Filter by labels"})}),Object(C.jsx)("ul",{children:Cn(d,(function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(C.jsx)("li",{children:Object(C.jsxs)("a",{href:"#"+n,children:[n," (",a.active," / ",a.total," active targets)"]})},n)}))}),Object(C.jsx)("hr",{}),Cn(m,(function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(C.jsx)(ma,{value:a,name:n},n)}))]})};ya.displayName="ServiceDiscoveryContent";var Oa=W(ya),xa=function(){var e=Qe(),t=X("".concat(e,"/").concat(I,"/targets")),n=t.response,a=t.error,r=t.isLoading;return Object(C.jsx)(Oa,Object(Q.a)(Object(Q.a)({},n.data),{},{error:a,isLoading:r,componentTitle:"Service Discovery information"}))},ja={startTime:{title:"Start time",customizeValue:function(e){return new Date(e).toUTCString()}},CWD:{title:"Working directory"},reloadConfigSuccess:{title:"Configuration reload",customizeValue:function(e){return e?"Successful":"Unsuccessful"}},lastConfigTime:{title:"Last successful configuration reload"},corruptionCount:{title:"WAL corruptions"},goroutineCount:{title:"Goroutines"},storageRetention:{title:"Storage retention"},activeAlertmanagers:{customRow:!0,customizeValue:function(e,t){return Object(C.jsxs)(i.Fragment,{children:[Object(C.jsx)("tr",{children:Object(C.jsx)("th",{children:"Endpoint"})}),e.map((function(e){var t=e.url,n=new URL(t),a=n.origin,r=n.pathname;return Object(C.jsx)("tr",{children:Object(C.jsxs)("td",{children:[Object(C.jsx)("a",{href:t,children:a}),r]})},t)}))]},t)}},droppedAlertmanagers:{skip:!0}},ka=function(e){var t=e.data,n=e.title;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h2",{children:n}),Object(C.jsx)(Z.a,{className:"h-auto",size:"sm",bordered:!0,striped:!0,children:Object(C.jsx)("tbody",{children:Object.entries(t).map((function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1],r=ja[n]||{},i=r.title,o=void 0===i?n:i,c=r.customizeValue,s=void 0===c?function(e){return e}:c,u=r.customRow;return r.skip?null:u?s(a,n):Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{className:"capitalize-title",style:{width:"35%"},children:o}),Object(C.jsx)("td",{className:"text-break",children:s(a,o)})]},n)}))})})]})},Ta=W(ka);ka.displayName="Status";var wa=function(e){var t=e.fetchPath,n=e.title,a=X(t),r=a.response,i=a.isLoading,o=a.error;return Object(C.jsx)(Ta,{data:r.data,title:n,isLoading:i,error:o,componentTitle:n},n)},_a=function(e){var t=e.agentMode,n=Qe(),a="".concat(n,"/").concat(I);return Object(C.jsx)(C.Fragment,{children:[{fetchPath:"".concat(a,"/status/runtimeinfo"),title:"Runtime Information"},{fetchPath:"".concat(a,"/status/buildinfo"),title:"Build Information"},{fetchPath:"".concat(a,"/alertmanagers"),title:"Alertmanagers"}].map((function(e){var n=e.fetchPath,a=e.title;return t&&"Alertmanagers"===a?null:Object(C.jsx)(wa,{fetchPath:n,title:a})}))})},Sa=function(e){return e.reduce((function(e,t){var n=t.health,a=t.scrapePool,r="up"===n.toLowerCase()?1:0;return e[a]||(e[a]={upCount:0,targets:[]}),e[a].targets.push(t),e[a].upCount+=r,e}),{})},Ca=function(e){switch(e.toLowerCase()){case"up":return"success";case"down":return"danger";default:return"warning"}},Ma=n(310),Pa=(n(158),n(175)),La=n.n(Pa),$a=function(e){return Object.keys(e).map((function(t){return"".concat(t,'="').concat(e[t],'"')}))},Ea=function(e){var t=e.discoveredLabels,n=e.labels,a=e.idx,r=e.scrapePool,o=Object(i.useState)(!1),c=Object(l.a)(o,2),s=c[0],u=c[1],d="series-labels-".concat(r,"-").concat(a);return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{id:d,className:"series-labels-container",children:Object.keys(n).map((function(e){return Object(C.jsx)(Y.a,{color:"primary",className:"mr-1",children:"".concat(e,'="').concat(n[e],'"')},e)}))}),Object(C.jsxs)(Ma.a,{isOpen:s,target:CSS.escape(d),toggle:function(){return u(!s)},placement:"right-end",style:{maxWidth:"none",textAlign:"left"},children:[Object(C.jsx)("b",{children:"Before relabeling:"}),$a(t).map((function(e,t){return Object(C.jsxs)(i.Fragment,{children:[Object(C.jsx)("br",{}),Object(C.jsx)("span",{className:La.a.discovered,children:e})]},t)}))]})]})},Na=n(50),Qa=n.n(Na),Aa=function(e){var t=e.duration,n=e.interval,a=e.timeout,r=e.idx,o=e.scrapePool,c=Object(i.useState)(!1),s=Object(l.a)(c,2),u=s[0],d=s[1],h="scrape-duration-".concat(o,"-").concat(r);return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{id:h,className:"scrape-duration-container",children:xn(1e3*t)}),Object(C.jsxs)(Ma.a,{isOpen:u,toggle:function(){return d(!u)},target:CSS.escape(h),style:{maxWidth:"none",textAlign:"left"},children:[Object(C.jsxs)(i.Fragment,{children:[Object(C.jsxs)("span",{children:["Interval: ",n]}),Object(C.jsx)("br",{})]}),Object(C.jsx)(i.Fragment,{children:Object(C.jsxs)("span",{children:["Timeout: ",a]})})]})]})},Da=function(e){var t,n=e.endpoint,a=e.globalUrl,r="",i=!1;try{t=new URL(n)}catch(f){i=!0,n.indexOf("?")>-1&&(r=n.substring(n.indexOf("?"))),t=new URL("http://0.0.0.0"+r)}var o=t,c=o.host,s=o.pathname,u=o.protocol,d=o.searchParams,h=Array.from(d.entries()),p=i?n.replace(r,""):"".concat(u,"//").concat(c).concat(s);return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("a",{href:a,children:p}),h.length>0?Object(C.jsx)("br",{}):null,h.map((function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(C.jsx)(Y.a,{color:"primary",className:"mr-1",children:"".concat(n,'="').concat(a,'"')},"".concat(n,"/").concat(a))}))]})},Ra=["Endpoint","State","Labels","Last Scrape","Scrape Duration","Error"],Ia=function(e){var t=e.items;return Object(C.jsxs)(Z.a,{className:Qa.a.table,size:"sm",bordered:!0,hover:!0,striped:!0,children:[Object(C.jsx)("thead",{children:Object(C.jsx)("tr",{children:Ra.map((function(e){return Object(C.jsx)("th",{children:e},e)}))},"header")}),Object(C.jsx)("tbody",{children:t.map((function(e,t){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{className:Qa.a.endpoint,children:Object(C.jsx)(Da,{endpoint:e.scrapeUrl,globalUrl:e.globalUrl})}),Object(C.jsx)("td",{className:Qa.a.state,children:Object(C.jsx)(Y.a,{color:Ca(e.health),children:e.health.toUpperCase()})}),Object(C.jsx)("td",{className:Qa.a.labels,children:Object(C.jsx)(Ea,{discoveredLabels:e.discoveredLabels,labels:e.labels,scrapePool:e.scrapePool,idx:t})}),Object(C.jsx)("td",{className:Qa.a["last-scrape"],children:jn(e.lastScrape,Object(sa.now)())}),Object(C.jsx)("td",{className:Qa.a["scrape-duration"],children:Object(C.jsx)(Aa,{duration:e.lastScrapeDuration,scrapePool:e.scrapePool,idx:t,interval:e.scrapeInterval,timeout:e.scrapeTimeout})}),Object(C.jsx)("td",{className:Qa.a.errors,children:e.lastError?Object(C.jsx)("span",{className:"text-danger",children:e.lastError}):null})]},t)}))})]})},Xa=function(e){var t=e.targets;return Object(C.jsx)(Xn,{allItems:t,child:Ia})},qa=function(e){var t=e.filter,n=e.setFilter,a=e.expanded,r=e.setExpanded,i=t.showHealthy,o=Object.values(a).every((function(e){return e})),c={all:{active:i,className:"all",color:"primary",onClick:function(){return n(Object(Q.a)(Object(Q.a)({},t),{},{showHealthy:!0}))}},unhealthy:{active:!i,className:"unhealthy",color:"primary",onClick:function(){return n(Object(Q.a)(Object(Q.a)({},t),{},{showHealthy:!1}))}},expansionState:{active:!1,className:"expansion",color:"primary",onClick:function(){return r((e=!o,Object.keys(a).reduce((function(t,n){return Object(Q.a)(Object(Q.a)({},t),{},Object(H.a)({},n,e))}),{})));var e}}};return Object(C.jsxs)(j.a,{className:"mt-3 mb-4",children:[Object(C.jsx)(k.a,Object(Q.a)(Object(Q.a)({},c.all),{},{children:"All"})),Object(C.jsx)(k.a,Object(Q.a)(Object(Q.a)({},c.unhealthy),{},{children:"Unhealthy"})),Object(C.jsx)(k.a,Object(Q.a)(Object(Q.a)({},c.expansionState),{},{children:o?"Collapse All":"Expand All"}))]})},Fa=new qn.a({shouldSort:!0,indexedKeys:["labels","scrapePool",["labels",/.*/]]}),Va=function(e){var t=e.targetGroup.upCount<e.targetGroup.targets.length?"danger":"normal",n="pool-".concat(e.scrapePool),a={href:"#".concat(n),id:n};return Object(C.jsxs)("div",{children:[Object(C.jsx)(ha,{event:e.toggleExpanded,showMore:e.expanded,children:Object(C.jsx)("a",Object(Q.a)(Object(Q.a)({className:Qa.a[t]},a),{},{children:"".concat(e.scrapePool," (").concat(e.targetGroup.upCount,"/").concat(e.targetGroup.targets.length," up)")}))}),Object(C.jsx)(p.a,{isOpen:e.expanded,children:Object(C.jsx)(Xa,{targets:e.targetGroup.targets})})]})},za=W((function(e){var t=e.activeTargets,n=Sa(t),a=Object(i.useState)(n),r=Object(l.a)(a,2),o=r[0],c=r[1],s=Object(i.useState)(t),u=Object(l.a)(s,2),d=u[0],h=u[1],p=Rn("targets-page-filter",{showHealthy:!0,showUnhealthy:!0}),f=Object(l.a)(p,2),m=f[0],b=f[1],g=Rn("targets-page-expansion-state",Object.keys(n).reduce((function(e,t){return Object(Q.a)(Object(Q.a)({},e),{},Object(H.a)({},t,!0))}),{})),v=Object(l.a)(g,2),y=v[0],O=v[1],x=m.showHealthy,j=m.showUnhealthy;return Object(i.useEffect)((function(){var e=d.filter((function(e){return x||"up"!==e.health.toLowerCase()}));c(Sa(e))}),[x,d]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(G.a,{xs:"4",className:"align-items-center",children:[Object(C.jsx)(U.a,{children:Object(C.jsx)(qa,{filter:m,setFilter:b,expanded:y,setExpanded:O})}),Object(C.jsx)(U.a,{xs:"6",children:Object(C.jsx)(Fn,{handleChange:function(e){if(""!==e.target.value){var n=Fa.filter(e.target.value.trim(),t);h(n.map((function(e){return e.original})))}else h(t)},placeholder:"Filter by endpoint or labels"})})]}),Object.keys(o).filter((function(e){var t=o[e],n=t.upCount===t.targets.length;return n&&x||!n&&j})).map((function(e){return Object(C.jsx)(Va,{scrapePool:e,targetGroup:o[e],expanded:y[e],toggleExpanded:function(){return O(Object(Q.a)(Object(Q.a)({},y),{},Object(H.a)({},e,!y[e])))}},e)}))]})})),Wa=function(){var e=Qe(),t=X("".concat(e,"/").concat(I,"/targets?state=active")),n=t.response,a=t.error,r=t.isLoading,i=n.status,o="success"!==i&&"start fetching"!==i;return Object(C.jsx)(za,Object(Q.a)(Object(Q.a)({},n.data),{},{error:o?new Error(i):a,isLoading:r,componentTitle:"Targets information"}))},Ba=function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h2",{children:"Targets"}),Object(C.jsx)(Wa,{})]})},Ha=["metrics","useLocalTime","queryHistoryEnabled","enableAutocomplete","enableHighlighting","enableLinter"],Ga=function(e){var t="?".concat(e.map(_n).join("&"));window.history.pushState({},"",t)},Ua=function(e){var t=e.metrics,n=void 0===t?[]:t,a=e.useLocalTime,r=e.queryHistoryEnabled,o=e.enableAutocomplete,c=e.enableHighlighting,s=e.enableLinter,u=Object(F.a)(e,Ha),d=Object(i.useState)(u.panels),h=Object(l.a)(d,2),p=h[0],f=h[1],m=Rn("history",[]),b=Object(l.a)(m,2),g=b[0],v=b[1];Object(i.useEffect)((function(){!p.length&&O(),window.onpopstate=function(){var e=Tn(window.location.search);e.length>0&&f(e)}}),[]);var y=function(e){if(!(-1!==n.indexOf(e))&&e.length){var t=g.reduce((function(t,n){return n===e?t:[].concat(Object(J.a)(t),[n])}),[e]);v(t.slice(0,50))}},O=function(){Mn(f,Ga)([].concat(Object(J.a)(p),[{id:pn(),key:"".concat(p.length),options:un}]))},x=Qe();return Object(C.jsxs)(C.Fragment,{children:[p.map((function(e){var t=e.id,i=e.options;return Object(C.jsx)(hn,{pathPrefix:x,onExecuteQuery:y,id:t,options:i,onOptionsChanged:function(e){return Mn(f,Ga)(p.map((function(n){return t===n.id?Object(Q.a)(Object(Q.a)({},n),{},{options:e}):n})))},removePanel:function(){return Mn(f,Ga)(p.reduce((function(e,n){return n.id!==t?[].concat(Object(J.a)(e),[Object(Q.a)(Object(Q.a)({},n),{},{key:"".concat(e.length)})]):e}),[]))},useLocalTime:a,metricNames:n,pastQueries:r?g:[],enableAutocomplete:o,enableHighlighting:c,enableLinter:s},t)})),Object(C.jsx)(k.a,{className:"d-block mb-3",color:"primary",onClick:O,children:"Add Panel"})]})},Ya=function(){var e=Object(i.useState)(0),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Rn("use-local-time",!1),o=Object(l.a)(r,2),c=o[0],s=o[1],u=Rn("enable-query-history",!1),d=Object(l.a)(u,2),h=d[0],p=d[1],f=Rn("enable-metric-autocomplete",!0),m=Object(l.a)(f,2),b=m[0],g=m[1],v=Rn("enable-syntax-highlighting",!0),y=Object(l.a)(v,2),O=y[0],x=y[1],j=Rn("enable-linter",!0),k=Object(l.a)(j,2),T=k[0],w=k[1],_=Qe(),S=X("".concat(_,"/").concat(I,"/label/__name__/values")),M=S.response,P=S.error,L=(new Date).getTime()/1e3,$=X("".concat(_,"/").concat(I,"/query?query=time()")),E=$.response,N=$.error;return Object(i.useEffect)((function(){if(E.data){var e=E.data.result[0];a(Math.abs(L-e))}}),[E.data]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:"clearfix",children:[Object(C.jsxs)("div",{className:"float-left",children:[Object(C.jsx)(Dn,{wrapperStyles:{display:"inline-block"},id:"use-local-time-checkbox",onChange:function(e){var t=e.target;return s(t.checked)},defaultChecked:c,children:"Use local time"}),Object(C.jsx)(Dn,{wrapperStyles:{marginLeft:20,display:"inline-block"},id:"query-history-checkbox",onChange:function(e){var t=e.target;return p(t.checked)},defaultChecked:h,children:"Enable query history"}),Object(C.jsx)(Dn,{wrapperStyles:{marginLeft:20,display:"inline-block"},id:"autocomplete-checkbox",onChange:function(e){var t=e.target;return g(t.checked)},defaultChecked:b,children:"Enable autocomplete"})]}),Object(C.jsx)(Dn,{wrapperStyles:{marginLeft:20,display:"inline-block"},id:"highlighting-checkbox",onChange:function(e){var t=e.target;return x(t.checked)},defaultChecked:O,children:"Enable highlighting"}),Object(C.jsx)(Dn,{wrapperStyles:{marginLeft:20,display:"inline-block"},id:"linter-checkbox",onChange:function(e){var t=e.target;return w(t.checked)},defaultChecked:T,children:"Enable linter"})]}),(n>30||N)&&Object(C.jsxs)(V.a,{color:"danger",children:[Object(C.jsx)("strong",{children:"Warning: "}),N&&"Unexpected response status when fetching server time: ".concat(N.message),n>=30&&"Error fetching server time: Detected ".concat(n," seconds time difference between your browser and the server. Prometheus relies on accurate time and time drift might cause unexpected query results.")]}),P&&Object(C.jsxs)(V.a,{color:"danger",children:[Object(C.jsx)("strong",{children:"Warning: "}),"Error fetching metrics list: Unexpected response status when fetching metric names: ",P.message]}),Object(C.jsx)(Ua,{panels:Tn(window.location.search),useLocalTime:c,metrics:M.data,queryHistoryEnabled:h,enableAutocomplete:b,enableHighlighting:O,enableLinter:T})]})},Za=function(e){var t=e.headStats,n=e.labelValueCountByLabelName,a=e.seriesCountByMetricName,r=e.memoryInBytesByLabelName,i=e.seriesCountByLabelValuePair,o=function(e){try{return"".concat(new Date(e).toISOString()," (").concat(e,")")}catch(t){return 0===s?"No datapoints yet":"Error parsing time (".concat(e,")")}},c=t.chunkCount,s=t.numSeries,l=t.numLabelPairs,u=t.minTime,d=t.maxTime,h=[{header:"Number of Series",value:s},{header:"Number of Chunks",value:c},{header:"Number of Label Pairs",value:l},{header:"Current Min Time",value:"".concat(o(u))},{header:"Current Max Time",value:"".concat(o(d))}];return Object(C.jsxs)("div",{children:[Object(C.jsx)("h2",{children:"TSDB Status"}),Object(C.jsx)("h3",{className:"p-2",children:"Head Stats"}),Object(C.jsx)("div",{className:"p-2",children:Object(C.jsxs)(Z.a,{bordered:!0,size:"sm",striped:!0,children:[Object(C.jsx)("thead",{children:Object(C.jsx)("tr",{children:h.map((function(e){var t=e.header;return Object(C.jsx)("th",{children:t},t)}))})}),Object(C.jsx)("tbody",{children:Object(C.jsx)("tr",{children:h.map((function(e){var t=e.header,n=e.value;return Object(C.jsx)("td",{children:n},t)}))})})]})}),Object(C.jsx)("h3",{className:"p-2",children:"Head Cardinality Stats"}),[{title:"Top 10 label names with value count",stats:n},{title:"Top 10 series count by metric names",stats:a},{title:"Top 10 label names with high memory usage",unit:"Bytes",stats:r},{title:"Top 10 series count by label value pairs",stats:i}].map((function(e){var t=e.title,n=e.unit,a=void 0===n?"Count":n,r=e.stats;return Object(C.jsxs)("div",{className:"p-2",children:[Object(C.jsx)("h3",{children:t}),Object(C.jsxs)(Z.a,{bordered:!0,size:"sm",striped:!0,children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"Name"}),Object(C.jsx)("th",{children:a})]})}),Object(C.jsx)("tbody",{children:r.map((function(e){var t=e.name,n=e.value;return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:t}),Object(C.jsx)("td",{children:n})]},t)}))})]})]},t)}))]})};Za.displayName="TSDBStatusContent";var Ja=W(Za),Ka=function(){var e=Qe(),t=X("".concat(e,"/").concat(I,"/status/tsdb")),n=t.response,a=t.error,r=t.isLoading;return Object(C.jsx)(Ja,Object(Q.a)(Object(Q.a)({error:a,isLoading:r},n.data),{},{componentTitle:"TSDB Status information"}))},er=n(309),tr=function(e){var t=e.status;return e.isUnexpected?Object(C.jsxs)(V.a,{color:"danger",children:[Object(C.jsx)("strong",{children:"Error:"})," Server is not responding"]}):Object(C.jsx)("div",{className:"text-center m-3",children:Object(C.jsxs)("div",{className:"m-4",children:[Object(C.jsx)("h2",{children:"Starting up..."}),t&&t.max>0?Object(C.jsxs)("div",{children:[Object(C.jsxs)("p",{children:["Replaying WAL (",t.current,"/",t.max,")"]}),Object(C.jsx)(er.a,{animated:!0,value:t.current-t.min+1,min:t.min,max:t.max-t.min+1,color:t.max===t.current?"success":void 0,style:{width:"10%",margin:"auto"}})]}):null]})})},nr=function(e){return function(t){var n=Object.assign({},t),a=function(e,t){var n=Object(i.useState)(!1),a=Object(l.a)(n,2),r=a[0],o=a[1],c=Object(i.useState)(!1),s=Object(l.a)(c,2),u=s[0],d=s[1],h=Object(i.useState)({}),p=Object(l.a)(h,2),f=p[0],m=p[1];return Object(i.useEffect)((function(){if(!q){var n=!0,a=function(){var a=Object(R.a)(D.a.mark((function a(){var i,c;return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch("".concat(e,"/-/ready"),Object(Q.a)({cache:"no-store",credentials:"same-origin"},t));case 3:if(200!==(i=a.sent).status){a.next=10;break}n&&o(!0),q=!0,clearInterval(r),a.next=25;break;case 10:if(503===i.status){a.next=16;break}return n&&d(!0),clearInterval(r),a.abrupt("return");case 16:return n&&d(!1),a.next=19,fetch("".concat(e,"/").concat(I,"/status/walreplay"),{cache:"no-store",credentials:"same-origin"});case 19:if(!(i=a.sent).ok){a.next=25;break}return a.next=23,i.json();case 23:c=a.sent,n&&m(c);case 25:a.next=32;break;case 27:return a.prev=27,a.t0=a.catch(0),n&&d(!0),clearInterval(r),a.abrupt("return");case 32:case"end":return a.stop()}}),a,null,[[0,27]])})));return function(){return a.apply(this,arguments)}}();a();var r=setInterval(a,1e3);return function(){clearInterval(r),n=!1}}o(!0)}),[e,t]),{ready:r,isUnexpected:u,walReplayStatus:f}}(Qe()),r=a.ready,o=a.walReplayStatus,c=a.isUnexpected;return r||c?Object(C.jsx)(e,Object(Q.a)({},n)):Object(C.jsx)(tr,{isUnexpected:c,status:o.data})}},ar=nr(N),rr=nr(Un),ir=nr(ta),or=nr(ca),cr=nr(da),sr=nr(xa),lr=nr(_a),ur=nr(Ka),dr=nr(Ba),hr=nr(Ya),pr=function(e){var t=window.matchMedia(e),n=Object(i.useState)(t.matches),a=Object(l.a)(n,2),r=a[0],o=a[1];return Object(i.useEffect)((function(){var e=function(){return o(t.matches)};return t.addEventListener("change",e),function(){return t.removeEventListener("change",e)}}),[t]),r},fr=function(e){var t=e.consolesLink,n=e.agentMode,a=window.location.pathname,r=["/agent","/graph","/alerts","/status","/tsdb-status","/flags","/config","/rules","/targets","/service-discovery"];if(a.endsWith("/")&&(a=a.slice(0,-1)),a.length>1)for(var i=0;i<r.length;i++)if(a.endsWith(r[i])){a=a.slice(0,a.length-r[i].length);break}var o,c=Rn("user-prefers-color-scheme","auto"),s=Object(l.a)(c,2),d=s[0],h=s[1],p=pr("(prefers-color-scheme)"),f=pr("(prefers-color-scheme: dark)");return o="auto"!==d?d:p&&f?"dark":"light",Object(C.jsxs)(_.Provider,{value:{theme:o,userPreference:d,setTheme:function(e){return h(e)}},children:[Object(C.jsx)(M,{}),Object(C.jsx)(Ne.Provider,{value:a,children:Object(C.jsxs)(u.a,{basename:a,children:[Object(C.jsx)(L,{consolesLink:t,agentMode:n}),Object(C.jsx)($.a,{fluid:!0,style:{paddingTop:70},children:Object(C.jsxs)(E.d,{children:[Object(C.jsx)(E.a,{exact:!0,from:"/",to:n?"/agent":"/graph"}),Object(C.jsx)(E.b,{path:"/agent",children:Object(C.jsx)(ar,{})}),Object(C.jsx)(E.b,{path:"/graph",children:Object(C.jsx)(hr,{})}),Object(C.jsx)(E.b,{path:"/alerts",children:Object(C.jsx)(rr,{})}),Object(C.jsx)(E.b,{path:"/config",children:Object(C.jsx)(ir,{})}),Object(C.jsx)(E.b,{path:"/flags",children:Object(C.jsx)(or,{})}),Object(C.jsx)(E.b,{path:"/rules",children:Object(C.jsx)(cr,{})}),Object(C.jsx)(E.b,{path:"/service-discovery",children:Object(C.jsx)(sr,{})}),Object(C.jsx)(E.b,{path:"/status",children:Object(C.jsx)(lr,{agentMode:n})}),Object(C.jsx)(E.b,{path:"/tsdb-status",children:Object(C.jsx)(ur,{})}),Object(C.jsx)(E.b,{path:"/targets",children:Object(C.jsx)(dr,{})})]})})]})})]})},mr=(n(279),n(280),n(281),n.p,GLOBAL_CONSOLES_LINK),br=GLOBAL_AGENT_MODE;"CONSOLES_LINK_PLACEHOLDER"!==GLOBAL_CONSOLES_LINK&&""!==GLOBAL_CONSOLES_LINK&&mn(GLOBAL_CONSOLES_LINK)||(mr=null),s.a.render(Object(C.jsx)(fr,{consolesLink:mr,agentMode:"true"===br}),document.getElementById("root"))},50:function(e,t,n){e.exports={container:"ScrapePoolPanel_container__2macm",title:"ScrapePoolPanel_title__1ppGj",normal:"ScrapePoolPanel_normal__1AuiN ScrapePoolPanel_title__1ppGj",danger:"ScrapePoolPanel_danger__ZoHk6 ScrapePoolPanel_title__1ppGj",table:"ScrapePoolPanel_table__1Sdr1",cell:"ScrapePoolPanel_cell__3LVb_",endpoint:"ScrapePoolPanel_endpoint__1N4gx ScrapePoolPanel_cell__3LVb_",labels:"ScrapePoolPanel_labels__1VVxb ScrapePoolPanel_cell__3LVb_",state:"ScrapePoolPanel_state__2BqDx ScrapePoolPanel_cell__3LVb_","last-scrape":"ScrapePoolPanel_last-scrape__192VK ScrapePoolPanel_cell__3LVb_",errors:"ScrapePoolPanel_errors__2JBvY ScrapePoolPanel_cell__3LVb_"}},61:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Eql=t.Sub=t.Add=t.Mod=t.Div=t.Mul=t.OnOrIgnoring=t.BinModifiers=t.Pow=t.BinaryExpr=t.FunctionCallArgs=t.FunctionCallBody=t.LabelName=t.GroupingLabel=t.GroupingLabelList=t.GroupingLabels=t.AggregateModifier=t.AggregateOp=t.AggregateExpr=t.Expr=t.PromQL=t.LineComment=t.End=t.Start=t.Unless=t.Or=t.And=t.Without=t.By=t.Topk=t.Sum=t.Stdvar=t.Stddev=t.Quantile=t.Min=t.Max=t.Group=t.CountValues=t.Count=t.Bottomk=t.Avg=t.Atan2=t.Offset=t.GroupRight=t.GroupLeft=t.On=t.Ignoring=t.Bool=t.nan=t.inf=void 0,t.Month=t.Minute=t.MinOverTime=t.MaxOverTime=t.Log2=t.Log10=t.Ln=t.LastOverTime=t.LabelJoin=t.LabelReplace=t.Irate=t.Increase=t.Idelta=t.Hour=t.HoltWinters=t.HistogramQuantile=t.Floor=t.Exp=t.Deriv=t.Delta=t.Deg=t.DayOfWeek=t.DayOfMonth=t.DaysInMonth=t.CountOverTime=t.Cosh=t.Cos=t.ClampMin=t.ClampMax=t.Clamp=t.Changes=t.Ceil=t.AvgOverTime=t.Atanh=t.Atan=t.Asinh=t.Asin=t.Acosh=t.Acos=t.Abs=t.Absent=t.Identifier=t.AbsentOverTime=t.FunctionIdentifier=t.FunctionCall=t.Neq=t.Lss=t.Lte=t.Gtr=t.Gte=void 0,t.MetricName=t.AtModifierPreprocessors=t.At=t.StepInvariantExpr=t.NeqRegex=t.EqlRegex=t.EqlSingle=t.MatchOp=t.LabelMatcher=t.LabelMatchList=t.LabelMatchers=t.MetricIdentifier=t.VectorSelector=t.UnaryOp=t.UnaryExpr=t.SubqueryExpr=t.StringLiteral=t.ParenExpr=t.OffsetExpr=t.NumberLiteral=t.Duration=t.MatrixSelector=t.Year=t.Vector=t.Time=t.Timestamp=t.Tanh=t.Tan=t.SumOverTime=t.StdvarOverTime=t.StddevOverTime=t.Sqrt=t.SortDesc=t.Sort=t.Sinh=t.Sin=t.Sgn=t.Scalar=t.Round=t.Resets=t.Rate=t.Rad=t.QuantileOverTime=t.PresentOverTime=t.PredictLinear=t.Pi=void 0,t.inf=146,t.nan=147,t.Bool=1,t.Ignoring=2,t.On=3,t.GroupLeft=4,t.GroupRight=5,t.Offset=6,t.Atan2=7,t.Avg=8,t.Bottomk=9,t.Count=10,t.CountValues=11,t.Group=12,t.Max=13,t.Min=14,t.Quantile=15,t.Stddev=16,t.Stdvar=17,t.Sum=18,t.Topk=19,t.By=20,t.Without=21,t.And=22,t.Or=23,t.Unless=24,t.Start=25,t.End=26,t.LineComment=27,t.PromQL=28,t.Expr=29,t.AggregateExpr=30,t.AggregateOp=31,t.AggregateModifier=32,t.GroupingLabels=33,t.GroupingLabelList=34,t.GroupingLabel=35,t.LabelName=36,t.FunctionCallBody=37,t.FunctionCallArgs=38,t.BinaryExpr=39,t.Pow=40,t.BinModifiers=41,t.OnOrIgnoring=42,t.Mul=43,t.Div=44,t.Mod=45,t.Add=46,t.Sub=47,t.Eql=48,t.Gte=49,t.Gtr=50,t.Lte=51,t.Lss=52,t.Neq=53,t.FunctionCall=54,t.FunctionIdentifier=55,t.AbsentOverTime=56,t.Identifier=57,t.Absent=58,t.Abs=59,t.Acos=60,t.Acosh=61,t.Asin=62,t.Asinh=63,t.Atan=64,t.Atanh=65,t.AvgOverTime=66,t.Ceil=67,t.Changes=68,t.Clamp=69,t.ClampMax=70,t.ClampMin=71,t.Cos=72,t.Cosh=73,t.CountOverTime=74,t.DaysInMonth=75,t.DayOfMonth=76,t.DayOfWeek=77,t.Deg=78,t.Delta=79,t.Deriv=80,t.Exp=81,t.Floor=82,t.HistogramQuantile=83,t.HoltWinters=84,t.Hour=85,t.Idelta=86,t.Increase=87,t.Irate=88,t.LabelReplace=89,t.LabelJoin=90,t.LastOverTime=91,t.Ln=92,t.Log10=93,t.Log2=94,t.MaxOverTime=95,t.MinOverTime=96,t.Minute=97,t.Month=98,t.Pi=99,t.PredictLinear=100,t.PresentOverTime=101,t.QuantileOverTime=102,t.Rad=103,t.Rate=104,t.Resets=105,t.Round=106,t.Scalar=107,t.Sgn=108,t.Sin=109,t.Sinh=110,t.Sort=111,t.SortDesc=112,t.Sqrt=113,t.StddevOverTime=114,t.StdvarOverTime=115,t.SumOverTime=116,t.Tan=117,t.Tanh=118,t.Timestamp=119,t.Time=120,t.Vector=121,t.Year=122,t.MatrixSelector=123,t.Duration=124,t.NumberLiteral=125,t.OffsetExpr=126,t.ParenExpr=127,t.StringLiteral=128,t.SubqueryExpr=129,t.UnaryExpr=130,t.UnaryOp=131,t.VectorSelector=132,t.MetricIdentifier=133,t.LabelMatchers=134,t.LabelMatchList=135,t.LabelMatcher=136,t.MatchOp=137,t.EqlSingle=138,t.EqlRegex=139,t.NeqRegex=140,t.StepInvariantExpr=141,t.At=142,t.AtModifierPreprocessors=143,t.MetricName=144},77:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VectorMatchCardinality=t.Matcher=t.getFunction=t.ValueType=void 0;var a=n(217);Object.defineProperty(t,"ValueType",{enumerable:!0,get:function(){return a.ValueType}}),Object.defineProperty(t,"getFunction",{enumerable:!0,get:function(){return a.getFunction}});var r=n(218);Object.defineProperty(t,"Matcher",{enumerable:!0,get:function(){return r.Matcher}});var i=n(219);Object.defineProperty(t,"VectorMatchCardinality",{enumerable:!0,get:function(){return i.VectorMatchCardinality}})},78:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.retrieveAllRecursiveNodes=t.containsChild=t.containsAtLeastOneChild=t.walkThrough=t.walkBackward=void 0,t.walkBackward=function(e,t){for(var n=e.cursor,a=!0;a&&n.type.id!==t;)a=n.parent();return n.type.id===t?n.node:null},t.walkThrough=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var a=e.cursor,r=0,i=!0;for(t.unshift(a.type.id);r<t.length&&i;)a.type.id===t[r]||a.type.name===t[r]?++r<t.length&&(i=a.next()):i=a.nextSibling();return r>=t.length?a.node:null},t.containsAtLeastOneChild=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var a=e.cursor;if(!a.next())return!1;var r=!1;do{r=t.some((function(e){return a.type.id===e||a.type.name===e}))}while(!r&&a.nextSibling());return r},t.containsChild=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var a=e.cursor;if(!a.next())return!1;var r=0;do{a.type.id!==t[r]&&a.type.name!==t[r]||r++}while(r<t.length&&a.nextSibling());return r>=t.length},t.retrieveAllRecursiveNodes=function(e,t,n){var a=[];return function e(a,r){var i=null===a||void 0===a?void 0:a.getChild(t),o=null===a||void 0===a?void 0:a.lastChild;i&&i.type.id===t&&e(i,r),o&&o.type.id===n&&r.push(o)}(e,a),a}},99:function(e,t){}},[[282,1,2]]]);
//# sourceMappingURL=main.ffb18a61.chunk.js.map