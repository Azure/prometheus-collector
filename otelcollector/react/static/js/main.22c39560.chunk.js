(this.webpackJsonpgraph=this.webpackJsonpgraph||[]).push([[0],{112:function(e,t){},116:function(e,t){},138:function(e,t,a){e.exports={discovered:"TargetLabels_discovered__2eSl4"}},143:function(e,t,a){e.exports=a(246)},195:function(e,t){},204:function(e,t){},222:function(e,t){!function(e){e.color={},e.color.make=function(t,a,n,r){var o={};return o.r=t||0,o.g=a||0,o.b=n||0,o.a=null!=r?r:1,o.add=function(e,t){for(var a=0;a<e.length;++a)o[e.charAt(a)]+=t;return o.normalize()},o.scale=function(e,t){for(var a=0;a<e.length;++a)o[e.charAt(a)]*=t;return o.normalize()},o.toString=function(){return o.a>=1?"rgb("+[o.r,o.g,o.b].join(",")+")":"rgba("+[o.r,o.g,o.b,o.a].join(",")+")"},o.normalize=function(){function e(e,t,a){return t<e?e:t>a?a:t}return o.r=e(0,parseInt(o.r),255),o.g=e(0,parseInt(o.g),255),o.b=e(0,parseInt(o.b),255),o.a=e(0,o.a,1),o},o.clone=function(){return e.color.make(o.r,o.b,o.g,o.a)},o.normalize()},e.color.extract=function(t,a){var n;do{if(""!=(n=t.css(a).toLowerCase())&&"transparent"!=n)break;t=t.parent()}while(t.length&&!e.nodeName(t.get(0),"body"));return"rgba(0, 0, 0, 0)"==n&&(n="transparent"),e.color.parse(n)},e.color.parse=function(a){var n,r=e.color.make;if(n=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(a))return r(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10));if(n=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(a))return r(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),parseFloat(n[4]));if(n=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(a))return r(2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3]));if(n=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(a))return r(2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3]),parseFloat(n[4]));if(n=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(a))return r(parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16));if(n=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(a))return r(parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16));var o=e.trim(a).toLowerCase();return"transparent"==o?r(255,255,255,0):r((n=t[o]||[0,0,0])[0],n[1],n[2])};var t={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(window.jQuery),function(e){let t=Object.prototype.hasOwnProperty;function a(t,a){var n=a.children("."+t)[0];if(null==n&&((n=document.createElement("canvas")).className=t,e(n).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(a),!n.getContext)){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");n=window.G_vmlCanvasManager.initElement(n)}this.element=n;var r=this.context=n.getContext("2d");let o=window.devicePixelRatio||1,l=r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1;this.pixelRatio=o/l,this.resize(a.width(),a.height()),this.textContainer=null,this.text={},this._textCache={},this._textSizeCache=window.flotTextSizeCache=window.flotTextSizeCache||{}}function n(t,n,r,o){let l=[],i={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,eventSectionHeight:0,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},s=null,c=null,m=null,u=null,h=null,p=[],d=[],g={left:0,right:0,top:0,bottom:0},f=0,x=0,b={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],processRange:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},E=this;function y(e,t){t=[E].concat(t);for(var a=0;a<e.length;++a)e[a].apply(this,t)}function v(t){l=function(t){let a=[];for(let n=0;n<t.length;++n){let r=e.extend(!0,{},i.series);null!=t[n].data?(r.data=t[n].data,delete t[n].data,e.extend(!0,r,t[n]),t[n].data=r.data):r.data=t[n],a.push(r)}return a}(t),function(){var t,a=l.length,n=-1;for(t=0;t<l.length;++t){let e=l[t].color;null!=e&&(a--,"number"==typeof e&&e>n&&(n=e))}a<=n&&(a=n+1);var r,o=[],s=i.colors,c=s.length,m=0;for(t=0;t<a;t++)r=e.color.parse(s[t%c]||"#666"),t%c==0&&t&&(m=m>=0?m<.5?-m-.2:0:-m),o[t]=r.scale("rgb",1+m);var u,h=0;for(t=0;t<l.length;++t){if(null==(u=l[t]).color?(u.color=o[h].toString(),++h):"number"==typeof u.color&&(u.color=o[u.color].toString()),null==u.lines.show){var g,f=!0;for(g in u)if(u[g]&&u[g].show){f=!1;break}f&&(u.lines.show=!0)}null==u.lines.zero&&(u.lines.zero=!!u.lines.fill),u.xaxis=C(p,k(u,"x")),u.yaxis=C(d,k(u,"y"))}}(),function(){let t,a,n,r,o,i,s,c,m,u,h,p,d=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY,f=Number.MAX_VALUE;function x(e,t,a){t<e.datamin&&t!=-f&&(e.datamin=t),a>e.datamax&&a!=f&&(e.datamax=a)}for(e.each(w(),(function(e,t){t.datamin=d,t.datamax=g,t.used=!1})),t=0;t<l.length;++t)o=l[t],o.datapoints={points:[]},y(b.processRawData,[o,o.data,o.datapoints]);for(t=0;t<l.length;++t){if(o=l[t],h=o.data,p=o.datapoints.format,!p){if(p=[],p.push({x:!0,number:!0,required:!0}),p.push({y:!0,number:!0,required:!0}),o.stack||o.bars.show||o.lines.show&&o.lines.fill){let e=!!(o.bars.show&&o.bars.zero||o.lines.show&&o.lines.zero);p.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:e}),o.bars.horizontal&&(delete p[p.length-1].y,p[p.length-1].x=!0)}o.datapoints.format=p}if(null!=o.datapoints.pointsize)continue;o.datapoints.pointsize=p.length,s=o.datapoints.pointsize,i=o.datapoints.points;let e=o.lines.show&&o.lines.steps;for(o.xaxis.used=o.yaxis.used=!0,a=n=0;a<h.length;++a,n+=s){u=h[a];let t=null==u;if(!t)for(r=0;r<s;++r)c=u[r],m=p[r],m&&(m.number&&null!=c&&(c=+c,isNaN(c)?c=null:c==1/0?c=f:c==-1/0&&(c=-f)),null==c&&(m.required&&(t=!0),null!=m.defaultValue&&(c=m.defaultValue))),i[n+r]=c;if(t)for(r=0;r<s;++r)c=i[n+r],null!=c&&(m=p[r],!1!==m.autoscale&&(m.x&&x(o.xaxis,c,c),m.y&&x(o.yaxis,c,c))),i[n+r]=null;if(e&&n>0&&(!t||null!=i[n-s])){for(r=0;r<s;++r)i[n+s+r]=i[n+r];i[n+1]=i[n-s+1]||0,t&&(i[n]=u[0]),n+=s}}}for(t=0;t<l.length;++t){if(o=l[t],i=o.datapoints.points,s=o.datapoints.pointsize,"negative-Y"===o.transform)for(a=0;a<i.length;a+=s)null!=i[a]&&(c=i[a+1],i[a+1]=-c);y(b.processDatapoints,[o,o.datapoints])}for(t=0;t<l.length;++t){o=l[t],i=o.datapoints.points,s=o.datapoints.pointsize,p=o.datapoints.format;var E=d,v=d,k=g,S=g;for(a=0;a<i.length;a+=s)if(null!=i[a])for(r=0;r<s;++r)c=i[a+r],m=p[r],m&&!1!==m.autoscale&&c!=f&&c!=-f&&(m.x&&(c<E&&(E=c),c>k&&(k=c)),m.y&&(c<v&&(v=c),c>S&&(S=c)));if(o.bars.show){var C;switch(o.bars.align){case"left":C=0;break;case"right":C=-o.bars.barWidth;break;default:C=-o.bars.barWidth/2}o.bars.horizontal?(v+=C,S+=C+o.bars.barWidth):(E+=C,k+=C+o.bars.barWidth)}x(o.xaxis,E,k),x(o.yaxis,v,S)}e.each(w(),(function(e,t){t.datamin==d&&(t.datamin=null),t.datamax==g&&(t.datamax=null)}))}()}function k(e,t){var a=e[t+"axis"];return"object"==typeof a&&(a=a.n),"number"!=typeof a&&(a=1),a}function w(){return e.grep(p.concat(d),(function(e){return e}))}function S(e){var t,a,n={};for(t=0;t<p.length;++t)(a=p[t])&&(n["x"+a.n]=a.c2p(e.left));for(t=0;t<d.length;++t)(a=d[t])&&(n["y"+a.n]=a.c2p(e.top));return void 0!==n.x1&&(n.x=n.x1),void 0!==n.y1&&(n.y=n.y1),n}function C(t,a){return t[a-1]||(t[a-1]={n:a,direction:t==p?"x":"y",options:e.extend(!0,{},t==p?i.xaxis:i.yaxis)}),t[a-1]}function T(){H&&clearTimeout(H),m.unbind("mousemove",q),m.unbind("mouseleave",U),m.unbind("click",B),y(b.shutdown,[m])}function M(e){let t=e.options,a=e.ticks||[],n=t.labelWidth||0,r=t.labelHeight||0,o=n||("x"==e.direction?Math.floor(s.width/(a.length||1)):null),l=e.direction+"Axis "+e.direction+e.n+"Axis",i="flot-"+e.direction+"-axis flot-"+e.direction+e.n+"-axis "+l,c=t.font||"flot-tick-label tickLabel";for(let m=0;m<a.length;++m){let e=a[m];if(!e.label)continue;let t=s.getTextInfo(i,e.label,c,null,o);n=Math.max(n,t.width+1),r=Math.max(r,t.height)}e.labelWidth=t.labelWidth||n,e.labelHeight=t.labelHeight||r}function N(t){let a=t.labelWidth,n=t.labelHeight,r=t.options.position,o="x"===t.direction,l=t.options.tickLength,c=i.grid.axisMargin,m=i.grid.labelMargin,u=i.grid.eventSectionHeight,h=!0,f=!0,x=!0,b=!1;e.each(o?p:d,(function(e,a){a&&(a.show||a.reserveSpace)&&(a===t?b=!0:a.options.position===r&&(b?f=!1:h=!1),b||(x=!1))})),f&&(c=0),null==l&&(l=x?"full":5),isNaN(+l)||(m+=+l),o?(n+=m,n+=u,"bottom"==r?(g.bottom+=n+c,t.box={top:s.height-g.bottom,height:n}):(t.box={top:g.top+c,height:n},g.top+=n+c)):(a+=m,"left"==r?(t.box={left:g.left+c,width:a},g.left+=a+c):(g.right+=a+c,t.box={left:s.width-g.right,width:a})),t.position=r,t.tickLength=l,t.box.padding=m,t.box.eventSectionPadding=u,t.innermost=h}function O(){var a=w(),n=i.grid.show;for(var r in g){let e=i.grid.margin||0;g[r]="number"==typeof e?e:e[r]||0}for(var r in y(b.processOffset,[g]),g)"object"==typeof i.grid.borderWidth?g[r]+=n?i.grid.borderWidth[r]:0:g[r]+=n?i.grid.borderWidth:0;if(e.each(a,(function(e,t){let a=t.options;t.show=null==a.show?t.used:a.show,t.reserveSpace=null==a.reserveSpace?t.show:a.reserveSpace,function(e){let t=e.options,a=+(null!=t.min?t.min:e.datamin),n=+(null!=t.max?t.max:e.datamax),r=n-a;if(0==r){let e=.25,r=Math.abs(0==n?1:n*e);null==t.min&&(a-=r),null!=t.max&&null==t.min||(n+=r)}else{let o=t.autoscaleMargin;null!=o&&(null==t.min&&(a-=r*o,a<0&&null!=e.datamin&&e.datamin>=0&&(a=0)),null==t.max&&(n+=r*o,n>0&&null!=e.datamax&&e.datamax<=0&&(n=0)))}e.min=a,e.max=n}(t)})),y(b.processRange,[]),n){var o=e.grep(a,(function(e){return e.show||e.reserveSpace}));let t=!1;for(var c=0;c<2&&(e.each(o,(function(e,a){L(a),I(a),t=_(a,a.ticks)||t,M(a)})),t&&b.processRange.length>0);c++)y(b.processRange,[]),t=!1;for(c=o.length-1;c>=0;--c)N(o[c]);!function(){let t,a=i.grid.minBorderMargin;if(null==a)for(a=0,t=0;t<l.length;++t)a=Math.max(a,2*(l[t].points.radius+l[t].points.lineWidth/2));let n={left:a,right:a,top:a,bottom:a};e.each(w(),(function(e,t){t.reserveSpace&&t.ticks&&t.ticks.length&&("x"===t.direction?(n.left=Math.max(n.left,t.labelWidth/2),n.right=Math.max(n.right,t.labelWidth/2)):(n.bottom=Math.max(n.bottom,t.labelHeight/2),n.top=Math.max(n.top,t.labelHeight/2)))})),g.left=Math.ceil(Math.max(n.left,g.left)),g.right=Math.ceil(Math.max(n.right,g.right)),g.top=Math.ceil(Math.max(n.top,g.top)),g.bottom=Math.ceil(Math.max(n.bottom,g.bottom))}(),e.each(o,(function(e,t){!function(e){"x"==e.direction?(e.box.left=g.left-e.labelWidth/2,e.box.width=s.width-g.left-g.right+e.labelWidth):(e.box.top=g.top-e.labelHeight/2,e.box.height=s.height-g.bottom-g.top+e.labelHeight)}(t)}))}f=s.width-g.left-g.right,x=s.height-g.bottom-g.top,e.each(a,(function(e,t){!function(e){function t(e){return e}var a,n,r=e.options.transform||t,o=e.options.inverseTransform;"x"==e.direction?(a=e.scale=f/Math.abs(r(e.max)-r(e.min)),n=Math.min(r(e.max),r(e.min))):(a=-(a=e.scale=x/Math.abs(r(e.max)-r(e.min))),n=Math.max(r(e.max),r(e.min))),e.p2c=r==t?function(e){return(e-n)*a}:function(e){return(r(e)-n)*a},e.c2p=o?function(e){return o(n+e/a)}:function(e){return n+e/a}}(t)})),n&&e.each(w(),(function(e,t){let a,n,r,o,l,i=t.box,c=t.direction+"Axis "+t.direction+t.n+"Axis",m="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+c,u=t.options.font||"flot-tick-label tickLabel";if(s.removeText(m),t.show&&0!=t.ticks.length)for(let h=0;h<t.ticks.length;++h)a=t.ticks[h],!a.label||a.v<t.min||a.v>t.max||("x"==t.direction?(o="center",n=g.left+t.p2c(a.v),"bottom"==t.position?r=i.top+i.padding+i.eventSectionPadding:(r=i.top+i.height-i.padding,l="bottom")):(l="middle",r=g.top+t.p2c(a.v),"left"==t.position?(n=i.left+i.width-i.padding,o="right"):n=i.left+i.padding),s.addText(m,n,r,a.label,u,null,null,o,l))})),function(){null!=i.legend.container?e(i.legend.container).html(""):t.find(".legend").remove();if(!i.legend.show)return;for(var a,n,r=[],o=[],s=!1,c=i.legend.labelFormatter,m=0;m<l.length;++m)(a=l[m]).label&&(n=c?c(a.label,a):a.label)&&o.push({label:n,color:a.color});if(i.legend.sorted)if(e.isFunction(i.legend.sorted))o.sort(i.legend.sorted);else if("reverse"==i.legend.sorted)o.reverse();else{var u="descending"!=i.legend.sorted;o.sort((function(e,t){return e.label==t.label?0:e.label<t.label!=u?1:-1}))}for(m=0;m<o.length;++m){let e=o[m];m%i.legend.noColumns==0&&(s&&r.push("</tr>"),r.push("<tr>"),s=!0),r.push('<td class="legendColorBox"><div style="border:1px solid '+i.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+e.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+e.label+"</td>")}s&&r.push("</tr>");if(0==r.length)return;var h='<table style="font-size:smaller;color:'+i.grid.color+'">'+r.join("")+"</table>";if(null!=i.legend.container)e(i.legend.container).html(h);else{var p="",d=i.legend.position,f=i.legend.margin;null==f[0]&&(f=[f,f]),"n"==d.charAt(0)?p+="top:"+(f[1]+g.top)+"px;":"s"==d.charAt(0)&&(p+="bottom:"+(f[1]+g.bottom)+"px;"),"e"==d.charAt(1)?p+="right:"+(f[0]+g.right)+"px;":"w"==d.charAt(1)&&(p+="left:"+(f[0]+g.left)+"px;");var x=e('<div class="legend">'+h.replace('style="','style="position:absolute;'+p+";")+"</div>").appendTo(t);if(0!=i.legend.backgroundOpacity){let t=i.legend.backgroundColor;null==t&&(t=i.grid.backgroundColor,t=t&&"string"==typeof t?e.color.parse(t):e.color.extract(x,"background-color"),t.a=1,t=t.toString());let a=x.children();e('<div style="position:absolute;width:'+a.width()+"px;height:"+a.height()+"px;"+p+"background-color:"+t+';"> </div>').prependTo(x).css("opacity",i.legend.backgroundOpacity)}}}()}function L(t){let a,n=t.options;a="number"==typeof n.ticks&&n.ticks>0?n.ticks:.3*Math.sqrt("x"==t.direction?s.width:s.height);let r=(t.max-t.min)/a,o=-Math.floor(Math.log(r)/Math.LN10),l=n.tickDecimals;null!=l&&o>l&&(o=l);let i,c=Math.pow(10,-o),m=r/c;if(m<1.5?i=1:m<3?(i=2,m>2.25&&(null==l||o+1<=l)&&(i=2.5,++o)):i=m<7.5?5:10,i*=c,null!=n.minTickSize&&i<n.minTickSize&&(i=n.minTickSize),t.delta=r,t.tickDecimals=Math.max(0,null!=l?l:o),t.tickSize=n.tickSize||i,null!==n.tickDecimals&&void 0!==n.tickDecimals||(t.scaledDecimals=t.tickDecimals+o),"time"==n.mode&&!t.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(t.tickGenerator||(t.tickGenerator=function(e){let t,a=[],n=(l=e.min,(i=e.tickSize)*Math.floor(l/i)),r=0,o=Number.NaN;var l,i;do{t=o,o=n+r*e.tickSize,a.push(o),++r}while(o<e.max&&o!=t);return a},t.tickFormatter=function(e,t){let a=t.tickDecimals?Math.pow(10,t.tickDecimals):1;var n=""+Math.round(e*a)/a;if(null!=t.tickDecimals){var r=n.indexOf(".");let e=-1==r?0:n.length-r-1;if(e<t.tickDecimals)return(e?n:n+".")+(""+a).substr(1,t.tickDecimals-e)}return n}),e.isFunction(n.tickFormatter)&&(t.tickFormatter=function(e,t){return""+n.tickFormatter(e,t)}),null!=n.alignTicksWithAxis){var u=("x"==t.direction?p:d)[n.alignTicksWithAxis-1];if(u&&u.used&&u!=t){let e=t.tickGenerator(t);if(e.length>0&&(null==n.min&&(t.min=Math.min(t.min,e[0])),null==n.max&&e.length>1&&(t.max=Math.max(t.max,e[e.length-1]))),t.tickGenerator=function(e){var t,a,n=[];for(a=0;a<u.ticks.length;++a)t=(u.ticks[a].v-u.min)/(u.max-u.min),t=e.min+t*(e.max-e.min),n.push(t);return n},!t.mode&&null==n.tickDecimals){let e=Math.max(0,1-Math.floor(Math.log(t.delta)/Math.LN10)),a=t.tickGenerator(t);a.length>1&&/\..*0$/.test((a[1]-a[0]).toFixed(e))||(t.tickDecimals=e)}}}}function I(t){var a=t.options.ticks,n=[];let r,o;for(null==a||"number"==typeof a&&a>0?n=t.tickGenerator(t):a&&(n=e.isFunction(a)?a(t):a),t.ticks=[],r=0;r<n.length;++r){let e=null,a=n[r];"object"==typeof a?(o=+a[0],a.length>1&&(e=a[1])):o=+a,null==e&&(e=t.tickFormatter(o,t)),isNaN(o)||t.ticks.push({v:o,label:e})}}function _(e,t){let a=!1;return e.options.autoscaleMargin&&t.length>0&&(null==e.options.min&&(e.min=Math.min(e.min,t[0].v),a=!0),null==e.options.max&&t.length>1&&(e.max=Math.max(e.max,t[t.length-1].v),a=!0)),a}function R(){s.clear(),y(b.drawBackground,[u]);let e=i.grid;e.show&&e.backgroundColor&&(u.save(),u.translate(g.left,g.top),u.fillStyle=Z(i.grid.backgroundColor,x,0,"rgba(255, 255, 255, 0)"),u.fillRect(0,0,f,x),u.restore()),e.show&&!e.aboveData&&D();for(let t=0;t<l.length;++t)y(b.drawSeries,[u,l[t]]),F(l[t]);y(b.draw,[u]),e.show&&e.aboveData&&D(),s.render(),Y()}function z(e,t){var a,n,r,o,l=w();for(let i=0;i<l.length;++i)if((a=l[i]).direction==t&&(e[o=t+a.n+"axis"]||1!=a.n||(o=t+"axis"),e[o])){n=e[o].from,r=e[o].to;break}if(e[o]||(a="x"==t?p[0]:d[0],n=e[t+"1"],r=e[t+"2"]),null!=n&&null!=r&&n>r){let e=n;n=r,r=e}return{from:n,to:r,axis:a}}function D(){let t,a,n,r;u.save(),u.translate(g.left,g.top);let o=i.grid.markings;if(o)for(e.isFunction(o)&&(a=E.getAxes(),a.xmin=a.xaxis.min,a.xmax=a.xaxis.max,a.ymin=a.yaxis.min,a.ymax=a.yaxis.max,o=o(a)),t=0;t<o.length;++t){let e=o[t],a=z(e,"x"),n=z(e,"y");if(null==a.from&&(a.from=a.axis.min),null==a.to&&(a.to=a.axis.max),null==n.from&&(n.from=n.axis.min),null==n.to&&(n.to=n.axis.max),a.to<a.axis.min||a.from>a.axis.max||n.to<n.axis.min||n.from>n.axis.max)continue;a.from=Math.max(a.from,a.axis.min),a.to=Math.min(a.to,a.axis.max),n.from=Math.max(n.from,n.axis.min),n.to=Math.min(n.to,n.axis.max);let r=a.from===a.to,l=n.from===n.to;if(!r||!l)if(a.from=Math.floor(a.axis.p2c(a.from)),a.to=Math.floor(a.axis.p2c(a.to)),n.from=Math.floor(n.axis.p2c(n.from)),n.to=Math.floor(n.axis.p2c(n.to)),r||l){let t=e.lineWidth||i.grid.markingsLineWidth,o=t%2?.5:0;u.beginPath(),u.strokeStyle=e.color||i.grid.markingsColor,u.lineWidth=t,r?(u.moveTo(a.to+o,n.from),u.lineTo(a.to+o,n.to)):(u.moveTo(a.from,n.to+o),u.lineTo(a.to,n.to+o)),u.stroke()}else u.fillStyle=e.color||i.grid.markingsColor,u.fillRect(a.from,n.to,a.to-a.from,n.from-n.to)}a=w(),n=i.grid.borderWidth;for(let e=0;e<a.length;++e){var l,s,c,m,h=a[e],p=h.box,d=h.tickLength;if(h.show&&0!=h.ticks.length){for(u.lineWidth=1,"x"==h.direction?(l=0,s="full"==d?"top"==h.position?0:x:p.top-g.top+("top"==h.position?p.height:0)):(s=0,l="full"==d?"left"==h.position?0:f:p.left-g.left+("left"==h.position?p.width:0)),h.innermost||(u.strokeStyle=h.options.color,u.beginPath(),c=m=0,"x"==h.direction?c=f+1:m=x+1,1==u.lineWidth&&("x"==h.direction?s=Math.floor(s)+.5:l=Math.floor(l)+.5),u.moveTo(l,s),u.lineTo(l+c,s+m),u.stroke()),u.strokeStyle=h.options.tickColor,u.beginPath(),t=0;t<h.ticks.length;++t){let e=h.ticks[t].v;c=m=0,isNaN(e)||e<h.min||e>h.max||"full"==d&&("object"==typeof n&&n[h.position]>0||n>0)&&(e==h.min||e==h.max)||("x"==h.direction?(l=h.p2c(e),m="full"==d?-x:d,"top"==h.position&&(m=-m)):(s=h.p2c(e),c="full"==d?-f:d,"left"==h.position&&(c=-c)),1==u.lineWidth&&("x"==h.direction?l=Math.floor(l)+.5:s=Math.floor(s)+.5),u.moveTo(l,s),u.lineTo(l+c,s+m))}u.stroke()}}n&&(r=i.grid.borderColor,"object"==typeof n||"object"==typeof r?("object"!==typeof n&&(n={top:n,right:n,bottom:n,left:n}),"object"!==typeof r&&(r={top:r,right:r,bottom:r,left:r}),n.top>0&&(u.strokeStyle=r.top,u.lineWidth=n.top,u.beginPath(),u.moveTo(0-n.left,0-n.top/2),u.lineTo(f,0-n.top/2),u.stroke()),n.right>0&&(u.strokeStyle=r.right,u.lineWidth=n.right,u.beginPath(),u.moveTo(f+n.right/2,0-n.top),u.lineTo(f+n.right/2,x),u.stroke()),n.bottom>0&&(u.strokeStyle=r.bottom,u.lineWidth=n.bottom,u.beginPath(),u.moveTo(f+n.right,x+n.bottom/2),u.lineTo(0,x+n.bottom/2),u.stroke()),n.left>0&&(u.strokeStyle=r.left,u.lineWidth=n.left,u.beginPath(),u.moveTo(0-n.left/2,x+n.bottom),u.lineTo(0-n.left/2,0),u.stroke())):(u.lineWidth=n,u.strokeStyle=i.grid.borderColor,u.strokeRect(-n/2,-n/2,f+n,x+n))),u.restore()}function F(e){e.lines.show&&(function(e){function t(e,t,a,n,r){let o=e.points,l=e.pointsize,i=null,s=null;u.beginPath();for(let d=l;d<o.length;d+=l){var c=o[d-l],m=o[d-l+1],h=o[d],p=o[d+1];if(null!=c&&null!=h){if(m<=p&&m<r.min){if(p<r.min)continue;c=(r.min-m)/(p-m)*(h-c)+c,m=r.min}else if(p<=m&&p<r.min){if(m<r.min)continue;h=(r.min-m)/(p-m)*(h-c)+c,p=r.min}if(m>=p&&m>r.max){if(p>r.max)continue;c=(r.max-m)/(p-m)*(h-c)+c,m=r.max}else if(p>=m&&p>r.max){if(m>r.max)continue;h=(r.max-m)/(p-m)*(h-c)+c,p=r.max}if(c<=h&&c<n.min){if(h<n.min)continue;m=(n.min-c)/(h-c)*(p-m)+m,c=n.min}else if(h<=c&&h<n.min){if(c<n.min)continue;p=(n.min-c)/(h-c)*(p-m)+m,h=n.min}if(c>=h&&c>n.max){if(h>n.max)continue;m=(n.max-c)/(h-c)*(p-m)+m,c=n.max}else if(h>=c&&h>n.max){if(c>n.max)continue;p=(n.max-c)/(h-c)*(p-m)+m,h=n.max}c==i&&m==s||u.moveTo(n.p2c(c)+t,r.p2c(m)+a),i=h,s=p,u.lineTo(n.p2c(h)+t,r.p2c(p)+a)}}u.stroke()}u.save(),u.translate(g.left,g.top),u.lineJoin="round";let a=e.lines.lineWidth,n=e.shadowSize;if(a>0&&n>0){u.lineWidth=n,u.strokeStyle="rgba(0,0,0,0.1)";var r=Math.PI/18;t(e.datapoints,Math.sin(r)*(a/2+n/2),Math.cos(r)*(a/2+n/2),e.xaxis,e.yaxis),u.lineWidth=n/2,t(e.datapoints,Math.sin(r)*(a/2+n/4),Math.cos(r)*(a/2+n/4),e.xaxis,e.yaxis)}u.lineWidth=a,u.strokeStyle=e.color;let o=A(e.lines,e.color,0,x);o&&(u.fillStyle=o,function(e,t,a){let n=e.points,r=e.pointsize,o=Math.min(Math.max(0,a.min),a.max),l=0,i=!1,s=1,c=0,m=0;for(;!(r>0&&l>n.length+r);){l+=r;let e=n[l-r],d=n[l-r+s],g=n[l],f=n[l+s];if(i){if(r>0&&null!=e&&null==g){m=l,r=-r,s=2;continue}if(r<0&&l==c+r){u.fill(),i=!1,r=-r,s=1,l=c=m+r;continue}}if(null!=e&&null!=g){if(e<=g&&e<t.min){if(g<t.min)continue;d=(t.min-e)/(g-e)*(f-d)+d,e=t.min}else if(g<=e&&g<t.min){if(e<t.min)continue;f=(t.min-e)/(g-e)*(f-d)+d,g=t.min}if(e>=g&&e>t.max){if(g>t.max)continue;d=(t.max-e)/(g-e)*(f-d)+d,e=t.max}else if(g>=e&&g>t.max){if(e>t.max)continue;f=(t.max-e)/(g-e)*(f-d)+d,g=t.max}if(i||(u.beginPath(),u.moveTo(t.p2c(e),a.p2c(o)),i=!0),d>=a.max&&f>=a.max)u.lineTo(t.p2c(e),a.p2c(a.max)),u.lineTo(t.p2c(g),a.p2c(a.max));else if(d<=a.min&&f<=a.min)u.lineTo(t.p2c(e),a.p2c(a.min)),u.lineTo(t.p2c(g),a.p2c(a.min));else{var h=e,p=g;d<=f&&d<a.min&&f>=a.min?(e=(a.min-d)/(f-d)*(g-e)+e,d=a.min):f<=d&&f<a.min&&d>=a.min&&(g=(a.min-d)/(f-d)*(g-e)+e,f=a.min),d>=f&&d>a.max&&f<=a.max?(e=(a.max-d)/(f-d)*(g-e)+e,d=a.max):f>=d&&f>a.max&&d<=a.max&&(g=(a.max-d)/(f-d)*(g-e)+e,f=a.max),e!=h&&u.lineTo(t.p2c(h),a.p2c(d)),u.lineTo(t.p2c(e),a.p2c(d)),u.lineTo(t.p2c(g),a.p2c(f)),g!=p&&(u.lineTo(t.p2c(g),a.p2c(f)),u.lineTo(t.p2c(p),a.p2c(f)))}}}}(e.datapoints,e.xaxis,e.yaxis));a>0&&t(e.datapoints,0,0,e.xaxis,e.yaxis);u.restore()}(e),e.points.show||e.bars.show||function(e){let t=[],a=null,n=null,r=e.datapoints,o=[];for(let c=0;c<r.pointsize-2;c++)o.push(0);for(let c=0;c<r.points.length;c+=r.pointsize){var l=r.points[c],i=r.points[c+1];n=c===r.points.length-r.pointsize?null:r.points[c+r.pointsize],null!==l&&null!==i&&null===a&&null===n&&(t.push(l),t.push(i),t.push.apply(t,o)),a=l}var s=r.points;r.points=t,e.points.radius=e.lines.lineWidth/2,P(e),r.points=s}(e)),e.bars.show&&function(e){let t;switch(u.save(),u.translate(g.left,g.top),u.lineWidth=e.bars.lineWidth,u.strokeStyle=e.color,e.bars.align){case"left":t=0;break;case"right":t=-e.bars.barWidth;break;default:t=-e.bars.barWidth/2}var a=e.bars.fill?function(t,a){return A(e.bars,e.color,t,a)}:null;(function(t,a,n,r,o,l){var i=t.points,s=t.pointsize;for(let c=0;c<i.length;c+=s)null!=i[c]&&j(i[c],i[c+1],i[c+2],a,n,r,o,l,u,e.bars.horizontal,e.bars.lineWidth)})(e.datapoints,t,t+e.bars.barWidth,a,e.xaxis,e.yaxis),u.restore()}(e),e.points.show&&P(e)}function P(e){function t(e,t,a,n,r,o,l,i){var s=e.points,c=e.pointsize;for(let p=0;p<s.length;p+=c){var m=s[p],h=s[p+1];null==m||m<o.min||m>o.max||h<l.min||h>l.max||(u.beginPath(),m=o.p2c(m),h=l.p2c(h)+n,"circle"==i?u.arc(m,h,t,0,r?Math.PI:2*Math.PI,!1):i(u,m,h,t,r),u.closePath(),a&&(u.fillStyle=a,u.fill()),u.stroke())}}u.save(),u.translate(g.left,g.top);let a=e.points.lineWidth,n=e.shadowSize,r=e.points.radius,o=e.points.symbol;if(0==a&&(a=1e-4),a>0&&n>0){let a=n/2;u.lineWidth=a,u.strokeStyle="rgba(0,0,0,0.1)",t(e.datapoints,r,null,a+a/2,!0,e.xaxis,e.yaxis,o),u.strokeStyle="rgba(0,0,0,0.2)",t(e.datapoints,r,null,a/2,!0,e.xaxis,e.yaxis,o)}u.lineWidth=a,u.strokeStyle=e.color,t(e.datapoints,r,A(e.points,e.color),0,!1,e.xaxis,e.yaxis,o),u.restore()}function j(e,t,a,n,r,o,l,i,s,c,m){var u,h,p,d,g,f,x,b,E;c?(b=f=x=!0,g=!1,d=t+n,p=t+r,(h=e)<(u=a)&&(E=h,h=u,u=E,g=!0,f=!1)):(g=f=x=!0,b=!1,u=e+n,h=e+r,(d=t)<(p=a)&&(E=d,d=p,p=E,b=!0,x=!1)),h<l.min||u>l.max||d<i.min||p>i.max||(u<l.min&&(u=l.min,g=!1),h>l.max&&(h=l.max,f=!1),p<i.min&&(p=i.min,b=!1),d>i.max&&(d=i.max,x=!1),u=l.p2c(u),p=i.p2c(p),h=l.p2c(h),d=i.p2c(d),o&&(s.fillStyle=o(p,d),s.fillRect(u,d,h-u,p-d)),m>0&&(g||f||x||b)&&(s.beginPath(),s.moveTo(u,p),g?s.lineTo(u,d):s.moveTo(u,d),x?s.lineTo(h,d):s.moveTo(h,d),f?s.lineTo(h,p):s.moveTo(h,p),b?s.lineTo(u,p):s.moveTo(u,p),s.stroke()))}function A(t,a,n,r){let o=t.fill;if(!o)return null;if(t.fillColor)return Z(t.fillColor,n,r,a);let l=e.color.parse(a);return l.a="number"==typeof o?o:.4,l.normalize(),l.toString()}E.setData=v,E.setupGrid=O,E.draw=R,E.getPlaceholder=function(){return t},E.getCanvas=function(){return s.element},E.getPlotOffset=function(){return g},E.width=function(){return f},E.height=function(){return x},E.offset=function(){let e=m.offset();return e.left+=g.left,e.top+=g.top,e},E.getData=function(){return l},E.getAxes=function(){var t={};return e.each(p.concat(d),(function(e,a){a&&(t[a.direction+(1!=a.n?a.n:"")+"axis"]=a)})),t},E.getXAxes=function(){return p},E.getYAxes=function(){return d},E.c2p=S,E.p2c=function(e){var t,a,n,r={};for(t=0;t<p.length;++t)if((a=p[t])&&a.used&&(n="x"+a.n,null==e[n]&&1==a.n&&(n="x"),null!=e[n])){r.left=a.p2c(e[n]);break}for(t=0;t<d.length;++t)if((a=d[t])&&a.used&&(n="y"+a.n,null==e[n]&&1==a.n&&(n="y"),null!=e[n])){r.top=a.p2c(e[n]);break}return r},E.getOptions=function(){return i},E.highlight=G,E.unhighlight=$,E.triggerRedrawOverlay=Y,E.pointOffset=function(e){return{left:parseInt(p[k(e,"x")-1].p2c(+e.x)+g.left,10),top:parseInt(d[k(e,"y")-1].p2c(+e.y)+g.top,10)}},E.shutdown=T,E.destroy=function(){T(),t.removeData("plot").empty(),l=[],i=null,s=null,c=null,m=null,u=null,h=null,p=[],d=[],b=null,W=[],E=null},E.resize=function(){let e=t.width(),a=t.height();s.resize(e,a),c.resize(e,a)},E.hooks=b,function(){let t={Canvas:a};for(let a=0;a<o.length;++a){let n=o[a];n.init(E,t),n.options&&e.extend(!0,i,n.options)}}(),function(a){e.extend(!0,i,a),a&&a.colors&&(i.colors=a.colors);null==i.xaxis.color&&(i.xaxis.color=e.color.parse(i.grid.color).scale("a",.22).toString());null==i.yaxis.color&&(i.yaxis.color=e.color.parse(i.grid.color).scale("a",.22).toString());null==i.xaxis.tickColor&&(i.xaxis.tickColor=i.grid.tickColor||i.xaxis.color);null==i.yaxis.tickColor&&(i.yaxis.tickColor=i.grid.tickColor||i.yaxis.color);null==i.grid.borderColor&&(i.grid.borderColor=i.grid.color);null==i.grid.tickColor&&(i.grid.tickColor=e.color.parse(i.grid.color).scale("a",.22).toString());var n,r,o,l=t.css("font-size"),s=l?+l.replace("px",""):13,c={style:t.css("font-style"),size:Math.round(.8*s),variant:t.css("font-variant"),weight:t.css("font-weight"),family:t.css("font-family")};for(o=i.xaxes.length||1,n=0;n<o;++n)(r=i.xaxes[n])&&!r.tickColor&&(r.tickColor=r.color),r=e.extend(!0,{},i.xaxis,r),i.xaxes[n]=r,r.font&&(r.font=e.extend({},c,r.font),r.font.color||(r.font.color=r.color),r.font.lineHeight||(r.font.lineHeight=Math.round(1.15*r.font.size)));for(o=i.yaxes.length||1,n=0;n<o;++n)(r=i.yaxes[n])&&!r.tickColor&&(r.tickColor=r.color),r=e.extend(!0,{},i.yaxis,r),i.yaxes[n]=r,r.font&&(r.font=e.extend({},c,r.font),r.font.color||(r.font.color=r.color),r.font.lineHeight||(r.font.lineHeight=Math.round(1.15*r.font.size)));i.xaxis.noTicks&&null==i.xaxis.ticks&&(i.xaxis.ticks=i.xaxis.noTicks);i.yaxis.noTicks&&null==i.yaxis.ticks&&(i.yaxis.ticks=i.yaxis.noTicks);i.x2axis&&(i.xaxes[1]=e.extend(!0,{},i.xaxis,i.x2axis),i.xaxes[1].position="top",null==i.x2axis.min&&(i.xaxes[1].min=null),null==i.x2axis.max&&(i.xaxes[1].max=null));i.y2axis&&(i.yaxes[1]=e.extend(!0,{},i.yaxis,i.y2axis),i.yaxes[1].position="right",null==i.y2axis.min&&(i.yaxes[1].min=null),null==i.y2axis.max&&(i.yaxes[1].max=null));i.grid.coloredAreas&&(i.grid.markings=i.grid.coloredAreas);i.grid.coloredAreasColor&&(i.grid.markingsColor=i.grid.coloredAreasColor);i.lines&&e.extend(!0,i.series.lines,i.lines);i.points&&e.extend(!0,i.series.points,i.points);i.bars&&e.extend(!0,i.series.bars,i.bars);null!=i.shadowSize&&(i.series.shadowSize=i.shadowSize);null!=i.highlightColor&&(i.series.highlightColor=i.highlightColor);for(n=0;n<i.xaxes.length;++n)C(p,n+1).options=i.xaxes[n];for(n=0;n<i.yaxes.length;++n)C(d,n+1).options=i.yaxes[n];for(var m in b)i.hooks[m]&&i.hooks[m].length&&(b[m]=b[m].concat(i.hooks[m]));y(b.processOptions,[i])}(r),function(){t.find(".flot-temp-elem").remove(),"static"==t.css("position")&&t.css("position","relative");s=new a("flot-base",t),c=new a("flot-overlay",t),u=s.context,h=c.context,m=e(c.element).unbind();var n=t.data("plot");n&&(n.shutdown(),c.clear());t.data("plot",E)}(),v(n),O(),R(),function(){i.grid.hoverable&&(m.mousemove(q),m.bind("mouseleave",U));i.grid.clickable&&m.click(B);y(b.bindEvents,[m])}();var W=[],H=null;function q(e){i.grid.hoverable&&V("plothover",e,(function(e){return 0!=e.hoverable}))}function U(e){i.grid.hoverable&&V("plothover",e,(function(){return!1}))}function B(e){E.isSelecting||V("plotclick",e,(function(e){return 0!=e.clickable}))}function V(e,a,n){let r=m.offset(),o=a.pageX-r.left-g.left,s=a.pageY-r.top-g.top,c=S({left:o,top:s});c.pageX=a.pageX,c.pageY=a.pageY,c.ctrlKey=a.ctrlKey,c.metaKey=a.metaKey;let u=function(e,t,a){let n,r,o,s=i.grid.mouseActiveRadius,c=s*s+1,m=null;for(n=l.length-1;n>=0;--n){if(!a(l[n]))continue;let i=l[n],f=i.xaxis,x=i.yaxis,b=i.datapoints.points,E=f.c2p(e),y=x.c2p(t),v=s/f.scale,k=s/x.scale;if(o=i.datapoints.pointsize,f.options.inverseTransform&&(v=Number.MAX_VALUE),x.options.inverseTransform&&(k=Number.MAX_VALUE),i.lines.show||i.points.show)for(r=0;r<b.length;r+=o){var u=b[r],h=b[r+1];if(null==u)continue;if(u-E>v||u-E<-v||h-y>k||h-y<-k)continue;let a=Math.abs(f.p2c(u)-e),l=Math.abs(x.p2c(h)-t),i=a*a+l*l;i<c&&(c=i,m=[n,r/o])}if(i.bars.show&&!m){var p,d;switch(i.bars.align){case"left":p=0;break;case"right":p=-i.bars.barWidth;break;default:p=-i.bars.barWidth/2}for(d=p+i.bars.barWidth,r=0;r<b.length;r+=o){u=b[r],h=b[r+1];var g=b[r+2];null!=u&&((l[n].bars.horizontal?E<=Math.max(g,u)&&E>=Math.min(g,u)&&y>=h+p&&y<=h+d:E>=u+p&&E<=u+d&&y>=Math.min(g,h)&&y<=Math.max(g,h))&&(m=[n,r/o]))}}}return m?(n=m[0],r=m[1],o=l[n].datapoints.pointsize,{datapoint:l[n].datapoints.points.slice(r*o,(r+1)*o),dataIndex:r,series:l[n],seriesIndex:n}):null}(o,s,n);if(u&&(u.pageX=parseInt(u.series.xaxis.p2c(u.datapoint[0])+r.left+g.left,10),u.pageY=parseInt(u.series.yaxis.p2c(u.datapoint[1])+r.top+g.top,10)),i.grid.autoHighlight){for(let t=0;t<W.length;++t){let a=W[t];a.auto!=e||u&&a.series==u.series&&a.point[0]==u.datapoint[0]&&a.point[1]==u.datapoint[1]||$(a.series,a.point)}u&&G(u.series,u.datapoint,e)}t.trigger(e,[c,u])}function Y(){let e=i.interaction.redrawOverlayInterval;-1!=e?H||(H=setTimeout(Q,e)):Q()}function Q(){let e,t;for(H=null,h.save(),c.clear(),h.translate(g.left,g.top),e=0;e<W.length;++e)t=W[e],t.series.bars.show?X(t.series,t.point):J(t.series,t.point);h.restore(),y(b.drawOverlay,[h])}function G(e,t,a){if("number"==typeof e&&(e=l[e]),"number"==typeof t){let a=e.datapoints.pointsize;t=e.datapoints.points.slice(a*t,a*(t+1))}let n=K(e,t);-1==n?(W.push({series:e,point:t,auto:a}),Y()):a||(W[n].auto=!1)}function $(e,t){if(null==e&&null==t)return W=[],void Y();if("number"==typeof e&&(e=l[e]),"number"==typeof t){let a=e.datapoints.pointsize;t=e.datapoints.points.slice(a*t,a*(t+1))}let a=K(e,t);-1!=a&&(W.splice(a,1),Y())}function K(e,t){for(let a=0;a<W.length;++a){let n=W[a];if(n.series==e&&n.point[0]==t[0]&&n.point[1]==t[1])return a}return-1}function J(t,a){var n=a[0],r=a[1],o=t.xaxis,l=t.yaxis,i="string"===typeof t.highlightColor?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString();if(n<o.min||n>o.max||r<l.min||r>l.max)return;let s=t.points.radius+t.points.lineWidth/2;h.lineWidth=s,h.strokeStyle=i;let c=1.5*s;n=o.p2c(n),r=l.p2c(r),h.beginPath(),"circle"==t.points.symbol?h.arc(n,r,c,0,2*Math.PI,!1):t.points.symbol(h,n,r,c,!1),h.closePath(),h.stroke()}function X(t,a){var n,r="string"===typeof t.highlightColor?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString(),o=r;switch(t.bars.align){case"left":n=0;break;case"right":n=-t.bars.barWidth;break;default:n=-t.bars.barWidth/2}h.lineWidth=t.bars.lineWidth,h.strokeStyle=r,j(a[0],a[1],a[2]||0,n,n+t.bars.barWidth,(function(){return o}),t.xaxis,t.yaxis,h,t.bars.horizontal,t.bars.lineWidth)}function Z(t,a,n,r){if("string"==typeof t)return t;{let o=u.createLinearGradient(0,n,0,a);for(let a=0,n=t.colors.length;a<n;++a){let l=t.colors[a];if("string"!=typeof l){let t=e.color.parse(r);null!=l.brightness&&(t=t.scale("rgb",l.brightness)),null!=l.opacity&&(t.a*=l.opacity),l=t.toString()}o.addColorStop(a/(n-1),l)}return o}}}e.fn.detach||(e.fn.detach=function(){return this.each((function(){this.parentNode&&this.parentNode.removeChild(this)}))}),a.prototype.resize=function(e,t){if(e<=0||t<=0)throw new Error("Invalid dimensions for plot, width = "+e+", height = "+t);let a=this.element,n=this.context,r=this.pixelRatio;this.width!=e&&(a.width=e*r,a.style.width=e+"px",this.width=e),this.height!=t&&(a.height=t*r,a.style.height=t+"px",this.height=t),n.restore(),n.save(),n.scale(r,r)},a.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},a.prototype.render=function(){let e=this._textCache;for(let r in e)if(t.call(e,r)){let o=this.getTextLayer(r),l=e[r];o.hide();for(let e in l)if(t.call(l,e)){let r=l[e];for(let e in r)if(t.call(r,e)){let t=r[e].positions;for(var a,n=0;a=t[n];n++)a.active?a.rendered||(o.append(a.element),a.rendered=!0):(t.splice(n--,1),a.rendered&&a.element.detach());0==t.length&&delete r[e]}}o.show()}},a.prototype.getTextLayer=function(t){let a=this.text[t];return null==a&&(null==this.textContainer&&(this.textContainer=e("<div class='flot-text flot-temp-elem'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),a=this.text[t]=e("<div></div>").addClass(t).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),a},a.prototype.getTextInfo=function(t,a,n,r,o){let l,i,s,c;if(a=""+a,l="object"===typeof n?n.style+" "+n.variant+" "+n.weight+" "+n.size+"px/"+n.lineHeight+"px "+n.family:n,i=this._textCache[t],null==i&&(i=this._textCache[t]={}),s=i[l],null==s&&(s=i[l]={}),c=s[a],null==c){var m=e("<div></div>").html(a).css({position:"absolute","max-width":o,top:-9999}).appendTo(this.getTextLayer(t));"object"===typeof n?m.css({font:l,color:n.color}):"string"===typeof n&&m.addClass(n),c=s[a]={element:m,positions:[]};let r=this._textSizeCache[a];r?(c.width=r.width,c.height=r.height):(c.width=m.outerWidth(!0),c.height=m.outerHeight(!0),this._textSizeCache[a]={width:c.width,height:c.height}),m.detach()}return c},a.prototype.addText=function(e,t,a,n,r,o,l,i,s){let c=this.getTextInfo(e,n,r,o,l),m=c.positions;"center"==i?t-=c.width/2:"right"==i&&(t-=c.width),"middle"==s?a-=c.height/2:"bottom"==s&&(a-=c.height);for(var u,h=0;u=m[h];h++)if(u.x==t&&u.y==a)return void(u.active=!0);u={active:!0,rendered:!1,element:m.length?c.element.clone():c.element,x:t,y:a},m.push(u),u.element.css({top:Math.round(a),left:Math.round(t),"text-align":i})},a.prototype.removeText=function(e,a,n,r,o,l){if(null==r){let a=this._textCache[e];if(null!=a)for(let e in a)if(t.call(a,e)){let n=a[e];for(let e in n)if(t.call(n,e))for(var i=n[e].positions,s=0;c=i[s];s++)c.active=!1}}else{var c;for(i=this.getTextInfo(e,r,o,l).positions,s=0;c=i[s];s++)c.x==a&&c.y==n&&(c.active=!1)}},e.plot=function(t,a,r){return new n(e(t),a,r,e.plot.plugins)},e.plot.version="0.8.3",e.plot.plugins=[],e.fn.plot=function(t,a){return this.each((function(){e.plot(this,t,a)}))}}(window.jQuery)},223:function(e,t){window.jQuery.plot.plugins.push({init:function(e){e.hooks.processDatapoints.push((function(e,t,a){if(null==t.stack||!1===t.stack)return;const n=function(e,t){let a=null;for(let n=0;n<t.length&&e!=t[n];++n)t[n].stack==e.stack&&(a=t[n]);return a}(t,e.getData());if(!n)return;let r,o,l,i,s,c,m,u,h=a.pointsize,p=a.points,d=n.datapoints.pointsize,g=n.datapoints.points,f=[],x=t.lines.show,b=t.bars.horizontal,E=h>2&&(b?a.format[2].x:a.format[2].y),y=x&&t.lines.steps,v=b?1:0,k=b?0:1,w=0,S=0;for(;!(w>=p.length&&S>=g.length);){if(m=f.length,w<p.length&&null==p[w]){for(u=0;u<h;++u)f.push(g[w+u]);E&&(f[m+2]=g[w+k]),w+=h}else if(w>=p.length)S+=d;else if(S>=g.length){for(u=0;u<h;++u)f.push(p[w+u]);w+=h}else if(S<g.length&&null==g[S])S+=d;else{if(r=p[w+v],o=p[w+k],i=g[S+v],s=g[S+k],c=0,r==i){for(u=0;u<h;++u)f.push(p[w+u]);f[m+k]+=s,c=s,w+=h,S+=d}else if(r>i){if(0==w){for(u=0;u<h;++u)f.push(g[S+u]);c=s}if(w>0&&null!=p[w-h]){for(l=o+(p[w-h+k]-o)*(i-r)/(p[w-h+v]-r),f.push(i),f.push(l+s),u=2;u<h;++u)f.push(p[w+u]);c=s}S+=d}else{for(u=0;u<h;++u)f.push(p[w+u]);S>0&&null!=g[S-d]&&(c=s+(g[S-d+k]-s)*(r-i)/(g[S-d+v]-i)),f[m+k]+=c,w+=h}m!=f.length&&E&&(f[m+2]=c)}if(y&&m!=f.length&&m>0&&null!=f[m]&&f[m]!=f[m-h]&&f[m+1]!=f[m-h+1]){for(u=0;u<h;++u)f[m+h+u]=f[m+u];f[m+1]=f[m-h+1]}}a.points=f}))},options:{series:{stack:null}},name:"stack",version:"1.2"})},224:function(e,t){!function(e){function t(e,t){return t*Math.floor(e/t)}function a(e,t,a,n){if("function"==typeof e.strftime)return e.strftime(t);const r=function(e,t){return t=""+(null==t?"0":t),1==(e=""+e).length?t+e:e},o=[];let l=!1;const i=e.getHours(),s=i<12;let c;null==a&&(a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),null==n&&(n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),c=i>12?i-12:0==i?12:i;for(let m=0;m<t.length;++m){let u=t.charAt(m);if(l){switch(u){case"a":u=""+n[e.getDay()];break;case"b":u=""+a[e.getMonth()];break;case"d":u=r(e.getDate(),"");break;case"e":u=r(e.getDate()," ");break;case"h":case"H":u=r(i);break;case"I":u=r(c);break;case"l":u=r(c," ");break;case"m":u=r(e.getMonth()+1,"");break;case"M":u=r(e.getMinutes());break;case"q":u=""+(Math.floor(e.getMonth()/3)+1);break;case"S":u=r(e.getSeconds());break;case"y":u=r(e.getFullYear()%100);break;case"Y":u=""+e.getFullYear();break;case"p":u=s?"am":"pm";break;case"P":u=s?"AM":"PM";break;case"w":u=""+e.getDay()}o.push(u),l=!1}else"%"==u?l=!0:o.push(u)}return o.join("")}function n(e){function t(e,t,a,n){e[t]=function(){return a[n].apply(a,arguments)}}const a={date:e};void 0!=e.strftime&&t(a,"strftime",e,"strftime"),t(a,"getTime",e,"getTime"),t(a,"setTime",e,"setTime");const n=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"];for(let r=0;r<n.length;r++)t(a,"get"+n[r],e,"getUTC"+n[r]),t(a,"set"+n[r],e,"setUTC"+n[r]);return a}function r(e,t){return"browser"==t.timezone?new Date(e):(t.timezone&&t.timezone,n(new Date(e)))}const o={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,quarter:7776e6,year:525949.2*60*1e3},l=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],i=l.concat([[3,"month"],[6,"month"],[1,"year"]]),s=l.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);e.plot.plugins.push({init:function(n){n.hooks.processOptions.push((function(n){e.each(n.getAxes(),(function(e,n){const l=n.options;"time"==l.mode&&(n.tickGenerator=function(e){const a=[],n=r(e.min,l);let c=0;const m=l.tickSize&&"quarter"===l.tickSize[1]||l.minTickSize&&"quarter"===l.minTickSize[1]?s:i;null!=l.minTickSize&&(c="number"==typeof l.tickSize?l.tickSize:l.minTickSize[0]*o[l.minTickSize[1]]);for(var u=0;u<m.length-1&&!(e.delta<(m[u][0]*o[m[u][1]]+m[u+1][0]*o[m[u+1][1]])/2&&m[u][0]*o[m[u][1]]>=c);++u);let h=m[u][0],p=m[u][1];if("year"==p){if(null!=l.minTickSize&&"year"==l.minTickSize[1])h=Math.floor(l.minTickSize[0]);else{const t=Math.pow(10,Math.floor(Math.log(e.delta/o.year)/Math.LN10)),a=e.delta/o.year/t;h=a<1.5?1:a<3?2:a<7.5?5:10,h*=t}h<1&&(h=1)}e.tickSize=l.tickSize||[h,p];const d=e.tickSize[0];p=e.tickSize[1];const g=d*o[p];"second"==p?n.setSeconds(t(n.getSeconds(),d)):"minute"==p?n.setMinutes(t(n.getMinutes(),d)):"hour"==p?n.setHours(t(n.getHours(),d)):"month"==p?n.setMonth(t(n.getMonth(),d)):"quarter"==p?n.setMonth(3*t(n.getMonth()/3,d)):"year"==p&&n.setFullYear(t(n.getFullYear(),d)),n.setMilliseconds(0),g>=o.minute&&n.setSeconds(0),g>=o.hour&&n.setMinutes(0),g>=o.day&&n.setHours(0),g>=4*o.day&&n.setDate(1),g>=2*o.month&&n.setMonth(t(n.getMonth(),3)),g>=2*o.quarter&&n.setMonth(t(n.getMonth(),6)),g>=o.year&&n.setMonth(0);let f,x=0,b=Number.NaN;do{if(f=b,b=n.getTime(),a.push(b),"month"==p||"quarter"==p)if(d<1){n.setDate(1);const e=n.getTime();n.setMonth(n.getMonth()+("quarter"==p?3:1));const t=n.getTime();n.setTime(b+x*o.hour+(t-e)*d),x=n.getHours(),n.setHours(0)}else n.setMonth(n.getMonth()+d*("quarter"==p?3:1));else"year"==p?n.setFullYear(n.getFullYear()+d):n.setTime(b+g)}while(b<e.max&&b!=f);return a},n.tickFormatter=function(e,t){const n=r(e,t.options);if(null!=l.timeformat)return a(n,l.timeformat,l.monthNames,l.dayNames);const i=t.options.tickSize&&"quarter"==t.options.tickSize[1]||t.options.minTickSize&&"quarter"==t.options.minTickSize[1],s=t.tickSize[0]*o[t.tickSize[1]],c=t.max-t.min,m=l.twelveHourClock?" %p":"",u=l.twelveHourClock?"%I":"%H";let h;h=s<o.minute?u+":%M:%S"+m:s<o.day?c<2*o.day?u+":%M"+m:"%b %d "+u+":%M"+m:s<o.month?"%b %d":i&&s<o.quarter||!i&&s<o.year?c<o.year?"%b":"%b %Y":i&&s<o.year?c<o.year?"Q%q":"Q%q %Y":"%Y";return a(n,h,l.monthNames,l.dayNames)})}))}))},options:{xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},name:"time",version:"1.0"}),e.plot.formatDate=a}(window.jQuery)},225:function(e,t){window.jQuery.plot.plugins.push({init:function(e){const t={x:-1,y:-1,locked:!1};function a(){t.locked||-1!=t.x&&(t.x=-1,e.triggerRedrawOverlay())}function n(a){if(t.locked)return;if(e.getSelection&&e.getSelection())return void(t.x=-1);const n=e.offset();t.x=Math.max(0,Math.min(a.pageX-n.left,e.width())),t.y=Math.max(0,Math.min(a.pageY-n.top,e.height())),e.triggerRedrawOverlay()}e.setCrosshair=function(a){if(a){const n=e.p2c(a);t.x=Math.max(0,Math.min(n.left,e.width())),t.y=Math.max(0,Math.min(n.top,e.height()))}else t.x=-1;e.triggerRedrawOverlay()},e.clearCrosshair=e.setCrosshair,e.lockCrosshair=function(a){a&&e.setCrosshair(a),t.locked=!0},e.unlockCrosshair=function(){t.locked=!1},e.hooks.bindEvents.push((function(e,t){e.getOptions().crosshair.mode&&(t.mouseout(a),t.mousemove(n))})),e.hooks.drawOverlay.push((function(e,a){const n=e.getOptions().crosshair;if(!n.mode)return;const r=e.getPlotOffset();if(a.save(),a.translate(r.left,r.top),-1!=t.x){const r=e.getOptions().crosshair.lineWidth%2?.5:0;if(a.strokeStyle=n.color,a.lineWidth=n.lineWidth,a.lineJoin="round",a.beginPath(),-1!=n.mode.indexOf("x")){const n=Math.floor(t.x)+r;a.moveTo(n,0),a.lineTo(n,e.height())}if(-1!=n.mode.indexOf("y")){const n=Math.floor(t.y)+r;a.moveTo(0,n),a.lineTo(e.width(),n)}a.stroke()}a.restore()})),e.hooks.shutdown.push((function(e,t){t.unbind("mouseout",a),t.unbind("mousemove",n)}))},options:{crosshair:{mode:null,color:"rgba(170, 0, 0, 0.80)",lineWidth:1}},name:"crosshair",version:"1.0"})},226:function(e,t){var a;(a=window.jQuery).plot.plugins.push({init:function(e){var t={first:{x:-1,y:-1},second:{x:-1,y:-1},show:!1,active:!1},n={},r=null;function o(a){t.active&&(u(a),e.getPlaceholder().trigger("plotselecting",[i()]))}function l(o){1==o.which&&(document.body.focus(),void 0!==document.onselectstart&&null==n.onselectstart&&(n.onselectstart=document.onselectstart,document.onselectstart=function(){return!1}),void 0!==document.ondrag&&null==n.ondrag&&(n.ondrag=document.ondrag,document.ondrag=function(){return!1}),m(t.first,o),t.active=!0,r=function(a){!function(a){r=null,void 0!==document.onselectstart&&(document.onselectstart=n.onselectstart),void 0!==document.ondrag&&(document.ondrag=n.ondrag),t.active=!1,u(a),d()?s(a):(e.getPlaceholder().trigger("plotunselected",[]),e.getPlaceholder().trigger("plotselecting",[null])),setTimeout((function(){e.isSelecting=!1}),10)}(a)},a(document).one("mouseup",r))}function i(){if(!d())return null;if(!t.show)return null;var n={},r=t.first,o=t.second,l=e.getAxes();return a.each(l,(function(e,t){t.used})),a.each(l,(function(e,t){t.used;var a=t.c2p(r[t.direction]),l=t.c2p(o[t.direction]);n[e]={from:Math.min(a,l),to:Math.max(a,l)}})),n}function s(t){var a=i();a.ctrlKey=t.ctrlKey,a.metaKey=t.metaKey,e.getPlaceholder().trigger("plotselected",[a]),a.xaxis&&a.yaxis&&e.getPlaceholder().trigger("selected",[{x1:a.xaxis.from,y1:a.yaxis.from,x2:a.xaxis.to,y2:a.yaxis.to}])}function c(e,t,a){return t<e?e:t>a?a:t}function m(a,n){var r=e.getOptions(),o=e.getPlaceholder().offset(),l=e.getPlotOffset();a.x=c(0,n.pageX-o.left-l.left,e.width()),a.y=c(0,n.pageY-o.top-l.top,e.height()),"y"==r.selection.mode&&(a.x=a==t.first?0:e.width()),"x"==r.selection.mode&&(a.y=a==t.first?0:e.height())}function u(a){null!=a.pageX&&(m(t.second,a),d()?(e.isSelecting=!0,t.show=!0,e.triggerRedrawOverlay()):h(!0))}function h(a){t.show&&(t.show=!1,e.triggerRedrawOverlay(),a||e.getPlaceholder().trigger("plotunselected",[]))}function p(t,a){var n,r,o,l,i=e.getAxes();for(var s in i)if((n=i[s]).direction==a&&(t[l=a+n.n+"axis"]||1!=n.n||(l=a+"axis"),t[l])){r=t[l].from,o=t[l].to;break}if(t[l]||(n="x"==a?e.getXAxes()[0]:e.getYAxes()[0],r=t[a+"1"],o=t[a+"2"]),null!=r&&null!=o&&r>o){var c=r;r=o,o=c}return{from:r,to:o,axis:n}}function d(){var a=e.getOptions().selection.minSize;return Math.abs(t.second.x-t.first.x)>=a&&Math.abs(t.second.y-t.first.y)>=a}e.clearSelection=h,e.setSelection=function(a,n){var r,o=e.getOptions();"y"==o.selection.mode?(t.first.x=0,t.second.x=e.width()):(r=p(a,"x"),t.first.x=r.axis.p2c(r.from),t.second.x=r.axis.p2c(r.to)),"x"==o.selection.mode?(t.first.y=0,t.second.y=e.height()):(r=p(a,"y"),t.first.y=r.axis.p2c(r.from),t.second.y=r.axis.p2c(r.to)),t.show=!0,e.triggerRedrawOverlay(),!n&&d()&&s()},e.getSelection=i,e.hooks.bindEvents.push((function(e,t){null!=e.getOptions().selection.mode&&(t.mousemove(o),t.mousedown(l))})),e.hooks.drawOverlay.push((function(e,n){if(t.show&&d()){var r=e.getPlotOffset(),o=e.getOptions();n.save(),n.translate(r.left,r.top);var l=a.color.parse(o.selection.color);n.strokeStyle=l.scale("a",.8).toString(),n.lineWidth=1,n.lineJoin=o.selection.shape,n.fillStyle=l.scale("a",.4).toString();var i=Math.min(t.first.x,t.second.x)+.5,s=Math.min(t.first.y,t.second.y)+.5,c=Math.abs(t.second.x-t.first.x)-1,m=Math.abs(t.second.y-t.first.y)-1;n.fillRect(i,s,c,m),n.strokeRect(i,s,c,m),n.restore()}})),e.hooks.shutdown.push((function(e,t){t.unbind("mousemove",o),t.unbind("mousedown",l),r&&(a(document).unbind("mouseup",r),void 0!==document.onselectstart&&(document.onselectstart=n.onselectstart),void 0!==document.ondrag&&(document.ondrag=n.ondrag))}))},options:{selection:{mode:null,color:"#e8cfac",shape:"round",minSize:5}},name:"selection",version:"1.1"})},242:function(e,t,a){},243:function(e,t,a){},244:function(e,t,a){},245:function(e,t,a){e.exports=a.p+"static/media/codicon.22349029.ttf"},246:function(e,t,a){"use strict";a.r(t);var n=a(25),r=a.n(n);window.jQuery=r.a,window.moment=a(36);var o=a(0),l=a.n(o),i=a(27),s=a.n(i),c=a(22),m=a(250),u=a(251),h=a(252),p=a(253),d=a(254),g=a(255),f=a(275),x=a(276),b=a(256),E=a(257);const y=l.a.createContext("");function v(){return l.a.useContext(y)}var k=a(248),w=a(249),S=a(127),C=a(17),T=a(14);const M=l.a.createContext({theme:"light",userPreference:"auto",setTheme:e=>{}}),N=()=>l.a.useContext(M),O=()=>{const{theme:e}=N();return Object(o.useEffect)(()=>{document.body.classList.toggle("bootstrap-dark","dark"===e),document.body.classList.toggle("bootstrap","light"===e)},[e]),null},L=()=>{const{userPreference:e,setTheme:t}=N();return l.a.createElement(k.a,{className:"ml-auto",inline:!0},l.a.createElement(w.a,{size:"sm"},l.a.createElement(S.a,{color:"secondary",title:"Use light theme",active:"light"===e,onClick:()=>t("light")},l.a.createElement(C.a,{icon:T.s,className:"light"===e?"text-white":"text-dark"})),l.a.createElement(S.a,{color:"secondary",title:"Use dark theme",active:"dark"===e,onClick:()=>t("dark")},l.a.createElement(C.a,{icon:T.l,className:"dark"===e?"text-white":"text-dark"})),l.a.createElement(S.a,{color:"secondary",title:"Use browser-preferred theme",active:"auto"===e,onClick:()=>t("auto")},l.a.createElement(C.a,{icon:T.a,className:"auto"===e?"text-white":"text-dark"}))))};var I=e=>{let{consolesLink:t}=e;const[a,n]=Object(o.useState)(!1),r=v();return l.a.createElement(m.a,{className:"mb-3",dark:!0,color:"dark",expand:"md",fixed:"top"},l.a.createElement(u.a,{onClick:()=>n(!a),className:"mr-2"}),l.a.createElement(c.a,{className:"pt-0 navbar-brand",to:"".concat(r,"/graph")},"Prometheus"),l.a.createElement(h.a,{isOpen:a,navbar:!0,style:{justifyContent:"space-between"}},l.a.createElement(p.a,{className:"ml-0",navbar:!0},null!==t&&l.a.createElement(d.a,null,l.a.createElement(g.a,{href:t},"Consoles")),l.a.createElement(d.a,null,l.a.createElement(g.a,{tag:c.a,to:"".concat(r,"/alerts")},"Alerts")),l.a.createElement(d.a,null,l.a.createElement(g.a,{tag:c.a,to:"".concat(r,"/graph")},"Graph")),l.a.createElement(f.a,{nav:!0,inNavbar:!0},l.a.createElement(x.a,{nav:!0,caret:!0},"Status"),l.a.createElement(b.a,null,l.a.createElement(E.a,{tag:c.a,to:"".concat(r,"/status")},"Runtime & Build Information"),l.a.createElement(E.a,{tag:c.a,to:"".concat(r,"/tsdb-status")},"TSDB Status"),l.a.createElement(E.a,{tag:c.a,to:"".concat(r,"/flags")},"Command-Line Flags"),l.a.createElement(E.a,{tag:c.a,to:"".concat(r,"/config")},"Configuration"),l.a.createElement(E.a,{tag:c.a,to:"".concat(r,"/rules")},"Rules"),l.a.createElement(E.a,{tag:c.a,to:"".concat(r,"/targets")},"Targets"),l.a.createElement(E.a,{tag:c.a,to:"".concat(r,"/service-discovery")},"Service Discovery"))),l.a.createElement(d.a,null,l.a.createElement(g.a,{href:"https://prometheus.io/docs/prometheus/latest/getting_started/"},"Help")),l.a.createElement(d.a,null,l.a.createElement(g.a,{href:"".concat(r,"/classic/graph").concat(window.location.search)},"Classic UI")))),l.a.createElement(L,null))},_=a(273),R=a(79),z=a.n(R);const D=(e,t)=>{const[a,n]=Object(o.useState)({status:"start fetching"}),[r,l]=Object(o.useState)(),[i,s]=Object(o.useState)(!0);return Object(o.useEffect)(()=>{(async()=>{s(!0);try{const a=await fetch(e,{cache:"no-store",credentials:"same-origin",...t});if(!a.ok)throw new Error(a.statusText);const r=await a.json();n(r),s(!1)}catch(r){l(r)}})()},[e,t]),{response:a,error:r,isLoading:i}};let F=!1;var P=a(258);const j=e=>t=>{let{error:a,isLoading:n,customErrorMsg:r,componentTitle:o,...i}=t;return a?l.a.createElement(P.a,{color:"danger"},r||l.a.createElement(l.a.Fragment,null,l.a.createElement("strong",null,"Error:")," Error fetching ",o||e.displayName,": ",a.message)):n?l.a.createElement(C.a,{size:"3x",icon:T.r,spin:!0,className:"position-absolute",style:{transform:"translate(-50%, -50%)",top:"50%",left:"50%"}}):l.a.createElement(e,i)};var A=a(269),W=a(264),H=a(26),q=a.n(H),U=a(265),B=a(266),V=a(267),Y=a(268),Q=a(261),G=a(262),$=a(130),K=a(263),J=a(141),X=a(47),Z=a.n(X),ee=a(277),te=a(259),ae=a(260);class ne extends o.Component{constructor(){super(...arguments),this.handleMetricClick=e=>{this.props.insertAtCursor(e),this.props.updateShow(!1)},this.toggle=()=>{this.props.updateShow(!this.props.show)}}render(){return l.a.createElement(ee.a,{isOpen:this.props.show,toggle:this.toggle,className:"metrics-explorer"},l.a.createElement(te.a,{toggle:this.toggle},"Metrics Explorer"),l.a.createElement(ae.a,null,this.props.metrics.map(e=>l.a.createElement("p",{key:e,className:"metric",onClick:this.handleMetricClick.bind(this,e)},e))))}}var re=ne,oe=a(56);const le=new oe.Fuzzy({pre:"<strong>",post:"</strong>",shouldSort:!0});class ie extends o.Component{constructor(e){super(e),this.exprInputRef=l.a.createRef(),this.setHeight=()=>{const{offsetHeight:e,clientHeight:t,scrollHeight:a}=this.exprInputRef.current,n=e-t;this.setState({height:a+n})},this.handleInput=()=>{this.setValue(this.exprInputRef.current.value)},this.setValue=e=>{const{onExpressionChange:t}=this.props;t(e),this.setState({height:"auto"},this.setHeight)},this.handleKeyPress=e=>{const{executeQuery:t}=this.props;"Enter"!==e.key||e.shiftKey||(t(),e.preventDefault())},this.getSearchMatches=(e,t)=>le.filter(e.replace(/ /g,""),t),this.createAutocompleteSection=e=>{const{inputValue:t="",closeMenu:a,highlightedIndex:n}=e,r={"Query History":this.props.queryHistory,"Metric Names":this.props.metricNames};let o=0;const i=t.length&&this.props.enableAutocomplete?Object.entries(r).reduce((a,r)=>{let[i,s]=r;const c=this.getSearchMatches(t,s);return c.length?[...a,l.a.createElement("ul",{className:"autosuggest-dropdown-list",key:i},l.a.createElement("li",{className:"autosuggest-dropdown-header"},i),c.slice(0,100).map(t=>{const a=e.getItemProps({key:t.original,index:o,item:t.original,style:{backgroundColor:n===o++?"lightgray":"white"}});return l.a.createElement("li",Object.assign({key:i},a,{dangerouslySetInnerHTML:{__html:Z()(t.rendered,{allowedTags:["strong"]})}}))}))]:a},[]):[];return i.length?l.a.createElement("div",Object.assign({},e.getMenuProps(),{className:"autosuggest-dropdown"}),i):(setTimeout(a),null)},this.openMetricsExplorer=()=>{this.setState({showMetricsExplorer:!0})},this.updateShowMetricsExplorer=e=>{this.setState({showMetricsExplorer:e})},this.insertAtCursor=e=>{if(!this.exprInputRef.current)return;const t=this.exprInputRef.current.selectionStart,a=this.exprInputRef.current.selectionEnd,n=this.exprInputRef.current.value;let r;r=t&&a?n.substring(0,t)+e+n.substring(a,n.length):n+e,this.setValue(r)},this.state={height:"auto",showMetricsExplorer:!1}}componentDidMount(){this.setHeight()}componentDidUpdate(e){const{value:t}=this.props;t!==e.value&&this.setValue(t)}render(){const{executeQuery:e,value:t}=this.props,{height:a}=this.state;return l.a.createElement(l.a.Fragment,null,l.a.createElement(J.a,{onSelect:this.setValue},n=>l.a.createElement("div",null,l.a.createElement(Q.a,{className:"expression-input"},l.a.createElement(G.a,{addonType:"prepend"},l.a.createElement($.a,null,this.props.loading?l.a.createElement(C.a,{icon:T.r,spin:!0}):l.a.createElement(C.a,{icon:T.n}))),l.a.createElement(K.a,Object.assign({onInput:this.handleInput,style:{height:a},autoFocus:!0,type:"textarea",rows:"1",onKeyPress:this.handleKeyPress,placeholder:"Expression (press Shift+Enter for newlines)",innerRef:this.exprInputRef},n.getInputProps({onKeyDown:e=>{switch(e.key){case"Home":case"End":e.nativeEvent.preventDownshiftDefault=!0;break;case"ArrowUp":case"ArrowDown":n.isOpen||(e.nativeEvent.preventDownshiftDefault=!0);break;case"Enter":n.closeMenu();break;case"Escape":n.isOpen||this.exprInputRef.current.blur()}}}),{value:t})),l.a.createElement(G.a,{addonType:"append"},l.a.createElement(S.a,{className:"metrics-explorer-btn",title:"Open metrics explorer",onClick:this.openMetricsExplorer},l.a.createElement(C.a,{icon:T.j}))),l.a.createElement(G.a,{addonType:"append"},l.a.createElement(S.a,{className:"execute-btn",color:"primary",onClick:e},"Execute"))),n.isOpen&&this.createAutocompleteSection(n))),l.a.createElement(re,{show:this.state.showMetricsExplorer,updateShow:this.updateShowMetricsExplorer,metrics:this.props.metricNames,insertAtCursor:this.insertAtCursor}))}}var se=ie,ce=a(6),me=a(3),ue=a(13),he=a(81),pe=a(84),de=a(34),ge=a(82),fe=a(83),xe=a(133),be=a(59),Ee=a(139),ye=a(28),ve=a(15);const ke=ce.c.theme({"&":{"&.cm-focused":{outline:"none",outline_fallback:"none"}},".cm-scroller":{overflow:"hidden",fontFamily:'"DejaVu Sans Mono", monospace'},".cm-placeholder":{fontFamily:'-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"'},".cm-matchingBracket":{color:"#000",backgroundColor:"#dedede",fontWeight:"bold",outline:"1px dashed transparent"},".cm-nonmatchingBracket":{borderColor:"red"},".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{maxHeight:"350px",fontFamily:'"DejaVu Sans Mono", monospace',maxWidth:"unset"},"& > ul > li":{padding:"2px 1em 2px 3px"},minWidth:"30%"},".cm-completionDetail":{float:"right",color:"#999"},".cm-tooltip.cm-completionInfo":{marginTop:"-11px",padding:"10px",fontFamily:"'Open Sans', 'Lucida Sans Unicode', 'Lucida Grande', sans-serif;",border:"none",minWidth:"250px",maxWidth:"min-content"},".cm-completionInfo.cm-completionInfo-right":{"&:before":{content:"' '",height:"0",position:"absolute",width:"0",left:"-20px",borderWidth:"10px",borderStyle:"solid",borderColor:"transparent"},marginLeft:"12px"},".cm-completionInfo.cm-completionInfo-left":{"&:before":{content:"' '",height:"0",position:"absolute",width:"0",right:"-20px",borderWidth:"10px",borderStyle:"solid",borderColor:"transparent"},marginRight:"12px"},".cm-completionMatchedText":{textDecoration:"none",fontWeight:"bold",color:"#0066bf"},".cm-selectionMatch":{backgroundColor:"#e6f3ff"},".cm-diagnostic":{"&.cm-diagnostic-error":{borderLeft:"3px solid #e65013"}},".cm-completionIcon":{boxSizing:"content-box",fontSize:"16px",lineHeight:"1",marginRight:"10px",verticalAlign:"top","&:after":{content:"'\\ea88'"},fontFamily:"codicon",paddingRight:"0",opacity:"1",color:"#007acc"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\\ea8c'"},color:"#652d90"},".cm-completionIcon-class":{"&:after":{content:"'\u25cb'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25cc'"}},".cm-completionIcon-variable":{"&:after":{content:"'\ud835\udc65'"}},".cm-completionIcon-constant":{"&:after":{content:"'\\eb5f'"},color:"#007acc"},".cm-completionIcon-type":{"&:after":{content:"'\ud835\udc61'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222a'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25a1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\\eb62'"},color:"#616161"},".cm-completionIcon-namespace":{"&:after":{content:"'\u25a2'"}},".cm-completionIcon-text":{"&:after":{content:"'\\ea95'"},color:"#ee9d28"}}),we=ce.c.theme({".cm-tooltip":{backgroundColor:"#f8f8f8",borderColor:"rgba(52, 79, 113, 0.2)"},".cm-tooltip.cm-tooltip-autocomplete":{"& li:hover":{backgroundColor:"#ddd"},"& > ul > li[aria-selected]":{backgroundColor:"#d6ebff",color:"unset"}},".cm-tooltip.cm-completionInfo":{backgroundColor:"#d6ebff"},".cm-tooltip > .cm-completionInfo.cm-completionInfo-right":{"&:before":{borderRightColor:"#d6ebff"}},".cm-tooltip > .cm-completionInfo.cm-completionInfo-left":{"&:before":{borderLeftColor:"#d6ebff"}},".cm-line":{"&::selection":{backgroundColor:"#add6ff"},"& > span::selection":{backgroundColor:"#add6ff"}}},{dark:!1}),Se=ce.c.theme({".cm-content":{caretColor:"#fff"},".cm-tooltip.cm-completionInfo":{backgroundColor:"#333338"},".cm-tooltip > .cm-completionInfo.cm-completionInfo-right":{"&:before":{borderRightColor:"#333338"}},".cm-tooltip > .cm-completionInfo.cm-completionInfo-left":{"&:before":{borderLeftColor:"#333338"}},".cm-line":{"&::selection":{backgroundColor:"#767676"},"& > span::selection":{backgroundColor:"#767676"}}},{dark:!0}),Ce=ve.a.define([{tag:ve.c.name,color:"#000"},{tag:ve.c.number,color:"#09885a"},{tag:ve.c.string,color:"#a31515"},{tag:ve.c.keyword,color:"#008080"},{tag:ve.c.function(ve.c.variableName),color:"#008080"},{tag:ve.c.labelName,color:"#800000"},{tag:ve.c.operator},{tag:ve.c.modifier,color:"#008080"},{tag:ve.c.paren},{tag:ve.c.squareBracket},{tag:ve.c.brace},{tag:ve.c.invalid,color:"red"},{tag:ve.c.comment,color:"#888",fontStyle:"italic"}]);var Te=a(132);const Me=new Ee.a,Ne=new me.e;class Oe{constructor(e,t){this.complete=void 0,this.queryHistory=void 0,this.complete=e,this.queryHistory=t}promQL(e){return Promise.resolve(this.complete.promQL(e)).then(t=>{const{state:a,pos:n}=e,r=Object(ue.syntaxTree)(a).resolve(n,-1),o=null!=t?t.from:r.from;if(0!==o)return t;const l={from:o,to:n,options:this.queryHistory.map(e=>({label:e.length<80?e:e.slice(0,76).concat("..."),detail:"past query",apply:e,info:e.length<80?void 0:e})),span:/^[a-zA-Z0-9_:]+$/};return null!==t&&(l.options=l.options.concat(t.options)),l})}}var Le=e=>{let{value:t,onExpressionChange:a,queryHistory:n,metricNames:r,executeQuery:i,loading:s,enableAutocomplete:c,enableHighlighting:m,enableLinter:u}=e;const h=Object(o.useRef)(null),p=Object(o.useRef)(null),[d,g]=Object(o.useState)(!1),f=v(),{theme:x}=N();Object(o.useEffect)(()=>{Me.activateCompletion(c).activateLinter(u).setComplete({completeStrategy:new Oe(Object(Te.newCompleteStrategy)({remote:{url:f,cache:{initialMetricList:r}}}),n)});const e=[m?Ce:[],Me.asExtension(),"dark"===x?Se:we],o=p.current;if(null===o){if(!h.current)throw new Error("expected CodeMirror container element to exist");const n=me.g.create({doc:t,extensions:[ke,Object(ce.g)(),Object(he.a)(),me.g.allowMultipleSelections.of(!0),Object(ue.indentOnInput)(),Object(de.a)(),Object(ge.a)(),Object(ye.autocompletion)(),Object(fe.a)(),ce.c.lineWrapping,ce.h.of([...ge.b,...pe.a,...fe.b,...he.b,...xe.a,...ye.completionKeymap,...be.a]),Object(ce.j)("Expression (press Shift+Enter for newlines)"),Ne.of(e),ce.h.of([{key:"Escape",run:e=>(e.contentDOM.blur(),!1)}]),me.j.override(ce.h.of([{key:"Enter",run:e=>(i(),!0)},{key:"Shift-Enter",run:pe.b}])),ce.c.updateListener.of(e=>{a(e.state.doc.toString())})]}),r=new ce.c({state:n,parent:h.current});p.current=r,r.focus()}else o.dispatch(o.state.update({effects:Ne.reconfigure(e)}))},[c,m,u,i,a,n,x]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(Q.a,{className:"expression-input"},l.a.createElement(G.a,{addonType:"prepend"},l.a.createElement($.a,null,s?l.a.createElement(C.a,{icon:T.r,spin:!0}):l.a.createElement(C.a,{icon:T.n}))),l.a.createElement("div",{ref:h,className:"cm-expression-input"}),l.a.createElement(G.a,{addonType:"append"},l.a.createElement(S.a,{className:"metrics-explorer-btn",title:"Open metrics explorer",onClick:()=>g(!0)},l.a.createElement(C.a,{icon:T.j})),l.a.createElement(S.a,{className:"execute-btn",color:"primary",onClick:i},"Execute"))),l.a.createElement(re,{show:d,updateShow:g,metrics:r,insertAtCursor:e=>{const t=p.current;if(null===t)return;const{from:a,to:n}=t.state.selection.ranges[0];t.dispatch(t.state.update({changes:{from:a,to:n,insert:e}}))}}))},Ie=(a(219),a(220),a(221),a(38));Ie.c.add(T.h,T.i,T.d,T.c,T.b,T.t),Ie.a.watch();class _e extends o.Component{constructor(){super(...arguments),this.timeInputRef=l.a.createRef(),this.$time=null,this.getBaseTime=()=>this.props.time||q()().valueOf(),this.calcShiftRange=()=>this.props.range/2,this.increaseTime=()=>{const e=this.getBaseTime()+this.calcShiftRange();this.props.onChangeTime(e)},this.decreaseTime=()=>{const e=this.getBaseTime()-this.calcShiftRange();this.props.onChangeTime(e)},this.clearTime=()=>{this.props.onChangeTime(null)},this.timezone=()=>this.props.useLocalTime?q.a.tz.guess():"UTC"}componentDidMount(){this.$time=r()(this.timeInputRef.current),this.$time.datetimepicker({icons:{today:"fas fa-calendar-check"},buttons:{showClose:!0,showToday:!0},sideBySide:!0,format:"YYYY-MM-DD HH:mm:ss",locale:"en",timeZone:this.timezone(),defaultDate:this.props.time}),this.$time.on("change.datetimepicker",e=>{var t;e.date&&e.date.valueOf()!==Math.trunc(null===(t=this.props.time)||void 0===t?void 0:t.valueOf())&&this.props.onChangeTime(e.date.valueOf())})}componentWillUnmount(){this.$time.datetimepicker("destroy")}componentDidUpdate(e){const{time:t,useLocalTime:a}=this.props;e.time!==t&&this.$time.datetimepicker("date",t?q()(t):null),e.useLocalTime!==a&&this.$time.datetimepicker("options",{timeZone:this.timezone(),defaultDate:null})}render(){return l.a.createElement(Q.a,{className:"time-input",size:"sm"},l.a.createElement(G.a,{addonType:"prepend"},l.a.createElement(S.a,{title:"Decrease time",onClick:this.decreaseTime},l.a.createElement(C.a,{icon:T.h,fixedWidth:!0}))),l.a.createElement(K.a,{placeholder:this.props.placeholder,innerRef:this.timeInputRef,onFocus:()=>this.$time.datetimepicker("show"),onBlur:()=>this.$time.datetimepicker("hide"),onKeyDown:e=>["Escape","Enter"].includes(e.key)&&this.$time.datetimepicker("hide")}),this.props.time&&l.a.createElement(G.a,{addonType:"append"},l.a.createElement(S.a,{outline:!0,className:"clear-time-btn",title:"Clear time",onClick:this.clearTime},l.a.createElement(C.a,{icon:T.t,fixedWidth:!0}))),l.a.createElement(G.a,{addonType:"append"},l.a.createElement(S.a,{title:"Increase time",onClick:this.increaseTime},l.a.createElement(C.a,{icon:T.i,fixedWidth:!0}))))}}var Re=_e;class ze extends o.Component{constructor(){super(...arguments),this.rangeRef=l.a.createRef(),this.resolutionRef=l.a.createRef(),this.rangeSteps=[1,10,60,300,900,1800,3600,7200,21600,43200,86400,172800,604800,1209600,2419200,4838400,9676800,15724800,31536e3,63072e3].map(e=>1e3*e),this.onChangeRangeInput=e=>{const t=ct(e);null===t?this.changeRangeInput(this.props.range):this.props.onChangeRange(t)},this.changeRangeInput=e=>{this.rangeRef.current.value=mt(e)},this.increaseRange=()=>{for(const e of this.rangeSteps)if(this.props.range<e)return this.changeRangeInput(e),void this.props.onChangeRange(e)},this.decreaseRange=()=>{for(const e of this.rangeSteps.slice().reverse())if(this.props.range>e)return this.changeRangeInput(e),void this.props.onChangeRange(e)}}componentDidUpdate(e){e.range!==this.props.range&&this.changeRangeInput(this.props.range),e.resolution!==this.props.resolution&&(this.resolutionRef.current.value=null!==this.props.resolution?this.props.resolution.toString():"")}render(){return l.a.createElement(k.a,{inline:!0,className:"graph-controls",onSubmit:e=>e.preventDefault()},l.a.createElement(Q.a,{className:"range-input",size:"sm"},l.a.createElement(G.a,{addonType:"prepend"},l.a.createElement(S.a,{title:"Decrease range",onClick:this.decreaseRange},l.a.createElement(C.a,{icon:T.k,fixedWidth:!0}))),l.a.createElement(K.a,{defaultValue:mt(this.props.range),innerRef:this.rangeRef,onBlur:()=>this.onChangeRangeInput(this.rangeRef.current.value),onKeyDown:e=>"Enter"===e.key&&this.onChangeRangeInput(this.rangeRef.current.value)}),l.a.createElement(G.a,{addonType:"append"},l.a.createElement(S.a,{title:"Increase range",onClick:this.increaseRange},l.a.createElement(C.a,{icon:T.m,fixedWidth:!0})))),l.a.createElement(Re,{time:this.props.endTime,useLocalTime:this.props.useLocalTime,range:this.props.range,placeholder:"End time",onChangeTime:this.props.onChangeEndTime}),l.a.createElement(K.a,{placeholder:"Res. (s)",className:"resolution-input",defaultValue:null!==this.props.resolution?this.props.resolution.toString():"",innerRef:this.resolutionRef,onBlur:()=>{const e=parseInt(this.resolutionRef.current.value);this.props.onChangeResolution(e||null)},bsSize:"sm"}),l.a.createElement(w.a,{className:"stacked-input",size:"sm"},l.a.createElement(S.a,{title:"Show unstacked line graph",onClick:()=>this.props.onChangeStacking(!1),active:!this.props.stacked},l.a.createElement(C.a,{icon:T.f,fixedWidth:!0})),l.a.createElement(S.a,{title:"Show stacked graph",onClick:()=>this.props.onChangeStacking(!0),active:this.props.stacked},l.a.createElement(C.a,{icon:T.e,fixedWidth:!0}))),l.a.createElement(w.a,{className:"show-exemplars",size:"sm"},this.props.showExemplars?l.a.createElement(S.a,{title:"Hide exemplars",onClick:()=>this.props.onChangeShowExemplars(!1),active:!0},"Hide Exemplars"):l.a.createElement(S.a,{title:"Show exemplars",onClick:()=>this.props.onChangeShowExemplars(!0),active:!1},"Show Exemplars")))}}var De=ze,Fe=a(140);var Pe=e=>{let{labels:t,format:a}=e;return null===t?l.a.createElement(l.a.Fragment,null,"scalar"):a?(()=>{const e=[];let a=!0;for(const n in t)"__name__"!==n&&(e.push(l.a.createElement("span",{key:n},!a&&", ",l.a.createElement("span",{className:"legend-label-name"},n),"=",l.a.createElement("span",{className:"legend-label-value"},'"',t[n],'"'))),a&&(a=!1));return l.a.createElement("div",null,l.a.createElement("span",{className:"legend-metric-name"},t.__name__||""),l.a.createElement("span",{className:"legend-label-brace"},"{"),e,l.a.createElement("span",{className:"legend-label-brace"},"}"))})():l.a.createElement(l.a.Fragment,null,st(t))};class je extends o.PureComponent{constructor(){super(...arguments),this.state={selectedIndexes:[]},this.handleSeriesSelect=e=>t=>{const{selectedIndexes:a}=this.state;let n=[e];if(t.ctrlKey||t.metaKey){const{chartData:t}=this.props;n=a.includes(e)?a.filter(t=>t!==e):0===a.length?t.reduce((t,a,n)=>n===e?t:[...t,n],[]):[...a,e]}else 1===a.length&&a.includes(e)&&(n=[]);this.setState({selectedIndexes:n}),this.props.onSeriesToggle(n,e)}}componentDidUpdate(e){this.props.shouldReset&&e.shouldReset!==this.props.shouldReset&&this.setState({selectedIndexes:[]})}render(){const{chartData:e,onLegendMouseOut:t,onHover:a}=this.props,{selectedIndexes:n}=this.state,r=e.length>1&&0===n.length;return l.a.createElement("div",{className:"graph-legend",onMouseOut:r?t:void 0},e.map(t=>{let{index:o,color:i,labels:s}=t;return l.a.createElement("div",{style:{opacity:0===n.length||n.includes(o)?1:.5},onClick:e.length>1?this.handleSeriesSelect(o):void 0,onMouseOver:r?a(o):void 0,key:o,className:"legend-item"},l.a.createElement("span",{className:"legend-swatch",style:{backgroundColor:i}}),l.a.createElement(Pe,{labels:s,format:!0}))}),e.length>1&&l.a.createElement("div",{className:"pl-1 mt-1 text-muted",style:{fontSize:13}},"Click: select series, ",navigator.platform.includes("Mac")?"CMD":"CTRL"," + click: toggle multiple series"))}}const Ae=e=>{if(null===e)return"null";const t=Math.abs(e);if(t>=1e24)return(e/1e24).toFixed(2)+"Y";if(t>=1e21)return(e/1e21).toFixed(2)+"Z";if(t>=1e18)return(e/1e18).toFixed(2)+"E";if(t>=1e15)return(e/1e15).toFixed(2)+"P";if(t>=1e12)return(e/1e12).toFixed(2)+"T";if(t>=1e9)return(e/1e9).toFixed(2)+"G";if(t>=1e6)return(e/1e6).toFixed(2)+"M";if(t>=1e3)return(e/1e3).toFixed(2)+"k";if(t>=1)return e.toFixed(2);if(0===t)return e.toFixed(2);if(t<1e-23)return(e/1e-24).toFixed(2)+"y";if(t<1e-20)return(e/1e-21).toFixed(2)+"z";if(t<1e-17)return(e/1e-18).toFixed(2)+"a";if(t<1e-14)return(e/1e-15).toFixed(2)+"f";if(t<1e-11)return(e/1e-12).toFixed(2)+"p";if(t<1e-8)return(e/1e-9).toFixed(2)+"n";if(t<1e-5)return(e/1e-6).toFixed(2)+"\xb5";if(t<.01)return(e/.001).toFixed(2)+"m";if(t<=1)return e.toFixed(2);throw Error("couldn't format a value, this is a bug")},We=(e,t,a)=>{const{r:n,g:o,b:l}=r.a.color.parse(e);if(!a)return"rgba(".concat(n,", ").concat(o,", ").concat(l,", ").concat(t,")");const i=255*(1-t);return"rgb(".concat(Math.round(i+t*n),",").concat(Math.round(i+t*o),",").concat(Math.round(i+t*l),")")},He=(e,t)=>(a,n)=>({...a,color:We(a.color,n!==e?.3:1,t)}),qe=(e,t)=>({grid:{hoverable:!0,clickable:!0,autoHighlight:!0,mouseActiveRadius:100},legend:{show:!1},xaxis:{mode:"time",showTicks:!0,showMinorTicks:!0,timeBase:"milliseconds",timezone:t?"browser":void 0},yaxis:{tickFormatter:Ae},crosshair:{mode:"xy",color:"#bbb"},tooltip:{show:!0,cssClass:"graph-tooltip",content:(e,a,n,r)=>{let{series:o}=r;const l=o,{labels:i,color:s}=l;let c=q()(a);t||(c=c.utc());const m=e=>'\n            <div class="labels">\n              '.concat(0===Object.keys(e).length?'<div class="mb-1 font-italic">no labels</div>':"","\n              ").concat(e.__name__?'<div class="mb-1"><strong>'.concat(e.__name__,"</strong></div>"):"","\n              ").concat(Object.keys(e).filter(e=>"__name__"!==e).map(t=>'<div class="mb-1"><strong>'.concat(t,"</strong>: ").concat(it(e[t]),"</div>")).join(""),"\n            </div>");return'\n            <div class="date">'.concat(c.format("YYYY-MM-DD HH:mm:ss Z"),'</div>\n            <div>\n              <span class="detail-swatch" style="background-color: ').concat(s,'"></span>\n              <span>').concat(i.__name__||"value",": <strong>").concat(n,'</strong></span>\n            </div>\n            <div class="mt-2 mb-1 font-weight-bold">').concat("seriesLabels"in l?"Trace exemplar:":"Series:","</div>\n            ").concat(m(i),"\n            ").concat("seriesLabels"in l?'\n            <div class="mt-2 mb-1 font-weight-bold">Associated series:</div>'.concat(m(l.seriesLabels),"\n"):"","\n          ").trimEnd()},defaultTheme:!1,lines:!0},series:{stack:!1,lines:{lineWidth:e?1:2,steps:!1,fill:e},shadowSize:0},selection:{mode:"x"}}),Ue=e=>{let{queryParams:t,data:a,exemplars:n,stacked:o}=e;const l=(e=>{const t=["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],a=t.length;let n=0;return e.result.map((e,o)=>(o%a===0&&o&&(n=n>=0?n<.5?-n-.2:0:-n),r.a.color.parse(t[o%a]||"#666").scale("rgb",1+n)))})(a),{startTime:i,endTime:s,resolution:c}=t;let m=0;const u=[],h={};for(const r of n||[])for(const{labels:e,value:t,timestamp:a}of r.exemplars){const n=Be(t)||0;m+=n,u.push(n);const o=1e3*Math.floor(a/((s-i)/60)*.8);h[o]||(h[o]=[]),h[o].push({seriesLabels:r.seriesLabels,labels:e,data:[[1e3*a,n]],points:{symbol:Ve},color:"#0275d8"})}const p=Ye(m,u);return{series:a.result.map((e,t)=>{let{values:a,metric:n}=e;const r=[];let m=0;for(let o=i;o<=s;o+=c){const e=a[m];a.length>m&&e[0]<o+c/100?(r.push([1e3*e[0],Be(e[1])]),m++):r.push([1e3*o,null])}return{labels:null!==n?n:{},color:l[t].toString(),stack:o,data:r,index:t}}),exemplars:Object.values(h).flatMap(e=>1===e.length?e[0]:e.sort((e,t)=>Qe(t)-Qe(e)).reduce((e,t)=>{if(0===e.length)e.push(t);else{const a=e[e.length-1];Qe(a)-Qe(t)>=2*p&&e.push(t)}return e},[]))}},Be=e=>{const t=parseFloat(e);return isNaN(t)?null:t},Ve=(e,t,a)=>{a-=3.5,t>e.canvas.clientWidth-59&&(t=e.canvas.clientWidth-59),a>e.canvas.clientHeight-40&&(a=e.canvas.clientHeight-40),e.translate(t,a),e.rotate(Math.PI/4),e.translate(-t,-a),e.fillStyle="#92bce1",e.fillRect(t,a,7,7),e.strokeStyle="#0275d8",e.lineWidth=1,e.strokeRect(t,a,7,7)},Ye=(e,t)=>{const a=e/t.length;let n=0;return t.map(e=>n+=(e-a)**2),n/=t.length,Math.sqrt(n)},Qe=e=>e.data[0][1];a(222),a(223),a(224),a(225),a(226),a(227);class Ge extends o.PureComponent{constructor(){var e;super(...arguments),e=this,this.chartRef=l.a.createRef(),this.$chart=void 0,this.rafID=0,this.selectedSeriesIndexes=[],this.state={chartData:Ue(this.props),selectedExemplarLabels:{exemplar:{},series:{}}},this.plot=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[...e.state.chartData.series,...e.state.chartData.exemplars];e.chartRef.current&&(e.destroyPlot(),e.$chart=r.a.plot(r()(e.chartRef.current),t,qe(e.props.stacked,e.props.useLocalTime)))},this.destroyPlot=()=>{lt(this.$chart)&&this.$chart.destroy()},this.handleSeriesSelect=(e,t)=>{const{chartData:a}=this.state;this.plot(1===this.selectedSeriesIndexes.length&&this.selectedSeriesIndexes.includes(t)?[...a.series.map(He(t,this.props.stacked)),...a.exemplars]:[...a.series.filter((t,a)=>e.includes(a)),...a.exemplars.filter(t=>{e:for(const n in e){for(const r in a.series[e[n]].labels)if(t.seriesLabels[r]!==a.series[e[n]].labels[r])continue e;return!0}return!1})]),this.selectedSeriesIndexes=e},this.handleSeriesHover=e=>()=>{this.rafID&&cancelAnimationFrame(this.rafID),this.rafID=requestAnimationFrame(()=>{this.plotSetAndDraw([...this.state.chartData.series.map(He(e,this.props.stacked)),...this.state.chartData.exemplars])})},this.handleLegendMouseOut=()=>{cancelAnimationFrame(this.rafID),this.plotSetAndDraw()},this.handleResize=()=>{lt(this.$chart)&&this.plot(this.$chart.getData())}}componentDidUpdate(e){const{data:t,stacked:a,useLocalTime:n,showExemplars:r}=this.props;e.data!==t?(this.selectedSeriesIndexes=[],this.setState({chartData:Ue(this.props)},this.plot)):e.stacked!==a&&this.setState({chartData:Ue(this.props)},()=>{0===this.selectedSeriesIndexes.length?this.plot():this.plot([...this.state.chartData.series.filter((e,t)=>this.selectedSeriesIndexes.includes(t)),...this.state.chartData.exemplars])}),e.useLocalTime!==n&&this.plot(),e.showExemplars===r||r||this.setState({chartData:{series:this.state.chartData.series,exemplars:[]},selectedExemplarLabels:{exemplar:{},series:{}}},()=>{this.plot()})}componentDidMount(){this.plot(),r()(".graph-".concat(this.props.id)).bind("plotclick",(e,t,a)=>{a&&"seriesLabels"in a.series?this.setState({selectedExemplarLabels:{exemplar:a.series.labels,series:a.series.seriesLabels},chartData:this.state.chartData}):this.setState({chartData:this.state.chartData,selectedExemplarLabels:{exemplar:{},series:{}}})}),r()(".graph-".concat(this.props.id)).bind("plotselected",(e,t)=>{lt(this.$chart)&&(this.$chart.clearSelection(),this.props.handleTimeRangeSelection(t.xaxis.from,t.xaxis.to))})}componentWillUnmount(){this.destroyPlot()}plotSetAndDraw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[...this.state.chartData.series,...this.state.chartData.exemplars];lt(this.$chart)&&(this.$chart.setData(e),this.$chart.draw())}render(){const{chartData:e,selectedExemplarLabels:t}=this.state,a=t;return l.a.createElement("div",{className:"graph-".concat(this.props.id)},l.a.createElement(Fe.a,{handleWidth:!0,onResize:this.handleResize,skipOnMount:!0}),l.a.createElement("div",{className:"graph-chart",ref:this.chartRef}),Object.keys(a.exemplar).length>0?l.a.createElement("div",{className:"graph-selected-exemplar"},l.a.createElement("div",{className:"font-weight-bold"},"Selected exemplar labels:"),l.a.createElement("div",{className:"labels mt-1 ml-3"},Object.keys(a.exemplar).map((e,t)=>l.a.createElement("div",{key:t},l.a.createElement("strong",null,e),": ",a.exemplar[e]))),l.a.createElement("div",{className:"font-weight-bold mt-3"},"Associated series labels:"),l.a.createElement("div",{className:"labels mt-1 ml-3"},Object.keys(a.series).map((e,t)=>l.a.createElement("div",{key:t},l.a.createElement("strong",null,e),": ",a.series[e]))),l.a.createElement(S.a,{size:"small",color:"light",style:{position:"absolute",top:5,right:5},title:"Hide selected exemplar details",onClick:()=>this.setState({chartData:this.state.chartData,selectedExemplarLabels:{exemplar:{},series:{}}})},l.a.createElement(C.a,{icon:T.t}))):null,l.a.createElement(je,{shouldReset:0===this.selectedSeriesIndexes.length,chartData:e.series,onHover:this.handleSeriesHover,onLegendMouseOut:this.handleLegendMouseOut,onSeriesToggle:this.handleSeriesSelect}),l.a.createElement("br",{style:{clear:"both"}}))}}var $e=Ge;const Ke=e=>{let{data:t,exemplars:a,stacked:n,useLocalTime:r,lastQueryParams:o,showExemplars:i,handleTimeRangeSelection:s,id:c}=e;return lt(t)?0===t.result.length?l.a.createElement(P.a,{color:"secondary"},"Empty query result"):"matrix"!==t.resultType?l.a.createElement(P.a,{color:"danger"},"Query result is of wrong type '",t.resultType,"', should be 'matrix' (range vector)."):l.a.createElement($e,{data:t,exemplars:a,stacked:n,useLocalTime:r,showExemplars:i,handleTimeRangeSelection:s,queryParams:o,id:c}):l.a.createElement(P.a,{color:"light"},"No data queried yet")},Je=e=>e.length>1e4?e.slice(0,1e4):e;var Xe=e=>{let{data:t}=e;if(null===t)return l.a.createElement(P.a,{color:"light"},"No data queried yet");if(null===t.result||0===t.result.length)return l.a.createElement(P.a,{color:"secondary"},"Empty query result");let a=[],n=!1;const r=t.result.length<=1e3;switch(t.resultType){case"vector":a=Je(t.result).map((e,t)=>l.a.createElement("tr",{key:t},l.a.createElement("td",null,l.a.createElement(Pe,{labels:e.metric,format:r})),l.a.createElement("td",null,e.value[1]))),n=a.length!==t.result.length;break;case"matrix":a=Je(t.result).map((e,t)=>{const a=e.values.map(e=>e[1]+" @"+e[0]).join("\n");return l.a.createElement("tr",{style:{whiteSpace:"pre"},key:t},l.a.createElement("td",null,l.a.createElement(Pe,{labels:e.metric,format:r})),l.a.createElement("td",null,a))}),n=a.length!==t.result.length;break;case"scalar":a.push(l.a.createElement("tr",{key:"0"},l.a.createElement("td",null,"scalar"),l.a.createElement("td",null,t.result[1])));break;case"string":a.push(l.a.createElement("tr",{key:"0"},l.a.createElement("td",null,"string"),l.a.createElement("td",null,t.result[1])));break;default:return l.a.createElement(P.a,{color:"danger"},"Unsupported result value type")}return l.a.createElement(l.a.Fragment,null,n&&l.a.createElement(P.a,{color:"danger"},l.a.createElement("strong",null,"Warning:")," Fetched ",t.result.length," metrics, only displaying first ",a.length,"."),!r&&l.a.createElement(P.a,{color:"secondary"},l.a.createElement("strong",null,"Notice:")," Showing more than ",1e3," series, turning off label formatting for performance reasons."),l.a.createElement(W.a,{hover:!0,size:"sm",className:"data-table"},l.a.createElement("tbody",null,a)))};var Ze=e=>{const{loadTime:t,resolution:a,resultSeries:n}=e;return l.a.createElement("div",{className:"query-stats"},l.a.createElement("span",{className:"float-right"},"Load time: ",t,"ms \u2002 Resolution: ",a,"s \u2002 Result series: ",n))};let et;!function(e){e.Graph="graph",e.Table="table"}(et||(et={}));const tt={type:et.Table,expr:"",range:36e5,endTime:null,resolution:null,stacked:!1,showExemplars:!1};class at extends o.Component{constructor(e){super(e),this.abortInFlightFetch=null,this.executeQuery=async()=>{const{exprInputValue:e}=this.state,t=Date.now();if(this.props.onExecuteQuery(e),this.props.options.expr!==e&&this.setOptions({expr:e}),""===e)return;this.abortInFlightFetch&&(this.abortInFlightFetch(),this.abortInFlightFetch=null);const a=new AbortController;this.abortInFlightFetch=()=>a.abort(),this.setState({loading:!0});const n=this.getEndTime().valueOf()/1e3,r=n-this.props.options.range/1e3,o=this.props.options.resolution||Math.max(Math.floor(this.props.options.range/25e4),1),l=new URLSearchParams({query:e});let i,s,c;switch(this.props.options.type){case"graph":i="query_range",l.append("start",r.toString()),l.append("end",n.toString()),l.append("step",o.toString());break;case"table":i="query",l.append("time",n.toString());break;default:throw new Error('Invalid panel type "'+this.props.options.type+'"')}try{var m;if(s=await fetch("".concat(this.props.pathPrefix,"/").concat("api/v1","/").concat(i,"?").concat(l),{cache:"no-store",credentials:"same-origin",signal:a.signal}).then(e=>e.json()),"success"!==s.status)throw new Error(s.error||"invalid response JSON");if("graph"===this.props.options.type&&this.props.options.showExemplars&&(l.delete("step"),c=await fetch("".concat(this.props.pathPrefix,"/").concat("api/v1","/query_exemplars?").concat(l),{cache:"no-store",credentials:"same-origin",signal:a.signal}).then(e=>e.json()),"success"!==c.status))throw new Error(c.error||"invalid response JSON");let e=0;if(s.data){const{resultType:t,result:a}=s.data;"scalar"===t?e=1:a&&a.length>0&&(e=a.length)}this.setState({error:null,data:s.data,exemplars:null===(m=c)||void 0===m?void 0:m.data,warnings:s.warnings,lastQueryParams:{startTime:r,endTime:n,resolution:o},stats:{loadTime:Date.now()-t,resolution:o,resultSeries:e},loading:!1}),this.abortInFlightFetch=null}catch(u){if("AbortError"===u.name)return;this.setState({error:"Error executing query: "+u.message,loading:!1})}},this.handleExpressionChange=e=>{this.setState({exprInputValue:e})},this.handleChangeRange=e=>{this.setOptions({range:e})},this.getEndTime=()=>null===this.props.options.endTime?q()():this.props.options.endTime,this.handleChangeEndTime=e=>{this.setOptions({endTime:e})},this.handleChangeResolution=e=>{this.setOptions({resolution:e})},this.handleChangeType=e=>{this.props.options.type!==e&&(this.setState({data:null}),this.setOptions({type:e}))},this.handleChangeStacking=e=>{this.setOptions({stacked:e})},this.handleChangeShowExemplars=e=>{this.setOptions({showExemplars:e})},this.handleTimeRangeSelection=(e,t)=>{this.setOptions({range:t-e,endTime:t})},this.state={data:null,exemplars:[],lastQueryParams:null,loading:!1,warnings:null,error:null,stats:null,exprInputValue:e.options.expr}}componentDidUpdate(e){let{options:t}=e;const{endTime:a,range:n,resolution:r,showExemplars:o,type:l}=this.props.options;t.endTime===a&&t.range===n&&t.resolution===r&&t.type===l&&o===t.showExemplars||this.executeQuery()}componentDidMount(){this.executeQuery()}setOptions(e){const t={...this.props.options,...e};this.props.onOptionsChanged(t)}render(){var e;const{pastQueries:t,metricNames:a,options:n}=this.props;return l.a.createElement("div",{className:"panel"},l.a.createElement(U.a,null,l.a.createElement(B.a,null,this.props.useExperimentalEditor?l.a.createElement(Le,{value:this.state.exprInputValue,onExpressionChange:this.handleExpressionChange,executeQuery:this.executeQuery,loading:this.state.loading,enableAutocomplete:this.props.enableAutocomplete,enableHighlighting:this.props.enableHighlighting,enableLinter:this.props.enableLinter,queryHistory:t,metricNames:a}):l.a.createElement(se,{value:this.state.exprInputValue,onExpressionChange:this.handleExpressionChange,executeQuery:this.executeQuery,loading:this.state.loading,enableAutocomplete:this.props.enableAutocomplete,queryHistory:t,metricNames:a}))),l.a.createElement(U.a,null,l.a.createElement(B.a,null,this.state.error&&l.a.createElement(P.a,{color:"danger"},this.state.error))),null===(e=this.state.warnings)||void 0===e?void 0:e.map((e,t)=>l.a.createElement(U.a,{key:t},l.a.createElement(B.a,null,e&&l.a.createElement(P.a,{color:"warning"},e)))),l.a.createElement(U.a,null,l.a.createElement(B.a,null,l.a.createElement(p.a,{tabs:!0},l.a.createElement(d.a,null,l.a.createElement(g.a,{className:"table"===n.type?"active":"",onClick:()=>this.handleChangeType(et.Table)},"Table")),l.a.createElement(d.a,null,l.a.createElement(g.a,{className:"graph"===n.type?"active":"",onClick:()=>this.handleChangeType(et.Graph)},"Graph")),!this.state.loading&&!this.state.error&&this.state.stats&&l.a.createElement(Ze,this.state.stats)),l.a.createElement(V.a,{activeTab:n.type},l.a.createElement(Y.a,{tabId:"table"},"table"===n.type&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"table-controls"},l.a.createElement(Re,{time:n.endTime,useLocalTime:this.props.useLocalTime,range:n.range,placeholder:"Evaluation time",onChangeTime:this.handleChangeEndTime})),l.a.createElement(Xe,{data:this.state.data}))),l.a.createElement(Y.a,{tabId:"graph"},"graph"===this.props.options.type&&l.a.createElement(l.a.Fragment,null,l.a.createElement(De,{range:n.range,endTime:n.endTime,useLocalTime:this.props.useLocalTime,resolution:n.resolution,stacked:n.stacked,showExemplars:n.showExemplars,onChangeRange:this.handleChangeRange,onChangeEndTime:this.handleChangeEndTime,onChangeResolution:this.handleChangeResolution,onChangeStacking:this.handleChangeStacking,onChangeShowExemplars:this.handleChangeShowExemplars}),l.a.createElement(Ke,{data:this.state.data,exemplars:this.state.exemplars,stacked:n.stacked,useLocalTime:this.props.useLocalTime,showExemplars:n.showExemplars,lastQueryParams:this.state.lastQueryParams,id:this.props.id,handleTimeRangeSelection:this.handleTimeRangeSelection})))))),l.a.createElement(U.a,null,l.a.createElement(B.a,null,l.a.createElement(S.a,{className:"float-right",color:"link",onClick:this.props.removePanel,size:"sm"},"Remove Panel"))))}}var nt=at;const rt=()=>"_".concat(Math.random().toString(36).substr(2,9)),ot=e=>e.length>0,lt=e=>null!==e&&void 0!==e,it=e=>{const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return String(e).replace(/[&<>"'/]/g,(function(e){return t[e]}))},st=e=>{if(null===e)return"scalar";let t=(e.__name__||"")+"{";const a=[];for(const n in e)"__name__"!==n&&a.push(n+'="'+e[n]+'"');return t+=a.join(", ")+"}",t},ct=e=>{if(""===e)return null;if("0"===e)return 0;const t=new RegExp("^(([0-9]+)y)?(([0-9]+)w)?(([0-9]+)d)?(([0-9]+)h)?(([0-9]+)m)?(([0-9]+)s)?(([0-9]+)ms)?$"),a=e.match(t);if(!a)return null;let n=0;const r=(e,t)=>{if(void 0===a[e])return;const r=parseInt(a[e]);n+=r*t};return r(2,31536e6),r(4,6048e5),r(6,864e5),r(8,36e5),r(10,6e4),r(12,1e3),r(14,1),n},mt=e=>{let t=e,a="";if(0===t)return"0s";const n=(e,n,r)=>{if(r&&t%n!==0)return;const o=Math.floor(t/n);o>0&&(a+="".concat(o).concat(e),t-=o*n)};return n("y",31536e6,!0),n("w",6048e5,!0),n("d",864e5,!1),n("h",36e5,!1),n("m",6e4,!1),n("s",1e3,!1),n("ms",1,!1),a};function ut(e){return q.a.utc(e).valueOf()}const ht=e=>{const t=e<0?"-":"",a=e<0?-1*e:e,n=q.a.duration(a,"ms"),r=Math.floor(n.milliseconds()),o=Math.floor(n.seconds()),l=Math.floor(n.minutes()),i=Math.floor(n.hours()),s=Math.floor(n.asDays());return 0!==s?"".concat(t).concat(s,"d ").concat(i,"h ").concat(l,"m ").concat(o,"s"):0!==i?"".concat(t).concat(i,"h ").concat(l,"m ").concat(o,"s"):0!==l?"".concat(t).concat(l,"m ").concat(o,"s"):0!==o?"".concat(t).concat(o,".").concat(r,"s"):a>0?"".concat(t).concat(a.toFixed(3),"ms"):"0s"},pt=(e,t)=>{const a=ut(e);return a<0?"Never":ht(t-a)+" ago"},dt=/^g\d+\..+=.+$/,gt=e=>{if(""===e)return[];const t=e.substring(1).split("&");return t.reduce((e,a,n)=>{const r=e.length,o="g".concat(r,".");if(a.startsWith("".concat(o,"expr="))){const a=o.length;return[...e,{id:rt(),key:"".concat(r),options:t.slice(n).reduce((e,t)=>t.startsWith(o)&&dt.test(t)?{...e,...ft(t.substring(a))}:e,tt)}]}return e},[])},ft=e=>{const[t,a]=e.split("="),n=decodeURIComponent(a.replace(/\+/g," "));switch(t){case"expr":return{expr:n};case"tab":return{type:"0"===n?et.Graph:et.Table};case"stacked":return{stacked:"1"===n};case"show_exemplars":return{showExemplars:"1"===n};case"range_input":const e=ct(n);return lt(e)?{range:e}:{};case"end_input":case"moment_input":return{endTime:ut(n)};case"step_input":const t=parseInt(n);return t>0?{resolution:t}:{}}return{}},xt=e=>{let{key:t,options:a}=e;const n=(e=>(t,a)=>"g".concat(e,".").concat(t,"=").concat(encodeURIComponent(a)))(t),{expr:r,type:o,stacked:l,range:i,endTime:s,resolution:c,showExemplars:m}=a,u=!!lt(s)&&function(e){return q.a.utc(e).format("YYYY-MM-DD HH:mm:ss")}(s);return[n("expr",r),n("tab",o===et.Graph?0:1),n("stacked",l?1:0),n("show_exemplars",m?1:0),n("range_input",mt(i)),u?"".concat(n("end_input",u),"&").concat(n("moment_input",u)):"",lt(c)?n("step_input",c):""].filter(ot).join("&")},bt=e=>"../graph?g0.expr=".concat(encodeURIComponent(e),"&g0.tab=1&g0.stacked=0&g0.show_exemplars=0.g0.range_input=1h."),Et=(e,t)=>Object.entries(e).map(t),yt=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];t.filter(Boolean).forEach(e=>e.apply(null,a))}},vt={firing:"danger",pending:"warning",inactive:"success"},kt=e=>{let{annotations:t}=e;return l.a.createElement(o.Fragment,null,l.a.createElement("tr",null,l.a.createElement("td",{colSpan:4},l.a.createElement("h5",{className:"font-weight-bold"},"Annotations"))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:4},Object.entries(t).map((e,t)=>{let[a,n]=e;return l.a.createElement("div",{key:t},l.a.createElement("strong",null,a),l.a.createElement("div",null,n))}))))};var wt=e=>{let{rule:t,showAnnotations:a}=e;const[n,r]=Object(o.useState)(!1);return l.a.createElement(l.a.Fragment,null,l.a.createElement(P.a,{fade:!1,onClick:()=>r(!n),color:vt[t.state],style:{cursor:"pointer"}},l.a.createElement(C.a,{icon:n?T.g:T.i,fixedWidth:!0}),l.a.createElement("strong",null,t.name)," (","".concat(t.alerts.length," active"),")"),l.a.createElement(h.a,{isOpen:n,className:"mb-2"},n&&l.a.createElement(l.a.Fragment,null,l.a.createElement("pre",{className:"alert-cell"},l.a.createElement("code",null,l.a.createElement("div",null,"name: ",l.a.createElement(c.a,{to:bt('ALERTS{alertname="'.concat(t.name,'"}'))},t.name)),l.a.createElement("div",null,"expr: ",l.a.createElement(c.a,{to:bt(t.query)},t.query)),t.duration>0&&l.a.createElement("div",null,l.a.createElement("div",null,"for: ",mt(1e3*t.duration))),t.labels&&Object.keys(t.labels).length>0&&l.a.createElement("div",null,l.a.createElement("div",null,"labels:"),Object.entries(t.labels).map(e=>{let[t,a]=e;return l.a.createElement("div",{className:"ml-4",key:t},t,": ",a)})),t.annotations&&Object.keys(t.annotations).length>0&&l.a.createElement("div",null,l.a.createElement("div",null,"annotations:"),Object.entries(t.annotations).map(e=>{let[t,a]=e;return l.a.createElement("div",{className:"ml-4",key:t},t,": ",a)})))),t.alerts.length>0&&l.a.createElement(W.a,{bordered:!0,size:"sm"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Labels"),l.a.createElement("th",null,"State"),l.a.createElement("th",null,"Active Since"),l.a.createElement("th",null,"Value"))),l.a.createElement("tbody",null,t.alerts.map((e,t)=>{return l.a.createElement(o.Fragment,{key:t},l.a.createElement("tr",null,l.a.createElement("td",{style:{verticalAlign:"middle"}},Object.entries(e.labels).map((e,t)=>{let[a,n]=e;return l.a.createElement(A.a,{key:t,color:"primary",className:"mr-1"},a,"=",n)})),l.a.createElement("td",null,l.a.createElement("h5",{className:"m-0"},l.a.createElement(A.a,{color:vt[e.state]+" text-uppercase",className:"px-3"},e.state))),l.a.createElement("td",null,e.activeAt),l.a.createElement("td",null,(n=e.value,isNaN(Number(n))?n:Number(n)))),a&&l.a.createElement(kt,{annotations:e.annotations}));var n}))))))},St=a(270),Ct=a(271);var Tt=Object(o.memo)(e=>{let{children:t,wrapperStyles:a,id:n,...r}=e;return l.a.createElement(St.a,{className:"custom-control custom-checkbox",style:a},l.a.createElement(K.a,Object.assign({},r,{id:n,type:"checkbox",className:"custom-control-input"})),l.a.createElement(Ct.a,{style:{userSelect:"none"},className:"custom-control-label",for:n},t))});function Mt(e,t){const a=JSON.parse(localStorage.getItem(e)||JSON.stringify(t)),[n,r]=Object(o.useState)(a);return Object(o.useEffect)(()=>{const t=JSON.stringify(n);localStorage.setItem(e,t)},[e,n]),[n,r]}const Nt=[["inactive","success"],["pending","warning"],["firing","danger"]],Ot=e=>{let{groups:t=[],statsCount:a}=e;const[n,r]=Mt("alerts-status-filter",{firing:!0,pending:!0,inactive:!0}),[i,s]=Mt("alerts-annotations-status",{checked:!1});return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"d-flex togglers-wrapper"},Nt.map(e=>{let[t,o]=e;return l.a.createElement(Tt,{key:t,wrapperStyles:{marginRight:10},checked:n[t],id:"".concat(t,"-toggler"),onChange:(i=t,()=>{r({...n,[i]:!n[i]})})},l.a.createElement(A.a,{color:o,className:"text-capitalize"},t," (",a[t],")"));var i}),l.a.createElement(Tt,{wrapperStyles:{marginLeft:"auto"},checked:i.checked,id:"show-annotations-toggler",onChange:e=>{let{target:t}=e;return s({checked:t.checked})}},l.a.createElement("span",{style:{fontSize:"0.9rem",lineHeight:1.9}},"Show annotations"))),t.map((e,t)=>e.rules.some(e=>n[e.state])?l.a.createElement(o.Fragment,{key:t},l.a.createElement(Lt,{rules:e.rules},e.file," > ",e.name),e.rules.map((e,t)=>n[e.state]&&l.a.createElement(wt,{key:e.name+t,showAnnotations:i.checked,rule:e}))):null))},Lt=e=>{let{rules:t,children:a}=e;const n=t.reduce((e,t)=>({...e,[t.state]:e[t.state]+t.alerts.length}),{firing:0,pending:0});return l.a.createElement("div",{className:"group-info border rounded-sm",style:{lineHeight:1.1}},a,l.a.createElement("div",{className:"badges-wrapper"},lt(n.inactive)&&l.a.createElement(A.a,{color:"success"},"inactive"),n.pending>0&&l.a.createElement(A.a,{color:"warning"},"pending (",n.pending,")"),n.firing>0&&l.a.createElement(A.a,{color:"danger"},"firing (",n.firing,")")))};Ot.displayName="Alerts";const It=j(Ot);var _t=()=>{const e=v(),{response:t,error:a,isLoading:n}=D("".concat(e,"/").concat("api/v1","/rules?type=alert")),r={inactive:0,pending:0,firing:0};return t.data&&t.data.groups&&t.data.groups.forEach(e=>e.rules.forEach(e=>r[e.state]++)),l.a.createElement(It,Object.assign({},t.data,{statsCount:r,error:a,isLoading:n}))},Rt=a(137),zt=a.n(Rt);const Dt=e=>{let{yaml:t}=e;return l.a.createElement("pre",{className:"config-yaml"},t)};Dt.displayName="Config";const Ft=j(Dt),Pt=e=>{let{error:t,data:a}=e;const[n,r]=Object(o.useState)(!1),i=a&&a.yaml;return l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,"Configuration\xa0",l.a.createElement(zt.a,{text:i,onCopy:(e,t)=>{r(t),setTimeout(r,1500)}},l.a.createElement(S.a,{color:"light",disabled:!i},n?"Copied":"Copy to clipboard"))),l.a.createElement(Ft,{error:t,isLoading:!i,yaml:i}))};var jt=()=>{const e=v(),{response:t,error:a}=D("".concat(e,"/").concat("api/v1","/status/config"));return l.a.createElement(Pt,{error:a,data:t.data})};const At=new oe.Fuzzy({pre:"<strong>",post:"</strong>",shouldSort:!0}),Wt=e=>{let{data:t={}}=e;const[a,n]=Object(o.useState)(""),[r,i]=Object(o.useState)({name:"Flag",alpha:!0,focused:!0}),s=Object.entries(t).sort((c="Flag"===r.name,m=!r.alpha,(e,t)=>{let[a,n]=e,[r,o]=t;const l=c?r:o;return(m?-1:1)*(c?a:n).localeCompare(l)})).map(e=>{let[t,a]=e;return"--".concat(t).concat("||").concat(a)});var c,m;let u=s;return a.length>0&&(u=At.filter(a,s).map(e=>e.rendered)),l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,"Command-Line Flags"),l.a.createElement(Q.a,null,l.a.createElement(K.a,{autoFocus:!0,placeholder:"Filter by flag name or value...",className:"my-3",value:a,onChange:e=>{let{target:t}=e;n(t.value)}})),l.a.createElement(W.a,{bordered:!0,size:"sm",striped:!0,hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,["Flag","Value"].map(e=>{return l.a.createElement("td",{key:e,className:"px-4 ".concat(e),style:{width:"50%"},onClick:()=>i({name:e,focused:!0,alpha:r.name!==e||!r.alpha})},l.a.createElement("span",{className:"mr-2"},e),l.a.createElement(C.a,{icon:(t=r.name!==e?void 0:r.alpha,void 0===t?T.o:t?T.p:T.q)}));var t}))),l.a.createElement("tbody",null,u.map(e=>{const[t,a]=e.split("||"),n={allowedTags:["strong"]};return l.a.createElement("tr",{key:t},l.a.createElement("td",{className:"flag-item"},l.a.createElement("span",{dangerouslySetInnerHTML:{__html:Z()(t,n)}})),l.a.createElement("td",{className:"flag-value"},l.a.createElement("span",{dangerouslySetInnerHTML:{__html:Z()(a,n)}})))}))))},Ht=j(Wt);Wt.displayName="Flags";var qt=()=>{const e=v(),{response:t,error:a,isLoading:n}=D("".concat(e,"/").concat("api/v1","/status/flags"));return l.a.createElement(Ht,{data:t.data,error:a,isLoading:n})},Ut=a(36);const Bt=e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("strong",null,e.title,":"),l.a.createElement(c.a,{className:"ml-4",to:bt(e.expr)},e.text),l.a.createElement("br",null)),Vt=j(e=>{let{response:t}=e;const a=e=>{switch(e){case"ok":return"success";case"err":return"danger";case"unknown":return"warning"}};if(t.data){const e=t.data.groups;return l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,"Rules"),e.map((e,t)=>l.a.createElement(W.a,{bordered:!0,key:t},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("td",{colSpan:3},l.a.createElement("a",{href:"#"+e.name},l.a.createElement("h4",{id:e.name,className:"text-break"},e.name))),l.a.createElement("td",null,l.a.createElement("h4",null,pt(e.lastEvaluation,Object(Ut.now)()))),l.a.createElement("td",null,l.a.createElement("h4",null,ht(1e3*parseFloat(e.evaluationTime)))))),l.a.createElement("tbody",null,l.a.createElement("tr",{className:"font-weight-bold"},l.a.createElement("td",null,"Rule"),l.a.createElement("td",null,"State"),l.a.createElement("td",null,"Error"),l.a.createElement("td",null,"Last Evaluation"),l.a.createElement("td",null,"Evaluation Time")),e.rules.map((e,t)=>l.a.createElement("tr",{key:t},l.a.createElement("td",{className:"rule-cell"},e.alerts?l.a.createElement(Bt,{title:"alert",text:e.name,expr:'ALERTS{alertname="'.concat(e.name,'"}')}):l.a.createElement(Bt,{title:"record",text:e.name,expr:e.name}),l.a.createElement(Bt,{title:"expr",text:e.query,expr:e.query}),e.duration>0&&l.a.createElement("div",null,l.a.createElement("strong",null,"for:")," ",mt(1e3*e.duration)),e.labels&&Object.keys(e.labels).length>0&&l.a.createElement("div",null,l.a.createElement("strong",null,"labels:"),Object.entries(e.labels).map(e=>{let[t,a]=e;return l.a.createElement("div",{className:"ml-4",key:t},t,": ",a)})),e.alerts&&e.annotations&&Object.keys(e.annotations).length>0&&l.a.createElement("div",null,l.a.createElement("strong",null,"annotations:"),Object.entries(e.annotations).map(e=>{let[t,a]=e;return l.a.createElement("div",{className:"ml-4",key:t},t,": ",a)}))),l.a.createElement("td",null,l.a.createElement(A.a,{color:a(e.health)},e.health.toUpperCase())),l.a.createElement("td",null,e.lastError?l.a.createElement(P.a,{color:"danger"},e.lastError):null),l.a.createElement("td",null,pt(e.lastEvaluation,Object(Ut.now)())),l.a.createElement("td",null,ht(1e3*parseFloat(e.evaluationTime)))))))))}return null});var Yt=()=>{const e=v(),{response:t,error:a,isLoading:n}=D("".concat(e,"/").concat("api/v1","/rules"));return l.a.createElement(Vt,{response:t,error:a,isLoading:n})};const Qt=e=>{let{children:t,event:a,showMore:n}=e;return l.a.createElement("h3",null,t,l.a.createElement(S.a,{size:"xs",onClick:a,style:{padding:"0.3em 0.3em 0.25em 0.3em",fontSize:"0.375em",marginLeft:"1em",verticalAlign:"baseline"},color:"primary"},"show ",n?"less":"more"))},Gt=e=>Object.entries(e).map(e=>{let[t,a]=e;return l.a.createElement("div",{key:t},l.a.createElement(A.a,{color:"primary",className:"mr-1"},"".concat(t,'="').concat(a,'"')))}),$t=e=>{let{value:t,name:a}=e;const[n,r]=Object(o.useState)(!1);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement(Qt,{event:()=>{r(!n)},showMore:n},l.a.createElement("span",{className:"target-head"},a))),n?l.a.createElement(W.a,{size:"sm",bordered:!0,hover:!0,striped:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Discovered Labels"),l.a.createElement("th",null,"Target Labels"))),l.a.createElement("tbody",null,t.map((e,a)=>l.a.createElement("tr",{key:a},l.a.createElement("td",null,Gt(t[a].discoveredLabels)),t[a].isDropped?l.a.createElement("td",{style:{fontWeight:"bold"}},"Dropped"):l.a.createElement("td",null,Gt(t[a].labels)))))):null)},Kt=e=>{let{activeTargets:t,droppedTargets:a}=e;const n=((e,t)=>{const a={};for(const n of e){const{scrapePool:e}=n;a[e]||(a[e]={total:0,active:0}),a[e].total++,a[e].active++}for(const n of t){const{job:e}=n.discoveredLabels;a[e]||(a[e]={total:0,active:0}),a[e].total++}return a})(t,a),r=((e,t)=>{const a={};for(const n of e){const e=n.scrapePool;a[e]||(a[e]=[]),a[e].push({discoveredLabels:n.discoveredLabels,labels:n.labels,isDropped:!1})}for(const n of t){const{job:e}=n.discoveredLabels;a[e]||(a[e]=[]),a[e].push({discoveredLabels:n.discoveredLabels,isDropped:!0,labels:{}})}return a})(t,a);return l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,"Service Discovery"),l.a.createElement("ul",null,Et(n,e=>{let[t,a]=e;return l.a.createElement("li",{key:t},l.a.createElement("a",{href:"#"+t},t," (",a.active," / ",a.total," active targets)"))})),l.a.createElement("hr",null),Et(r,e=>{let[t,a]=e;return l.a.createElement($t,{value:a,name:t,key:t})}))};Kt.displayName="ServiceDiscoveryContent";const Jt=j(Kt);var Xt=()=>{const e=v(),{response:t,error:a,isLoading:n}=D("".concat(e,"/").concat("api/v1","/targets"));return l.a.createElement(Jt,Object.assign({},t.data,{error:a,isLoading:n,componentTitle:"Service Discovery information"}))};const Zt={startTime:{title:"Start time",customizeValue:e=>new Date(e).toUTCString()},CWD:{title:"Working directory"},reloadConfigSuccess:{title:"Configuration reload",customizeValue:e=>e?"Successful":"Unsuccessful"},lastConfigTime:{title:"Last successful configuration reload"},corruptionCount:{title:"WAL corruptions"},goroutineCount:{title:"Goroutines"},storageRetention:{title:"Storage retention"},activeAlertmanagers:{customRow:!0,customizeValue:(e,t)=>l.a.createElement(o.Fragment,{key:t},l.a.createElement("tr",null,l.a.createElement("th",null,"Endpoint")),e.map(e=>{let{url:t}=e;const{origin:a,pathname:n}=new URL(t);return l.a.createElement("tr",{key:t},l.a.createElement("td",null,l.a.createElement("a",{href:t},a),n))}))},droppedAlertmanagers:{skip:!0}},ea=e=>{let{data:t,title:a}=e;return l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,a),l.a.createElement(W.a,{className:"h-auto",size:"sm",bordered:!0,striped:!0},l.a.createElement("tbody",null,Object.entries(t).map(e=>{let[t,a]=e;const{title:n=t,customizeValue:r=(e=>e),customRow:o,skip:i}=Zt[t]||{};return i?null:o?r(a,t):l.a.createElement("tr",{key:t},l.a.createElement("th",{className:"capitalize-title",style:{width:"35%"}},n),l.a.createElement("td",{className:"text-break"},r(a,n)))}))))},ta=j(ea);ea.displayName="Status";var aa=()=>{const e=v(),t="".concat(e,"/").concat("api/v1");return l.a.createElement(l.a.Fragment,null,[{fetchResult:D("".concat(t,"/status/runtimeinfo")),title:"Runtime Information"},{fetchResult:D("".concat(t,"/status/buildinfo")),title:"Build Information"},{fetchResult:D("".concat(t,"/alertmanagers")),title:"Alertmanagers"}].map(e=>{let{fetchResult:t,title:a}=e;const{response:n,isLoading:r,error:o}=t;return l.a.createElement(ta,{key:a,data:n.data,title:a,isLoading:r,error:o,componentTitle:a})}))};var na=e=>{let{filter:t,setFilter:a,expanded:n,setExpanded:r}=e;const{showHealthy:o}=t,i=Object.values(n).every(e=>e),s={all:{active:o,className:"all",color:"primary",onClick:()=>a({...t,showHealthy:!0})},unhealthy:{active:!o,className:"unhealthy",color:"primary",onClick:()=>a({...t,showHealthy:!1})},expansionState:{active:!1,className:"expansion",color:"primary",onClick:()=>{return r((e=!i,Object.keys(n).reduce((t,a)=>({...t,[a]:e}),{})));var e}}};return l.a.createElement(w.a,{className:"mt-3 mb-4"},l.a.createElement(S.a,s.all,"All"),l.a.createElement(S.a,s.unhealthy,"Unhealthy"),l.a.createElement(S.a,s.expansionState,i?"Collapse All":"Expand All"))};var ra=a(31),oa=a.n(ra);var la=e=>{let t,{endpoint:a,globalUrl:n}=e;try{t=new URL(a)}catch(m){return l.a.createElement(P.a,{color:"danger"},l.a.createElement("strong",null,"Error:")," ",m.message)}const{host:r,pathname:o,protocol:i,searchParams:s}=t,c=Array.from(s.entries());return l.a.createElement(l.a.Fragment,null,l.a.createElement("a",{href:n},"".concat(i,"//").concat(r).concat(o)),c.length>0?l.a.createElement("br",null):null,c.map(e=>{let[t,a]=e;return l.a.createElement(A.a,{color:"primary",className:"mr-1",key:"".concat(t,"/").concat(a)},"".concat(t,'="').concat(a,'"'))}))},ia=a(274),sa=(a(241),a(138)),ca=a.n(sa);var ma=e=>{let{discoveredLabels:t,labels:a,idx:n,scrapePool:r}=e;const[i,s]=Object(o.useState)(!1),c="series-labels-".concat(r,"-").concat(n);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:c,className:"series-labels-container"},Object.keys(a).map(e=>l.a.createElement(A.a,{color:"primary",className:"mr-1",key:e},"".concat(e,'="').concat(a[e],'"')))),l.a.createElement(ia.a,{isOpen:i,target:CSS.escape(c),toggle:()=>s(!i),style:{maxWidth:"none",textAlign:"left"}},l.a.createElement("b",null,"Before relabeling:"),(e=>Object.keys(e).map(t=>"".concat(t,'="').concat(e[t],'"')))(t).map((e,t)=>l.a.createElement(o.Fragment,{key:t},l.a.createElement("br",null),l.a.createElement("span",{className:ca.a.discovered},e)))))};const ua=["Endpoint","State","Labels","Last Scrape","Scrape Duration","Error"];var ha=e=>{let{scrapePool:t,targetGroup:a,expanded:n,toggleExpanded:r}=e;const o=a.upCount<a.targets.length?"danger":"normal",i="pool-".concat(t),s={href:"#".concat(i),id:i};return l.a.createElement("div",{className:oa.a.container},l.a.createElement(Qt,{event:r,showMore:n},l.a.createElement("a",Object.assign({className:oa.a[o]},s),"".concat(t," (").concat(a.upCount,"/").concat(a.targets.length," up)"))),l.a.createElement(h.a,{isOpen:n},l.a.createElement(W.a,{className:oa.a.table,size:"sm",bordered:!0,hover:!0,striped:!0},l.a.createElement("thead",null,l.a.createElement("tr",{key:"header"},ua.map(e=>l.a.createElement("th",{key:e},e)))),l.a.createElement("tbody",null,a.targets.map((e,t)=>{const{discoveredLabels:a,labels:n,scrapePool:r,scrapeUrl:o,globalUrl:i,lastError:s,lastScrape:c,lastScrapeDuration:m,health:u}=e,h=(e=>{switch(e.toLowerCase()){case"up":return"success";case"down":return"danger";default:return"warning"}})(u);return l.a.createElement("tr",{key:o},l.a.createElement("td",{className:oa.a.endpoint},l.a.createElement(la,{endpoint:o,globalUrl:i})),l.a.createElement("td",{className:oa.a.state},l.a.createElement(A.a,{color:h},u.toUpperCase())),l.a.createElement("td",{className:oa.a.labels},l.a.createElement(ma,{discoveredLabels:a,labels:n,scrapePool:r,idx:t})),l.a.createElement("td",{className:oa.a["last-scrape"]},pt(c,Object(Ut.now)())),l.a.createElement("td",{className:oa.a["scrape-duration"]},ht(1e3*m)),l.a.createElement("td",{className:oa.a.errors},s?l.a.createElement("span",{className:"text-danger"},s):null))})))))};const pa=e=>{let{activeTargets:t}=e;const a=t.reduce((e,t)=>{const{health:a,scrapePool:n}=t,r="up"===a.toLowerCase()?1:0;return e[n]||(e[n]={upCount:0,targets:[]}),e[n].targets.push(t),e[n].upCount+=r,e},{});const[n,r]=Mt("targets-page-filter",{showHealthy:!0,showUnhealthy:!0}),o=Object.keys(a).reduce((e,t)=>({...e,[t]:!0}),{}),[i,s]=Mt("targets-page-expansion-state",o),{showHealthy:c,showUnhealthy:m}=n;return l.a.createElement(l.a.Fragment,null,l.a.createElement(na,{filter:n,setFilter:r,expanded:i,setExpanded:s}),Object.keys(a).filter(e=>{const t=a[e],n=t.upCount===t.targets.length;return n&&c||!n&&m}).map(e=>l.a.createElement(ha,{key:e,scrapePool:e,targetGroup:a[e],expanded:i[e],toggleExpanded:()=>s({...i,[e]:!i[e]})})))};pa.displayName="ScrapePoolContent";const da=j(pa);var ga=()=>{const e=v(),{response:t,error:a,isLoading:n}=D("".concat(e,"/").concat("api/v1","/targets?state=active")),{status:r}=t,o="success"!==r&&"start fetching"!==r;return l.a.createElement(da,Object.assign({},t.data,{error:o?new Error(r):a,isLoading:n,componentTitle:"Targets information"}))};var fa=()=>l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,"Targets"),l.a.createElement(ga,null));const xa=e=>{const t="?".concat(e.map(xt).join("&"));window.history.pushState({},"",t)},ba=e=>{let{metrics:t=[],useLocalTime:a,useExperimentalEditor:n,queryHistoryEnabled:r,enableAutocomplete:i,enableHighlighting:s,enableLinter:c,...m}=e;const[u,h]=Object(o.useState)(m.panels),[p,d]=Mt("history",[]);Object(o.useEffect)(()=>{!u.length&&f(),window.onpopstate=()=>{const e=gt(window.location.search);e.length>0&&h(e)}},[]);const g=e=>{if(-1!==t.indexOf(e)||!e.length)return;const a=p.reduce((t,a)=>a===e?t:[...t,a],[e]);d(a.slice(0,50))},f=()=>{yt(h,xa)([...u,{id:rt(),key:"".concat(u.length),options:tt}])},x=v();return l.a.createElement(l.a.Fragment,null,u.map(e=>{let{id:o,options:m}=e;return l.a.createElement(nt,{pathPrefix:x,onExecuteQuery:g,key:o,id:o,options:m,onOptionsChanged:e=>yt(h,xa)(u.map(t=>o===t.id?{...t,options:e}:t)),removePanel:()=>yt(h,xa)(u.reduce((e,t)=>t.id!==o?[...e,{...t,key:"".concat(e.length)}]:e,[])),useExperimentalEditor:n,useLocalTime:a,metricNames:t,pastQueries:r?p:[],enableAutocomplete:i,enableHighlighting:s,enableLinter:c})}),l.a.createElement(S.a,{className:"d-block mb-3",color:"primary",onClick:f},"Add Panel"))};var Ea=()=>{const[e,t]=Object(o.useState)(0),[a,n]=Mt("use-new-editor",!0),[r,i]=Mt("use-local-time",!1),[s,c]=Mt("enable-query-history",!1),[m,u]=Mt("enable-metric-autocomplete",!0),[h,p]=Mt("enable-syntax-highlighting",!0),[d,g]=Mt("enable-linter",!0),f=v(),{response:x,error:b}=D("".concat(f,"/").concat("api/v1","/label/__name__/values")),E=(new Date).getTime()/1e3,{response:y,error:k}=D("".concat(f,"/").concat("api/v1","/query?query=time()"));return Object(o.useEffect)(()=>{if(y.data){const e=y.data.result[0];t(Math.abs(E-e))}},[y.data]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"clearfix"},l.a.createElement("div",{className:"float-left"},l.a.createElement(Tt,{wrapperStyles:{display:"inline-block"},id:"use-local-time-checkbox",onChange:e=>{let{target:t}=e;return i(t.checked)},defaultChecked:r},"Use local time"),l.a.createElement(Tt,{wrapperStyles:{marginLeft:20,display:"inline-block"},id:"query-history-checkbox",onChange:e=>{let{target:t}=e;return c(t.checked)},defaultChecked:s},"Enable query history"),l.a.createElement(Tt,{wrapperStyles:{marginLeft:20,display:"inline-block"},id:"autocomplete-checkbox",onChange:e=>{let{target:t}=e;return u(t.checked)},defaultChecked:m},"Enable autocomplete")),l.a.createElement("div",{className:"float-right"},l.a.createElement(Tt,{wrapperStyles:{display:"inline-block"},id:"use-experimental-editor-checkbox",onChange:e=>{let{target:t}=e;return n(t.checked)},defaultChecked:a},"Use experimental editor"),l.a.createElement(Tt,{wrapperStyles:{marginLeft:20,display:"inline-block"},id:"highlighting-checkbox",onChange:e=>{let{target:t}=e;return p(t.checked)},defaultChecked:h,disabled:!a},"Enable highlighting"),l.a.createElement(Tt,{wrapperStyles:{marginLeft:20,display:"inline-block"},id:"linter-checkbox",onChange:e=>{let{target:t}=e;return g(t.checked)},defaultChecked:d,disabled:!a},"Enable linter"))),(e>30||k)&&l.a.createElement(P.a,{color:"danger"},l.a.createElement("strong",null,"Warning: "),k&&"Unexpected response status when fetching server time: ".concat(k.message),e>=30&&"Error fetching server time: Detected ".concat(e," seconds time difference between your browser and the server. Prometheus relies on accurate time and time drift might cause unexpected query results.")),b&&l.a.createElement(P.a,{color:"danger"},l.a.createElement("strong",null,"Warning: "),"Error fetching metrics list: Unexpected response status when fetching metric names: ",b.message),l.a.createElement(ba,{panels:gt(window.location.search),useLocalTime:r,metrics:x.data,useExperimentalEditor:a,queryHistoryEnabled:s,enableAutocomplete:m,enableHighlighting:h,enableLinter:d}))};const ya=e=>{let{headStats:t,labelValueCountByLabelName:a,seriesCountByMetricName:n,memoryInBytesByLabelName:r,seriesCountByLabelValuePair:o}=e;const i=e=>{try{return"".concat(new Date(e).toISOString()," (").concat(e,")")}catch{return 0===c?"No datapoints yet":"Error parsing time (".concat(e,")")}},{chunkCount:s,numSeries:c,numLabelPairs:m,minTime:u,maxTime:h}=t,p=[{header:"Number of Series",value:c},{header:"Number of Chunks",value:s},{header:"Number of Label Pairs",value:m},{header:"Current Min Time",value:"".concat(i(u))},{header:"Current Max Time",value:"".concat(i(h))}];return l.a.createElement("div",null,l.a.createElement("h2",null,"TSDB Status"),l.a.createElement("h3",{className:"p-2"},"Head Stats"),l.a.createElement("div",{className:"p-2"},l.a.createElement(W.a,{bordered:!0,size:"sm",striped:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,p.map(e=>{let{header:t}=e;return l.a.createElement("th",{key:t},t)}))),l.a.createElement("tbody",null,l.a.createElement("tr",null,p.map(e=>{let{header:t,value:a}=e;return l.a.createElement("td",{key:t},a)}))))),l.a.createElement("h3",{className:"p-2"},"Head Cardinality Stats"),[{title:"Top 10 label names with value count",stats:a},{title:"Top 10 series count by metric names",stats:n},{title:"Top 10 label names with high memory usage",unit:"Bytes",stats:r},{title:"Top 10 series count by label value pairs",stats:o}].map(e=>{let{title:t,unit:a="Count",stats:n}=e;return l.a.createElement("div",{className:"p-2",key:t},l.a.createElement("h3",null,t),l.a.createElement(W.a,{bordered:!0,size:"sm",striped:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,a))),l.a.createElement("tbody",null,n.map(e=>{let{name:t,value:a}=e;return l.a.createElement("tr",{key:t},l.a.createElement("td",null,t),l.a.createElement("td",null,a))}))))}))};ya.displayName="TSDBStatusContent";const va=j(ya);var ka=()=>{const e=v(),{response:t,error:a,isLoading:n}=D("".concat(e,"/").concat("api/v1","/status/tsdb"));return l.a.createElement(va,Object.assign({error:a,isLoading:n},t.data,{componentTitle:"TSDB Status information"}))},wa=a(272);const Sa=e=>{let{status:t,isUnexpected:a}=e;return a?l.a.createElement(P.a,{color:"danger"},l.a.createElement("strong",null,"Error:")," Server is not responding"):l.a.createElement("div",{className:"text-center m-3"},l.a.createElement("div",{className:"m-4"},l.a.createElement("h2",null,"Starting up..."),(null===t||void 0===t?void 0:t.max)>0?l.a.createElement("div",null,l.a.createElement("p",null,"Replaying WAL (",null===t||void 0===t?void 0:t.current,"/",null===t||void 0===t?void 0:t.max,")"),l.a.createElement(wa.a,{animated:!0,value:(null===t||void 0===t?void 0:t.current)-(null===t||void 0===t?void 0:t.min)+1,min:null===t||void 0===t?void 0:t.min,max:(null===t||void 0===t?void 0:t.max)-(null===t||void 0===t?void 0:t.min)+1,color:(null===t||void 0===t?void 0:t.max)===(null===t||void 0===t?void 0:t.current)?"success":void 0,style:{width:"10%",margin:"auto"}})):null))},Ca=e=>t=>{let{...a}=t;const n=v(),{ready:r,walReplayStatus:i,isUnexpected:s}=((e,t)=>{const[a,n]=Object(o.useState)(!1),[r,l]=Object(o.useState)(!1),[i,s]=Object(o.useState)({});return Object(o.useEffect)(()=>{if(!F){let a=!0;const r=async()=>{try{let r=await fetch("".concat(e,"/-/ready"),{cache:"no-store",credentials:"same-origin",...t});if(200===r.status)a&&n(!0),F=!0,clearInterval(o);else{if(503!==r.status)return a&&l(!0),void clearInterval(o);if(a&&l(!1),r=await fetch("".concat(e,"/").concat("api/v1","/status/walreplay"),{cache:"no-store",credentials:"same-origin"}),r.ok){const e=await r.json();a&&s(e)}}}catch(r){return a&&l(!0),void clearInterval(o)}};r();const o=setInterval(r,1e3);return()=>{clearInterval(o),a=!1}}n(!0)},[e,t]),{ready:a,isUnexpected:r,walReplayStatus:i}})(n);return r||s?l.a.createElement(e,a):l.a.createElement(Sa,{isUnexpected:s,status:i.data})},Ta=Ca(_t),Ma=Ca(jt),Na=Ca(qt),Oa=Ca(Yt),La=Ca(Xt),Ia=Ca(aa),_a=Ca(ka),Ra=Ca(fa),za=Ca(Ea);var Da=e=>{let{consolesLink:t}=e,a=window.location.pathname;const n=["/graph","/alerts","/status","/tsdb-status","/flags","/config","/rules","/targets","/service-discovery"];if(a.endsWith("/")&&(a=a.slice(0,-1)),a.length>1)for(let l=0;l<n.length;l++)if(a.endsWith(n[l])){a=a.slice(0,a.length-n[l].length);break}const[r,o]=Mt("user-prefers-color-scheme","auto"),i=z()("(prefers-color-scheme)"),s=z()("(prefers-color-scheme: dark)");let m;return m="auto"!==r?r:i&&s?"dark":"light",l.a.createElement(M.Provider,{value:{theme:m,userPreference:r,setTheme:e=>o(e)}},l.a.createElement(O,null),l.a.createElement(y.Provider,{value:a},l.a.createElement(I,{consolesLink:t}),l.a.createElement(_.a,{fluid:!0,style:{paddingTop:70}},l.a.createElement(c.c,{basepath:"".concat(a)},l.a.createElement(c.b,{from:"/",to:"graph",noThrow:!0}),l.a.createElement(za,{path:"/graph"}),l.a.createElement(Ta,{path:"/alerts"}),l.a.createElement(Ma,{path:"/config"}),l.a.createElement(Na,{path:"/flags"}),l.a.createElement(Oa,{path:"/rules"}),l.a.createElement(La,{path:"/service-discovery"}),l.a.createElement(Ia,{path:"/status"}),l.a.createElement(_a,{path:"/tsdb-status"}),l.a.createElement(Ra,{path:"/targets"})))))};a(242),a(243),a(244),a(245);let Fa=GLOBAL_CONSOLES_LINK;"CONSOLES_LINK_PLACEHOLDER"!==GLOBAL_CONSOLES_LINK&&""!==GLOBAL_CONSOLES_LINK&&lt(GLOBAL_CONSOLES_LINK)||(Fa=null),s.a.render(l.a.createElement(Da,{consolesLink:Fa}),document.getElementById("root"))},31:function(e,t,a){e.exports={container:"ScrapePoolPanel_container__2macm",title:"ScrapePoolPanel_title__1ppGj",normal:"ScrapePoolPanel_normal__1AuiN ScrapePoolPanel_title__1ppGj",danger:"ScrapePoolPanel_danger__ZoHk6 ScrapePoolPanel_title__1ppGj",table:"ScrapePoolPanel_table__1Sdr1",cell:"ScrapePoolPanel_cell__3LVb_",endpoint:"ScrapePoolPanel_endpoint__1N4gx ScrapePoolPanel_cell__3LVb_",labels:"ScrapePoolPanel_labels__1VVxb ScrapePoolPanel_cell__3LVb_",state:"ScrapePoolPanel_state__2BqDx ScrapePoolPanel_cell__3LVb_","last-scrape":"ScrapePoolPanel_last-scrape__192VK ScrapePoolPanel_cell__3LVb_",errors:"ScrapePoolPanel_errors__2JBvY ScrapePoolPanel_cell__3LVb_"}},69:function(e,t){},70:function(e,t){}},[[143,1,2]]]);
//# sourceMappingURL=main.22c39560.chunk.js.map